{"version":3,"sources":["components/forms/widgets/biometricKycComponent/styles.js","components/forms/hooks/useWindowDimensions.js","components/forms/widgets/onBoardingAgreement/index.js","components/forms/widgets/biometricKycComponent/continueFromMobile.js"],"names":["Button","styled","button","getWindowDimensions","innerWidth","width","innerHeight","height","window","useWindowDimensions","windowDimensions","setWindowDimensions","useState","useEffect","handleResize","addEventListener","func","wait","timeout","context","this","args","arguments","later","apply","clearTimeout","setTimeout","debounce","removeEventListener","OnBoardingAgreement","handleAction","cameraAvailable","continueFromMobile","setContinueFromMobile","isDesktopDevice","UseWindowDimensions","console","log","Layout","OnBoardingContainer","src","getCdnPath","alt","Content","ButtonContainer","onClick","className","disabled","type","div","ContinueFromMobile","qrCode","setQrCode","coinsendaServices","useCoinsendaServices","createUri","async","refreshToken","getUserToken","userToken","getJWToken","code","QRCode","toDataURL","text","err","error","generateQR","getHostName","CameraNotAvailableContainer","CameraStatus","href","target","rel","ImagesContainer"],"mappings":"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","file":"static/js/8.1a5bc54f.chunk.js","sourcesContent":["import styled from \"styled-components\";\n\n\nexport const Button = styled.button`\n      cursor:pointer;\n      width: auto;\n      min-width:230px;\n      padding: 15px 20px;\n      background:#0198ff;\n      border-style: none;\n      border-radius:4px;\n      color:white;\n      font-size: 1rem;\n      font-weight: 600;\n      &.disabled{\n        background: gainsboro;\n      }\n      &.secondary{\n        background: none;\n        color: #0198ff;\n        &.disabled{\n            color:gainsboro;\n        }\n      }\n\n      &.center-end{\n        justify-self: center;\n        align-self: flex-end;\n      }\n    \n` ","import { useState, useEffect } from \"react\";\n\nfunction getWindowDimensions() {\n  const { innerWidth: width, innerHeight: height } = window;\n  return {\n    width,\n    height,\n  };\n}\n\nexport default function useWindowDimensions() {\n  const [windowDimensions, setWindowDimensions] = useState(\n    getWindowDimensions()\n  );\n\n  useEffect(() => {\n    function handleResize() {\n      setWindowDimensions(getWindowDimensions());\n    }\n\n    window.addEventListener(\"resize\", debounce(handleResize, 500));\n    return () => window.removeEventListener(\"resize\", handleResize);\n  }, []);\n\n  return [\n    windowDimensions.width > 900,\n    windowDimensions.width,\n    windowDimensions.height,\n  ];\n}\n\n\n\n\nexport function debounce(func, wait) {\n  //Previene over flows. Si el usuario en 1 seg da x cantidad de clicks solo ejecuta el último click\n  // Esto surgió porque, podía darse, presionar muchas teclas a la vez en cuestión de milisegundos\n  // Entonces, limite que solo reconozca la última acción en 100ms\n  let timeout;\n  return function () {\n    const context = this,\n      args = arguments;\n    const later = function () {\n      timeout = null;\n      func.apply(context, [...args, () => clearTimeout(timeout)]);\n    };\n\n    clearTimeout(timeout);\n    timeout = setTimeout(later, wait);\n  };\n}","import { useState } from \"react\"\nimport styled from \"styled-components\"\n// import FRecognition from '../../../../assets/recognition.gif'\nimport { getCdnPath } from '../../../../environment'\nimport UseWindowDimensions from '../../hooks/useWindowDimensions'\nimport ContinueFromMobile from '../biometricKycComponent/continueFromMobile'\nimport { Button } from '../biometricKycComponent/styles'\n\n\nconst OnBoardingAgreement = ({ handleAction, cameraAvailable }) => {\n\n    const [ continueFromMobile, setContinueFromMobile ] = useState(false)\n    const [ isDesktopDevice ] = UseWindowDimensions()\n    \n    console.log('||||||| isDesktopDevice ==> ', isDesktopDevice)\n    console.log('||||||| cameraAvailable ==> ', cameraAvailable)\n    \n    return(\n        <Layout>\n        {\n            continueFromMobile || cameraAvailable === false ?\n            <ContinueFromMobile\n                cameraAvailable={cameraAvailable}\n                setContinueFromMobile={setContinueFromMobile}\n            />\n            :\n            <OnBoardingContainer>\n                <h1 >Reconocimiento Facial</h1>\n                <img src={`${getCdnPath('assets')}recognition.gif`}  alt=\"\" width={250} height={200} />\n                <Content>\n                    <h3>Ahora confirmaremos tu identidad, sigue las instrucciones que aparecen en pantalla</h3>\n                    <h4>Recomendaciones importantes:</h4>\n                    <ul>\n                        <li>\n                            <p>Evita usar articulos en tu rostro(sombreros, gafas, gorras etc...).</p>\n                        </li>\n                        <li>\n                            <p>Haz el proceso en un espacio con suficiente iluminación.</p>\n                        </li>\n                        <li>\n                            <p>Completa este proceso desde tu celular.</p>\n                        </li>\n                    </ul>\n                </Content>\n                {\n                    isDesktopDevice ?\n                        <ButtonContainer>\n                            <Button onClick={() => setContinueFromMobile(true)} className={`center-end ${!cameraAvailable ? 'disabled' : ''}`} disabled={!cameraAvailable} type=\"button\">Continuar desde el celular</Button>\n                            <Button className={`center-end secondary ${!cameraAvailable ? 'disabled' : ''}`}  disabled={!cameraAvailable} onClick={handleAction} type=\"button\">Continuar desde este dispositivo</Button>\n                        </ButtonContainer>\n                        :\n                        <Button className=\"center-end\" onClick={handleAction} type=\"button\">Continuar</Button>\n                }\n            </OnBoardingContainer>\n        }\n        </Layout>\n    )\n}\n\n\n\n\nexport default OnBoardingAgreement\n\n\n\nconst ButtonContainer = styled.div`\n    column-gap: 20px;\n    display: grid;\n    grid-template-rows: 1fr;\n    grid-template-columns: auto auto;\n    max-width: 650px;\n    justify-self: center;\n   \n`\n\nconst Content = styled.div`\n    display: grid;\n    grid-template-rows: auto auto 1fr;\n    row-gap: 20px;\n    h4{\n        margin-bottom:0;\n    }\n\n    li {\n        margin: 0;\n        padding: 0px 35px;\n        list-style: none;\n        background-image: url(./check-mark.png);\n        background-repeat: no-repeat;\n        background-position: left center;\n        background-size: 20px;\n        height: 20px;\n    }\n\n`\n\n\n\nconst OnBoardingContainer = styled.div`\n    max-width: 780px;\n    padding: 70px 0;\n    min-height: calc(100vh - 140px);\n    display: grid;\n    grid-template-rows: 80px 200px;\n    row-gap:center;\n\n  img{\n      justify-self:center;\n  }\n  \n  h1{\n      text-align: center;\n      width:100%;\n  }\n\n  ul{\n        padding-left:0px;\n    }\n\n  @media (max-width: 768px) {\n   max-width: 780px;\n    padding: 30px 20px;\n    min-height: calc(100vh - 60px);\n    display: grid;\n    grid-template-rows: auto 200px 1fr auto;\n    h1{\n      font-size:1.5rem;\n    }\n    h3{\n      font-size:1rem;\n    }\n    ul{\n        padding-left:10px;\n    }\n    li{\n        padding: 0px 0 0 35px;\n        height:auto;\n    }\n  }\n`\n\n\nconst Layout = styled.div`\n  position:absolute;\n  top:0;\n  left:0;\n  z-index:2;\n  width:100vw;\n  height:100vh;\n  background: white;\n  display: flex;\n  justify-content: center;\n  align-items: flex-start;\n\n\n`\n\n\n\n\n","\nimport { useEffect, useState } from \"react\"\nimport styled from \"styled-components\"\nimport QRCode from 'qrcode'\nimport { Button } from './styles'\nimport { getHostName } from '../../../../environment'\nimport { getUserToken } from '../../../utils'\nimport { useCoinsendaServices } from \"../../../../services/useCoinsendaServices\";\n\n\nconst ContinueFromMobile = ({ cameraAvailable, setContinueFromMobile }) => {\n\n    const [ qrCode, setQrCode ] = useState()\n    const [ coinsendaServices ] = useCoinsendaServices();\n\n    const generateQR = async text => {\n        try {\n          const code = await QRCode.toDataURL(text)\n          setQrCode(code)\n        } catch (err) {\n          console.error(err)\n        }\n      }\n\n    const createUri = async() => {\n        const { refreshToken } = await getUserToken()\n        const { userToken } = await coinsendaServices.getJWToken(refreshToken)\n        const uri = `https://app.${getHostName()}.com?token=${userToken}&refresh_token=${refreshToken}&face_recognition`\n        generateQR(uri)\n    }\n\n        \n      useEffect(()=>{\n        createUri()\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n      }, [])\n\n    return(\n        <CameraNotAvailableContainer className=\"cameraNotAvailable\">\n        {\n            cameraAvailable === false &&\n            <CameraStatus>\n                El dispositivo no tiene permisos para acceder o no tiene la cámara conectada &nbsp;\n                <a href=\"https://support.google.com/chrome/answer/2693767?hl=es-419&co=GENIE.Platform%3DDesktop\" target=\"_blank\"  rel=\"noreferrer\" alt=\"\">¿Necesitas ayuda?</a>\n            </CameraStatus>\n        }\n            <h1 >Reconocimiento Facial</h1>\n            <h3>Ahora confirmaremos tu identidad, sigue las instrucciones que aparecen en pantalla</h3>\n            <ImagesContainer>\n                {/* <img className=\"FRscanner\" src={`${getCdnPath('assets')}scanner.png`} alt=\"\" width={200} /> */}\n                <img className=\"FRQR\" src={qrCode} alt=\"\" width={280} />\n            </ImagesContainer>\n            <p>Escanea el código QR desde tu celular y continúa el proceso de verificación.</p>\n            <Button className={`center-end ${!cameraAvailable ? 'disabled' : ''}`} disabled={!cameraAvailable} onClick={() => setContinueFromMobile(false)} >Regresar</Button>\n        </CameraNotAvailableContainer>\n    )\n}\n\nexport default ContinueFromMobile\n\nconst ImagesContainer = styled.div`\n    max-height: 300px;\n    display: flex;\n    align-items: center; \n    justify-content: center;\n`\n\n\n\n\nconst CameraNotAvailableContainer = styled.div`\n    max-width: 780px;\n    padding: 70px 0;\n    min-height: calc(100vh - 140px);\n    display: grid;\n    grid-template-rows: 130px auto auto auto auto;\n    row-gap: 15px;\n    align-items: stretch;\n    h1, p{\n        text-align:center;\n    }\n    @media (max-width: 768px) {\n        padding: 60px 30px;\n        min-height: calc(100vh - 120px);\n        grid-template-rows: 100px auto auto auto auto;\n        .FRscanner{\n            display:none;\n        }\n        h1, p{\n            text-align:left;\n        }\n        h1{\n            font-size:1.8em;\n        }\n        .FRQR{\n            width:180px;\n        }\n    }\n`\n\n\nconst CameraStatus = styled.div`\n    position:absolute;\n    top:15px;\n    left:15px;\n    color:red;\n    font-size:14px;\n\n    &::before{\n        content: \"-.-\";\n        margin-right: 10px;\n        background: red;\n        border-radius: 50%;\n    }\n\n`\n\n"],"sourceRoot":""}