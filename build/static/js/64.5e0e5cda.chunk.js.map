{"version":3,"sources":["components/forms/widgets/biometricKycComponent/styles.js","components/forms/widgets/biometricKycComponent/continueFromMobile.js"],"names":["Button","styled","button","ContinueFromMobile","cameraAvailable","setContinueFromMobile","qrCode","setQrCode","useState","coinsendaServices","useCoinsendaServices","createUri","async","refreshToken","getUserToken","userToken","getJWToken","code","QRCode","toDataURL","text","err","console","error","generateQR","getHostName","useEffect","CameraNotAvailableContainer","className","CameraStatus","href","target","rel","alt","ImagesContainer","src","width","disabled","onClick","div","device","laptopM"],"mappings":"qLAGO,MAAMA,E,KAASC,EAAOC,OAAV,wlB,wICwDJC,UAhDY,IAAiD,IAAhD,gBAAEC,EAAF,sBAAmBC,GAA4B,EAEvE,MAAQC,EAAQC,GAAcC,sBACtBC,GAAsBC,cAWxBC,EAAYC,UACd,MAAM,aAAEC,SAAuBC,eACzB,UAAEC,SAAoBN,EAAkBO,WAAWH,GAX1CD,WACf,IACE,MAAMK,QAAaC,IAAOC,UAAUC,GACpCb,EAAUU,GACV,MAAOI,GACPC,QAAQC,MAAMF,KAQhBG,CADS,sBAAkBC,cAAlB,sBAA6CV,EAA7C,0BAAwEF,EAAxE,uBAUb,OALEa,qBAAU,KACRf,MAEC,IAGD,eAACgB,EAAD,CAA6BC,UAAU,qBAAvC,WAEwB,IAApBxB,GACA,eAACyB,EAAD,kGAEI,mBAAGC,KAAK,yFAAyFC,OAAO,SAAUC,IAAI,aAAaC,IAAI,GAAvI,qCAGJ,oBAAIL,UAAU,SAAd,mCACA,oBAAIA,UAAU,SAAd,gGACA,cAACM,EAAD,UAEI,qBAAKN,UAAU,OAAOO,IAAK7B,EAAQ2B,IAAI,GAAGG,MAAO,QAErD,mBAAGR,UAAU,SAAb,mGACA,cAAC,SAAD,CAAQA,UAAS,qBAAiBxB,EAA+B,GAAb,YAAmBiC,UAAWjC,EAAiBkC,QAAS,IAAMjC,GAAsB,GAAxI,0BAOZ,MAAM6B,EAAkBjC,IAAOsC,IAAV,8MAMRC,KAAOC,SAUdd,EAA8B1B,IAAOsC,IAAV,+yBAYpBC,KAAOC,SA4BdZ,EAAe5B,IAAOsC,IAAV","file":"static/js/64.5e0e5cda.chunk.js","sourcesContent":["import styled from \"styled-components\";\n\n\nexport const Button = styled.button`\n      min-height: 60px;\n      cursor:pointer;\n      width: auto;\n      min-width:230px;\n      padding: 15px 20px;\n      background:#0198ff;\n      border-style: none;\n      border-radius:4px;\n      color:white;\n      font-size: 1rem;\n      font-weight: 600;\n      &.disabled{\n        background: gainsboro;\n      }\n      &.secondary{\n        background: none;\n        color: #0198ff;\n        &.disabled{\n            color:gainsboro;\n        }\n      }\n\n      &.center-end{\n        justify-self: center;\n        align-self: flex-end;\n      }\n    \n` ","\nimport { useEffect, useState } from \"react\"\nimport styled from \"styled-components\"\nimport QRCode from 'qrcode'\nimport { Button } from './styles'\nimport { getHostName } from '../../../../environment'\nimport { getUserToken } from '../../../utils'\nimport { useCoinsendaServices } from \"../../../../services/useCoinsendaServices\";\nimport { device } from '../../../../const/const'\n\n\nconst ContinueFromMobile = ({ cameraAvailable, setContinueFromMobile }) => {\n\n    const [ qrCode, setQrCode ] = useState()\n    const [ coinsendaServices ] = useCoinsendaServices();\n\n    const generateQR = async text => {\n        try {\n          const code = await QRCode.toDataURL(text)\n          setQrCode(code)\n        } catch (err) {\n          console.error(err)\n        }\n      }\n\n    const createUri = async() => {\n        const { refreshToken } = await getUserToken()\n        const { userToken } = await coinsendaServices.getJWToken(refreshToken)\n        const uri = `https://app.${getHostName()}.com?token=${userToken}&refresh_token=${refreshToken}&face_recognition`\n        generateQR(uri)\n    }\n\n        \n      useEffect(()=>{\n        createUri()\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n      }, [])\n\n    return(\n        <CameraNotAvailableContainer className=\"cameraNotAvailable\">\n        {\n            cameraAvailable === false &&\n            <CameraStatus>\n                El dispositivo no tiene permisos para acceder o no tiene la cámara conectada &nbsp;\n                <a href=\"https://support.google.com/chrome/answer/2693767?hl=es-419&co=GENIE.Platform%3DDesktop\" target=\"_blank\"  rel=\"noreferrer\" alt=\"\">¿Necesitas ayuda?</a>\n            </CameraStatus>\n        }\n            <h1 className=\"fuente\">Reconocimiento Facial</h1>\n            <h3 className=\"fuente\">Ahora confirmaremos tu identidad, sigue las instrucciones que aparecen en pantalla</h3>\n            <ImagesContainer>\n                {/* <img className=\"FRscanner\" src={`${getCdnPath('assets')}scanner.png`} alt=\"\" width={200} /> */}\n                <img className=\"FRQR\" src={qrCode} alt=\"\" width={280} />\n            </ImagesContainer>\n            <p className=\"fuente\">Escanea el código QR desde tu celular y continúa el proceso de verificación.</p>\n            <Button className={`center-end ${!cameraAvailable ? 'disabled' : ''}`} disabled={!cameraAvailable} onClick={() => setContinueFromMobile(false)} >Regresar</Button>\n        </CameraNotAvailableContainer>\n    )\n}\n\nexport default ContinueFromMobile\n\nconst ImagesContainer = styled.div`\n    max-height: 300px;\n    display: flex;\n    align-items: center; \n    justify-content: center;\n\n    @media ${device.laptopM} {\n        img{\n            width:200px;\n        }\n    }\n`\n\n\n\n\nconst CameraNotAvailableContainer = styled.div`\n    max-width: 780px;\n    padding: 70px 0;\n    min-height: calc(100vh - 140px);\n    display: grid;\n    grid-template-rows: 130px auto auto auto auto;\n    row-gap: 15px;\n    align-items: stretch;\n    h1, p{\n        text-align:center;\n    }\n\n    @media ${device.laptopM} {\n        padding:35px 0;\n        grid-template-rows: auto auto auto auto auto;\n        height: calc(100vh - 70px);\n    }\n\n    @media (max-width: 768px) {\n        padding: 60px 30px;\n        height: calc(100vh - 120px);\n        grid-template-rows: auto auto auto auto auto;\n        .FRscanner{\n            display:none;\n        }\n        h1, p{\n            text-align:left;\n        }\n        h1{\n            font-size:1.8em;\n        }\n        .FRQR{\n            width:180px;\n        }\n    }\n\n    \n`\n\n\nconst CameraStatus = styled.div`\n    position:absolute;\n    top:15px;\n    left:15px;\n    color:red;\n    font-size:14px;\n\n    &::before{\n        content: \"-.-\";\n        margin-right: 10px;\n        background: red;\n        border-radius: 50%;\n    }\n\n`\n\n"],"sourceRoot":""}