(this["webpackJsonpcoinsenda-app"]=this["webpackJsonpcoinsenda-app"]||[]).push([[41],{402:function(e,t,o){"use strict";o.d(t,"b",(function(){return m})),o.d(t,"a",(function(){return d})),o.d(t,"c",(function(){return f}));const n="https://info.bitsenda.com";let c={personal:{name:{uiName:"Nombres completos",key:"name",uiType:"text",settings:{defaultMessage:"Los nombres deben coincidir con los de tu documento de identidad",successPattern:/[a-zA-Z ]{3,40}/g,label:"Nombres completos (sin apellidos):",placeholder:"Ej: Juan jos\xe9 ",queryParams:{form:"personal_names"},errors:[{pattern:/[^a-zA-Z ]{1,30}/g,message:"Solo se permiten letras..."}],AuxComponent:null,MainComponent:null}}},biometric:{}};const r={},i={personal:{defaultErrorMessage:"Hubo un error en la toma de datos...",errors:{name:""}}},s={biometric:{component:"biometricKycSuccess"},personal:{component:"personalKycSuccess"}},a={biometric:"biometricKycComponent",personal:"personalKycComponent"};var l=e=>({wrapperComponent:a[e],handleError:i[e],successStage:s[e],defaultState:r[e],stages:c[e]}),u=o(38);const m=e=>Object.entries(e).map(((e,t)=>{let o="".concat(t<1?"?":"&");return"".concat(o).concat(e[0],"=").concat(e[1])})).join(""),d=e=>{let t={};const o={...e.stages,...null===e||void 0===e?void 0:e.defaultState};return Object.keys(o).map((o=>{var n,c;if(t[o]=(null===e||void 0===e?void 0:e.defaultState)?null===e||void 0===e?void 0:e.defaultState[o]:"",(null===e||void 0===e||null===(n=e.handleError)||void 0===n?void 0:n.errors)&&(null===e||void 0===e||null===(c=e.handleError)||void 0===c?void 0:c.errors[o]))return t[o]=""})),t},p=(e,t,o)=>{let n={...e},c={};return n.uiName=n.ui_name,n.uiType=n.ui_type,delete n.ui_name,delete n.ui_type,Object.keys(n).map((async r=>{if(c={key:o,...c,...t,[r]:n[r]},"select"===c[r]){let t=e;"nationality"===c.key&&(t=await b()),c.selectList=(e=>{let t={...e};return delete t.ui_name,delete t.ui_type,Object.keys(t).map((e=>{var o,n,c,r,i,s;t[e].uiName=(null===(o=t[e])||void 0===o?void 0:o.ui_name)||(null===(n=t[e])||void 0===n?void 0:n.name),t[e].value=e,null===(c=t[e])||void 0===c||delete c.ui_name,null===(r=t[e])||void 0===r||delete r.name,null===(i=t[e])||void 0===i||delete i.id,null===(s=t[e])||void 0===s||delete s.code})),t})(t)}})),c},b=async()=>{const e=await fetch("".concat(n,"/api/countrys")),t=await e.json();if(!t)return;let o={};for(const c of t)c.code=c.code.split(" ").join("_"),c.currencySymbol=c.currency_symbol,delete c.currency_symbol,o={...o,[c.code]:{...c,flag:"".concat(n).concat(c.flag)}};return o},y={biometric:async()=>{let e={};const t=await u.a.getUserBiometric();if(t){for(const o in t.challenge)e={...e,[o]:{key:o,solved:t.solved,biometricId:t.id,ui_type:"img",ui_name:"smile"===o?"Sonr\xede":"Abre la boca y levanta las cejas"}};return e}}},f=async e=>{const t=await y[e.formName]();if(!t)return;const o=Object.keys(t);let n={};for(const r of o){var c;n={...n,[r]:p(t[r],null===(c=l(e.formName))||void 0===c?void 0:c.stages[r],r)}}return{...l(e.formName),stages:n}}},453:function(e,t,o){"use strict";o.r(t);var n=o(2),c=o(14);t.default=e=>{let{component:t,Fallback:r,...i}=e;const[s,a]=Object(n.useState)();return Object(n.useEffect)((()=>{(async()=>{if(!t)return;const e=await o(454)("./".concat(t));a(e)})()}),[t]),r&&!s?Object(c.jsx)(r,{}):Object(c.jsx)(c.Fragment,{children:s&&Object(c.jsx)(s.default,{...i})})}},454:function(e,t,o){var n={"./biometricKycComponent":[373,9,5,6],"./biometricKycComponent/":[373,9,5,6],"./biometricKycComponent/captures":[394,9,18],"./biometricKycComponent/captures.js":[394,9,18],"./biometricKycComponent/continueFromMobile":[395,9,1,16],"./biometricKycComponent/continueFromMobile.js":[395,9,1,16],"./biometricKycComponent/index":[373,9,5,6],"./biometricKycComponent/index.js":[373,9,5,6],"./biometricKycComponent/scanner":[396,9,19],"./biometricKycComponent/scanner.js":[396,9,19],"./biometricKycComponent/skeleton":[397,9,13],"./biometricKycComponent/skeleton.js":[397,9,13],"./biometricKycComponent/styles":[362,9,20],"./biometricKycComponent/styles.css":[429,7,59],"./biometricKycComponent/styles.js":[362,9,20],"./biometricKycComponent/utils":[385,9,21],"./biometricKycComponent/utils.js":[385,9,21],"./biometricKycSuccess":[371,9,7],"./biometricKycSuccess/":[371,9,7],"./biometricKycSuccess/index":[371,9,7],"./biometricKycSuccess/index.js":[371,9,7],"./biometricStatus":[365,9,9],"./biometricStatus/":[365,9,9],"./biometricStatus/index":[365,9,9],"./biometricStatus/index.js":[365,9,9],"./onBoardingAgreement":[374,9,1,8],"./onBoardingAgreement/":[374,9,1,8],"./onBoardingAgreement/index":[374,9,1,8],"./onBoardingAgreement/index.js":[374,9,1,8],"./success/confetti":[398,9,17],"./success/confetti.js":[398,9,17],"./success/icons":[399,9,22],"./success/icons.js":[399,9,22],"./success/styles":[400,9,23],"./success/styles.js":[400,9,23]};function c(e){if(!o.o(n,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=n[e],c=t[0];return Promise.all(t.slice(2).map(o.e)).then((function(){return o.t(c,t[1])}))}c.keys=function(){return Object.keys(n)},c.id=454,e.exports=c},455:function(e,t,o){},456:function(e,t,o){},457:function(e,t,o){var n={"./biometricKycComponent/skeleton":[397,13]};function c(e){if(!o.o(n,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=n[e],c=t[0];return o.e(t[1]).then((function(){return o(c)}))}c.keys=function(){return Object.keys(n)},c.id=457,e.exports=c},663:function(e,t,o){"use strict";o.r(t);var n=o(2),c=o(347),r=o(334),i=o(337),s=o(402),a=o(453),l=o(53),u=(o(455),o(456),o(14));var m=e=>{var t,c;let{handleDataForm:r}=e;const i=Object(l.a)((()=>o(457)("./".concat(r.dataForm.wrapperComponent||"personalKycComponent","/skeleton")))),[m,d]=Object(n.useState)();return Object(n.useEffect)((()=>{d(Object(s.a)(r.dataForm))}),[null===r||void 0===r||null===(t=r.dataForm)||void 0===t?void 0:t.wrapperComponent]),console.log("|||||||||||||  getInitialState ==> ",r.dataForm.wrapperComponent),Object(u.jsx)(a.default,{component:null===r||void 0===r||null===(c=r.dataForm)||void 0===c?void 0:c.wrapperComponent,Fallback:()=>Object(u.jsx)(i,{}),handleDataForm:r,handleState:{setState:d,state:m}})};t.default=e=>{const t=Object(i.a)(),[o,a]=Object(n.useState)();Object(n.useEffect)((()=>{(async()=>{const e=await Object(s.c)({personType:"natural",level:"level_1",formName:"biometric"});a(e)})()}),[]);return Object(u.jsxs)(c.a,{id:"close-button-with-OtherModalLayout",className:"fullScreen",onkeydown:!0,on_click:(e,o)=>{e&&(e.target.dataset.close_modal||o)&&(t.isAppLoading(!1),t.renderModal(null))},children:[Object(u.jsx)(r.g,{theme:"dark",size:20}),o?Object(u.jsx)(m,{handleDataForm:{dataForm:o,setDataForm:a}}):Object(u.jsx)("h1",{children:"Skeleton"})]})}}}]);
//# sourceMappingURL=41.7efde16f.chunk.js.map