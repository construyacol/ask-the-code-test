(this["webpackJsonpcoinsenda-app"]=this["webpackJsonpcoinsenda-app"]||[]).push([[46,28,89],{474:function(e,t,a){"use strict";a.r(t),a.d(t,"Wrapper",(function(){return o}));var n,s=a(2),l=a(3),i=a(76);const o=l.b.div(n||(n=Object(s.a)(["\n  grid-template-columns: 1fr;\n  display: grid;\n  height: auto;\n  min-height: 100vh;\n  width:100vw;\n  position:absolute;\n  top:0;\n  left:0;\n  z-index:99;\n  backdrop-filter: blur(2px);\n  background: linear-gradient(to bottom right, #00000099, #000000f0);\n  \n  .selectedItemTag__title p{\n    text-transform:capitalize;    \n  }\n\n  &.infoPanel{\n    grid-template-columns: auto 1fr;\n  }\n\n  &._show{\n    animation-name: ",";\n    animation-duration: 0.5s;\n    animation-iteration-count: forwards;\n  }\n\n"])),i.h)},520:function(e,t,a){"use strict";var n=a(1),s=a(473),l=a(4);t.a=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const[i,o]=Object(n.useState)(),[r,c]=Object(n.useState)(a),[d,u]=Object(n.useState)(t[e[r]]),v=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;r>=e.length||c((e=>e+t))},b=()=>{r<=0||c((e=>e-1))};return Object(n.useEffect)((()=>{var e;if(null===d||void 0===d||null===(e=d.settings)||void 0===e?void 0:e.queryParams){let e=Object(s.c)(d.settings.queryParams);null===l.hb||void 0===l.hb||l.hb.push(e)}}),[d]),Object(n.useEffect)((()=>{const a=t[e[r]];u(a)}),[r,t[e[r]]]),{currentStage:r,nextStage:v,prevStage:b,stageController:e,stageData:d,setStageData:u,stageStatus:i,setStageStatus:o,finalStage:r>=e.length}}},536:function(e,t,a){"use strict";a.r(t);var n=a(474),s=a(478),l=a(0);t.default=()=>Object(l.jsx)(n.Wrapper,{style:{background:"white"},children:Object(l.jsxs)(s.MainContainer,{children:[Object(l.jsx)(s.TitleContainer,{className:"skeleton",children:Object(l.jsx)("h1",{className:"titleContainer__h1",children:"This is a awesome title"})}),Object(l.jsxs)(s.StickyGroup,{background:"white",id:"stickyGroup__",children:[Object(l.jsx)(i,{}),Object(l.jsx)(o,{})]})]})});const i=()=>Object(l.jsx)(s.LabelContainer,{children:Object(l.jsx)(s.TitleLabelContainer,{className:"skeleton",children:"This is a awesome title label"})}),o=()=>Object(l.jsxs)(s.InputContainer,{className:"skeleton",children:[Object(l.jsx)("input",{defaultValue:"This is a awesome input"}),Object(l.jsx)(s.LabelText,{className:"skeleton",children:"This is a awesome label"})]})},540:function(e,t,a){"use strict";a.r(t);var n=a(500);const s=(e,t)=>{Object(n.validateLabelMsg)(e,t);let a=Object(n.parseOnlyLetters)(e),s=a.match(t.settings.successPattern)&&"success";return[a,s]},l=(e,t)=>{var a,s;if(!(null===t||void 0===t?void 0:t.selectList))return i(e,t);Object(n.validateLabelMsg)(e,t);let l=e.replace(/[^a-zA-Z _]/g,""),o=[];Object.keys(null===t||void 0===t?void 0:t.selectList).forEach((t=>{t.includes(e.toLowerCase())&&(o=[...o,t])})),o.forEach((t=>{t===e.toLowerCase()&&(o=[t])}));let r=l.match(null===t||void 0===t||null===(a=t.settings)||void 0===a?void 0:a.successPattern)&&1===o.length&&"success";var c;1===(null===(s=o)||void 0===s?void 0:s.length)&&e&&(l=o&&o[0],Object(n.addItemTag)(t.key,null===t||void 0===t||null===(c=t.selectList[o[0]])||void 0===c?void 0:c.uiName));return[l,r]},i=(e,t)=>[e,e.length>3&&"success"],o={...{location_country:l,province:l,address:i,city:l},...{phone:(e,t)=>{Object(n.validateLabelMsg)(e,t);let a=Object(n.parseOnlyNumbers)(e),s=a.match(t.settings.successPattern)&&"success";return[a,s]},meta_phone:(e,t)=>{Object(n.validateLabelMsg)(e,t);let a=e.replace(/[^a-zA-Z _]/g,""),s=Object.keys(null===t||void 0===t?void 0:t.selectList).filter((t=>t.includes(e.toLowerCase()))),l=a.match(t.settings.successPattern)&&1===s.length&&"success";var i;1===s.length&&e&&(a=s&&s[0],Object(n.addItemTag)(t.key,null===t||void 0===t||null===(i=t.selectList[s[0]])||void 0===i?void 0:i.uiName,".prefixInputContainer"));return[a,l]}},...{nationality:l,id_type:l,name:s,surname:s,birthday:(e,t)=>{var a,s,l,i,o;let r=(null===(a=t.state)||void 0===a||null===(s=a.birthday)||void 0===s?void 0:s.includes("/"))?Object(n.formatMaskDate)(null===(l=t.state)||void 0===l?void 0:l.birthday):null===(i=t.state)||void 0===i?void 0:i.birthday,c=(null===(o=new Date(r))||void 0===o?void 0:o.getFullYear())||(new Date).getFullYear(),d=(new Date).getFullYear()-c,u=e||null,v=d>=18&&d<100&&u&&"success";const b=document.querySelector('[name="birthday"]'),g=".label_text__".concat(t.key);return"success"===v?(setTimeout((()=>{b.classList.add("date_success")}),10),Object(n.writeOnLabel)(g,t.settings.defaultMessage)):(d<18&&Object(n.writeOnLabel)(g,"Debes de ser mayor de edad(+18) para continuar","error"),d>100&&Object(n.writeOnLabel)(g,"Has superado los l\xedmites de longevidad humana","error"),setTimeout((()=>{b.classList.remove("date_success")}),10)),[u,v]},id_number:(e,t)=>{var a,s,l;let i=JSON.parse(JSON.stringify(t));const{id_type:o}=null===i||void 0===i?void 0:i.state,r="pasaporte"===o?t.settings.successPattern[o]:t.settings.successPattern.others;i.settings.errors="pasaporte"===o?null===t||void 0===t||null===(a=t.settings)||void 0===a?void 0:a.errors[o]:null===t||void 0===t||null===(s=t.settings)||void 0===s||null===(l=s.errors)||void 0===l?void 0:l.others,Object(n.validateLabelMsg)(e,i);let c="pasaporte"===o?Object(n.parseAlphanumeric)(e):Object(n.parseOnlyNumbers)(e);c=c.toUpperCase();let d=c.match(r)&&"success";return[c,d]}}};t.default=o},580:function(e,t,a){"use strict";a.r(t),a.d(t,"BackButtom",(function(){return i})),a.d(t,"NextButtom",(function(){return o}));a(1);var n=a(524),s=a(478),l=a(0);const i=e=>{let{onClick:t,disabled:a}=e;return Object(l.jsx)(s.IconBackContainer,{onClick:t,disabled:a||"",width:"22px",children:Object(l.jsx)(n.a,{size:22})})},o=e=>{let{onClick:t,disabled:a,id:i}=e;return Object(l.jsx)(s.IconNextContainer,{id:"".concat(i||""),className:"personal_nextButtom_",onClick:t,disabled:a||"",width:"35px",children:Object(l.jsx)(n.b,{size:35,color:"#06a"})})}},582:function(e,t,a){"use strict";a.r(t);var n=a(1),s=a.n(n),l=a(478),i=a(0);const o=e=>{let{children:t,currentStage:a,stages:n,stageController:s}=e;return Object(i.jsxs)(l.LabelContainer,{className:"fuente",children:[t,Object(i.jsx)(l.TitleLabelContainer,{children:Object(i.jsx)(l.Titles,{height:s.length,position:a,children:s.map(((e,t)=>{var a,s;return Object(i.jsx)("p",{children:(null===(a=n[e])||void 0===a||null===(s=a.settings)||void 0===s?void 0:s.label)||n[e].uiName},t)}))})})]})};t.default=s.a.memo(o)},609:function(e,t,a){"use strict";a.r(t);var n=a(1),s=a(540),l=a(520),i=a(5),o=a(502),r=a(500),c=a(580),d=a(582),u=a(536),v=a(491),b=a(110),g=a(474),j=a(473),h=a(478),m=a(0);const p=Object(i.a)((()=>Promise.resolve().then(a.bind(null,492))));t.default=e=>{var t,a,i,O,f;let{handleDataForm:y,handleState:x,closeModal:k,...S}=e;const{dataForm:C,setDataForm:_}=y,{state:w,setState:L}=x,[N,D]=Object(n.useState)(!1),T=Object(l.a)(Object.keys((null===C||void 0===C||null===(t=C.handleError)||void 0===t?void 0:t.errors)||C.stages),C.stages),F=Object(b.a)(!0,"next-stage-kyc",13,!1,"onkeypress",!0),{prevStage:M,nextStage:P,currentStage:I,stageController:B,finalStage:E,stageData:q,setStageData:z,stageStatus:A,setStageStatus:G}=T,J=async()=>{"success"===A&&(G(null),document.querySelector('[name="'.concat(null===q||void 0===q?void 0:q.key,'"]')).value="",document.querySelector(".label_text__"+(null===q||void 0===q?void 0:q.key)).style.color="gray",D(!0),I>=B.length-1&&await Object(v.createInfoStages)({stageData:q,dataForm:C,setDataForm:_,state:w}),P(),await Object(r.getNextSelectList)({state:w,stageData:q,setDataForm:_}),D(!1))},W=e=>{var t;e.target.preventDefault&&e.target.preventDefault();const[a,n]=s.default[q.key](null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.value,{...q,state:w,dataForm:C});e.target.value=a,L((e=>({...e,[null===q||void 0===q?void 0:q.key]:a}))),G(n)};return Object(n.useEffect)((()=>{let e=document.querySelector('[name="'.concat(null===q||void 0===q?void 0:q.key,'"]'));e&&w[q.key]&&(W({target:{value:w[q.key]}}),e.value=w[q.key])}),[w[null===q||void 0===q?void 0:q.key]]),Object(n.useEffect)((()=>{if(I>=B.length){(async()=>{var e,t;const a=null===C||void 0===C||null===(e=C.stages)||void 0===e||null===(t=e.id_type)||void 0===t?void 0:t.selectList,n=null===w||void 0===w?void 0:w.id_type,s=a&&n&&a[n];if(!s)return M();D(!0);let l=await Object(v.ApiPostIdentityInfo)({document:s,...w},{setDataForm:_});if(D(!1),!l)return M();const i=await Object(j.e)({formName:"identity"});return _(i)})()}}),[I]),N?Object(m.jsx)(u.default,{}):!N&&E?Object(m.jsx)(u.default,{closeModal:k}):Object(m.jsxs)(g.Wrapper,{style:{background:"white"},children:[(null===C||void 0===C||null===(a=C.handleError)||void 0===a?void 0:a.errors)&&Object(m.jsx)(p,{component:"infoPanel",title:"Campos completados",state:w,stageData:q,dataForm:C}),Object(m.jsxs)(h.MainContainer,{children:[Object(m.jsx)(h.TitleContainer,{id:"titleContainer__",children:Object(m.jsx)("h1",{className:"titleContainer__h1 fuente",children:S.isNewId?"Crea un documento de identidad":"Crea una identidad"})}),Object(m.jsxs)(h.StickyGroup,{background:"white",id:"stickyGroup__",children:[Object(m.jsx)(d.default,{stageController:B,stages:null===C||void 0===C?void 0:C.stages,currentStage:I,children:Object(m.jsx)(c.BackButtom,{onClick:()=>(L((e=>({...e,[null===q||void 0===q?void 0:q.key]:""}))),M()),disabled:I<=0})}),Object(m.jsx)(o.default,{onChange:W,inputStatus:A,defaultValue:w[null===q||void 0===q?void 0:q.key],name:null===q||void 0===q?void 0:q.key,message:null===q||void 0===q||null===(i=q.settings)||void 0===i?void 0:i.defaultMessage,placeholder:null===q||void 0===q||null===(O=q.settings)||void 0===O?void 0:O.placeholder,type:null===q||void 0===q?void 0:q.uiType,setStageData:z,dataForm:C,state:w,progressBar:{start:I+1,end:B.length,showSteps:!0},AuxComponent:[null===q||void 0===q||null===(f=q.settings)||void 0===f?void 0:f.auxComponent,()=>Object(m.jsx)(c.NextButtom,{id:F,onClick:J,disabled:I>=B.length||"success"!==A})]})]}),Object(m.jsx)(p,{component:"kyc/selectList",list:null===q||void 0===q?void 0:q.selectList,name:null===q||void 0===q?void 0:q.key,state:w,handleAction:W})]})]})}}}]);
//# sourceMappingURL=46.96fa01f6.chunk.js.map