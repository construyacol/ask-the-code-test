{"version":3,"sources":["components/kyc/basic/kycBasicLayout.js","components/kyc/basic/itemList.js","components/kyc/basic/kyc_basic_container.js","components/widgets/marco/index.js","components/kyc/advanced/dashboard/kycDashboardLayout.js","components/widgets/slider/styles.js","components/widgets/slider/index.js","components/kyc/advanced/carousel/carouselLayout.js","components/kyc/advanced/kyc_advanced_layout.js","components/kyc/advanced/kyc_advanced_container.js","components/kyc/financial/kyc_financial.js","components/kyc/kycLayout.js","components/kyc/kyc_container.js"],"names":["KycBasicLayout","props","CountryUrl","Environtment","ItemListKycBasic","Component","itemSelection","item","this","select_item","render","active","suffixText","name","flag","className","onClick","src","alt","width","modelFormData","kyc","kyc_basic","natural","KycBasicContainer","state","select_values","init_component","async","action","CurrentForm","form_kyc_basic_state","verification_state","coinsendaServices","getVerificationState","isAppLoading","user","countryvalidators","countryValidators","kyc_data_basic","serveKycData","res","levels","level_1","personal","person_type","init_state","converToInitState","get_country_list","getCountryList","select_list","extractSelectList","country","FormatCountryList","countries","setState","country_default","matchList","value","new_init_state","country_prefix","data_state","current_item","message","colorMessage","ui_type","open_sect","show_hide_section","update","target","preventDefault","persist","surname","test","phone","address","length","city","id_number","id_type","code","select_value","console","log","setTimeout","capitalizeString","validateActive","current_search","matchItem","primary","arre","objectToArray","step","unAvailableActive","siguiente","UpdateForm","IncreaseStep","validate_personal_kyc","_onFocus","handleSubmit","event","String","trim","birthday","moment","isBefore","subtract","errMessage","errmessage","receivedProps","nextProps","name_section","toggleSection","selectHasNotValue","Array","isArray","clean_search_result","new_current_item","body","history","push","document","onkeydown","keyCode","componentWillUnmount","componentDidUpdate","prevProps","nextState","route","nationality","updateState","componentWillReceiveProps","shouldComponentUpdate","loader","search_results","id","style","height","opacity","map","connect","modelData","form","form_kyc_basic","current","isLoading","dispatch","bindActionCreators","actions","withCoinsendaServices","Marco","type","children","KycDashBoard","front","back","selfie","goFileLoader","prevState","animation","animation2","base64","fileloader","newfront","newselfie","newback","idUploadPic","useKeyActionAsClick","zIndex","gridTemplateColumns","maxWidth","title","accept","ACCEPT_FILE_TYPE_ADVANCE_KYC","join","onChange","toggleModal","SliderContainer","styled","section","SliderC","div","position","Control","HandleControl","ControlContainer","Slider","config","slider","setSlider","useState","currentPosition","setcurrentPosition","useEffect","getElementById","childNodes","i","child","classList","add","onMouseOver","controls","Controls","slideWidth","autoSwapInterval","autoSwap","swapInterval","totalSlides","size","Icon","MdKeyboardArrowUp","setPosition","next","interval","clearInterval","clientWidth","methods","prev","setInterval","actionHandle","e","dataset","SimpleSlider","onBoarding","continuar","getCdnPath","KycAdvancedLayout","dashboard","topOnBoarding","kyc_success","finish","confetti","cta_secondary","classes","cta_primary_text","user_name","top","window","innerWidth","label","KycAdvancedContainer","imageSrc","files","file","img_compressor","imageDataUrl","readFile","includesAnyImageMime","split","alert","subirImg","urlImg","img","updateLocalImg","toastMessage","stepChange","cancelarSubidaImg","prevStep","currentStep","validate_identity_kyc","reset","form_kyc_advanced","IconSwitch","loadable","KycFinancialComponent","current_name","current_value","kyc_financial_list","widthBar","availableCta","financial","level_2","financial_data","kyc_financial_data","addIndexToRootObject","kyc_data_state","kyc_financial","ui_name","payload","send_files","info","Object","keys","forEach","indice","validate_financial_kyc","componentDidMount","financial_success","icon","color","ACCEPT_FILE_TYPE","form_kyc_financial","KycLayout","globalStep","identity_success","showSuccess","display","security_center","basic","cta_text","setReset","setFinancial_success","setIdentity_success","useToastMessage","setShowSuccess","prefix","info_type","verification_level","_timeStamp","Date","getTime","BigNumber","toString","updateLevelProfile","CleanForm","data","user_update","updateUser","success_sound","id_front","id_back","ReduceStep","identity","advanced","exit"],"mappings":"wNAOeA,MAJSC,GACf,cAAC,IAAD,IAAmBA,I,gDCF5B,MAAM,WAAEC,GAAeC,IAEvB,MAAMC,UAAyBC,YAAW,cAAD,yBACvCC,cAAgB,KACd,MAAM,KAAEC,GAASC,KAAKP,MACtBO,KAAKP,MAAMQ,YAAYF,IAGzBG,SACE,MAAM,KAAEH,EAAF,OAAQI,EAAR,WAAgBC,GAAeJ,KAAKP,OAEpC,KAAEY,EAAF,KAAQC,GAASP,EAIvB,OACE,qBACEQ,UAAS,2BAAsBJ,EAAS,SAAW,IACnDK,QAASR,KAAKF,cAFhB,SAIE,oBAAGS,UAAU,SAAb,UACGD,GAAQ,qBAAKG,IAAG,UAAKf,GAAL,OAAkBY,GAAQI,IAAI,GAAGC,MAAO,KACxDN,EACAD,GAAU,eAAYA,EAAZ,YAONR,Q,kBCZf,MAAMgB,EAAgBC,IAAIC,UAAUC,QAGpC,MAAMC,UAA0BnB,YAAW,cAAD,yBACxCoB,MAAQ,CACNC,cAAc,IAFwB,KAmGxCC,eAAiBC,gBACTpB,KAAKP,MAAM4B,OAAOC,YAAY,aAIpC,MAAM,qBAAEC,GAAyBvB,KAAKP,MAEtC,IAAI+B,QAA2BxB,KAAKP,MAAMgC,kBAAkBC,uBAE5D,IAAKF,GAA6C,aAAvBA,EAAmC,CAE5DxB,KAAKP,MAAM4B,OAAOM,cAAa,GAC/B,MAAM,KAAEC,GAAS5B,KAAKP,MACtB,IAAIoC,QAA0B7B,KAAKP,MAAMgC,kBAAkBK,oBAEvDC,QAAuBC,uBACzBH,EAAkBI,IAAIC,OAAOC,QAAQC,SAASR,EAAKS,cAEjDC,QAAmBC,4BACrBV,EAAkBI,IAAIC,OAAOC,QAAQC,SAASR,EAAKS,cAEjDG,QAAyBxC,KAAKP,MAAMgC,kBAAkBgB,iBACtDC,QAAoBC,4BACtBZ,EACAF,EAAkBI,IAAIC,OAAOC,QAAQC,SAASR,EAAKS,cAGrDK,EAAYE,cAAgBC,4BAC1BH,EAAYE,QACZJ,GAEFE,EAAYI,UAAYN,QAClBxC,KAAK+C,SAAS,CAAEhB,iBAAgBW,gBAEtC,IAAIM,QAAwBhD,KAAKiD,UAAU,CACzCC,MAAO,WACP7C,KAAM,mBAGJ8C,EAAiB,IAChBb,EACHc,eAAgB,MACb7B,EAAqB8B,YAIrBF,EAAeC,iBAClBD,EAAeC,eAAiBJ,GAE7BG,EAAeP,UAClBO,EAAeP,QAAUI,GAU3B,IAAIM,EAAevB,EAAe,SAC5B/B,KAAK+C,SAAS,CAClBM,WAAYF,EACZI,QAASD,EAAaC,QACtBpD,QAAQ,EACRqD,aAAc,UACdC,QAASH,EAAaG,QACtBC,WAAW,EACXC,mBAAmB,EACnBL,aAAcA,EAAajD,OAI7BL,KAAKP,MAAM4B,OAAOM,cAAa,KA5KK,KAuLxCiC,OAASxC,UAAuB,IAAhB,OAAEyC,GAAa,EAC7BA,EAAOC,gBAAkBD,EAAOC,iBAChCD,EAAOE,SAAWF,EAAOE,UAEzB,MAAM,KAAE1D,EAAF,MAAQ6C,GAAUW,GAClB,QAAEJ,GAAYzD,KAAKiB,MAGzB,IACEZ,IAASO,EAAcP,KAAKA,MAC5BA,IAASO,EAAcoD,QAAQ3D,OAE3B6C,GAAU,gJAAwEe,KAAKf,MAEzF7C,IAASO,EAAcsD,MAAM7D,OAC3B6C,GAAU,iBAAiBe,KAAKf,OAGlC7C,IAASO,EAAcuD,QAAQ9D,MAC7B6C,GAASA,EAAMkB,OAAS,QAG1B/D,IAASO,EAAcyD,MACrBnB,GAASA,EAAMkB,OAAS,KAD9B,CAIA,GAAI/D,IAASO,EAAc0D,UAAUjE,KAAM,CAEzC,GAAe,cADAL,KAAKiB,MAAMoC,WAAWkB,QAAQ,GAAGC,MAE9C,GAAItB,IAAU,uBAAuBe,KAAKf,GAAQ,YAElD,GAAIA,IAAU,iBAAiBe,KAAKf,GAAQ,OAKhD,GAAa,mBAAT7C,GAAsC,YAATA,GAAkC,WAAZoD,EAAsB,CAC3E,IAAIgB,QAAqBzE,KAAKiD,UAAUY,GACxC,GAAGY,EAQD,OAPAC,QAAQC,IAAI,oCAAqCF,EAAczE,KAAKiB,MAAMoC,YAC1ErD,KAAK+C,SAAS,CACZM,WAAY,IACPrD,KAAKiB,MAAMoC,WACd,CAAChD,GAAOoE,KAGLG,YAAW,KAChB5E,KAAK+C,SAAS,CAAEW,WAAW,MAC1B,WAID1D,KAAK+C,SAAS,CAClBM,WAAY,IACPrD,KAAKiB,MAAMoC,WACd,CAAChD,GAAO6C,EAAQ2B,2BAAiB3B,GAAS,MAM9ClD,KAAK8E,mBApPiC,KAuPxC7B,UAAY7B,UAA4B,IAArB,MAAE8B,EAAF,KAAS7C,GAAW,EAChC6C,GACHlD,KAAK+C,SAAS,CAAEgC,eAAgB,OAGlC,MAAM,YAAErC,GAAgB1C,KAAKiB,MAC7B,IAAIgB,QAAY+C,oBACdtC,EACW,mBAATrC,GAAsC,gBAATA,EAAyB,YAAcA,GAEtE,CAAE4E,QAAS/B,GACX,QAGF,QAAKjB,IAGDA,EAAImC,OAAS,IACfpE,KAAK+C,SAAS,CAAEgC,eAAgB9C,IAEf,IAAfA,EAAImC,OACCnC,OADT,IA3QsC,KAkRxC6C,eAAiB1D,UACf,IAAI8D,QAAaC,wBAAcnF,KAAKiB,MAAMoC,YAC1C,MAAM,KAAE+B,GAASpF,KAAKP,MACtB,OAAIyF,EAAKE,EAAO,GACPpF,KAAK+C,SAAS,CACnB5C,QAAQ,IAGLH,KAAKqF,qBA1R0B,KA6RxCA,kBAAoB,IACXrF,KAAK+C,SAAS,CACnB5C,QAAQ,IA/R4B,KAmSxCmF,UAAYlE,UACV,MAAM,eAAEW,GAAmB/B,KAAKiB,MAEhC,GAAIjB,KAAKP,MAAM2F,MAAQrD,EAAeqC,OAIpC,aAHMpE,KAAKP,MAAM4B,OAAOkE,WAAW,YAAavF,KAAKiB,aAC/CjB,KAAKP,MAAM4B,OAAOmE,aAAa,aAEjCxF,KAAKP,MAAM2F,KAAOrD,EAAeqC,OAC5BpE,KAAKP,MAAMgG,sBAAsB,aAG1CzF,KAAK0F,WAEE1F,KAAK8E,mBAhTwB,KAoTxCa,aAAevE,UACbwE,EAAM9B,iBACN,IAAIoB,QAAaC,wBAAcnF,KAAKiB,MAAMoC,YAC1C,MAAM,KAAE+B,GAASpF,KAAKP,MAChByD,EAAQgC,EAAKE,EAAO,IACpB,aAAE9B,EAAF,WAAgBD,GAAerD,KAAKiB,MAE1C,IAAK4E,OAAO3C,GAAO4C,OACjB,OAAO9F,KAAK+C,SAAS,CACnBQ,QAAS,mCACTC,aAAc,YAKlB,GAAIF,IAAiB1C,EAAcmF,SAAS1F,MAAQ6C,EAAO,CAOzD,IALiB8C,IAAO9C,EAAO,cACE+C,SAASD,MAASE,SAAS,GAAI,UAK9D,OAAOlG,KAAK+C,SAAS,CACnBQ,QAAS,8DACTC,aAAc,YAMpB,QAAqB,UAAjBF,IAA6BD,EAAWD,kBAGxCF,EACKlD,KAAKsF,YAEPtF,KAAK+C,SAAS,CACnBQ,QAASvD,KAAKmG,WAAWf,GACzB5B,aAAc,cA3VsB,KA+VxC2C,WAAcf,IACZ,MAAM,eAAErD,GAAmB/B,KAAKiB,MAChC,OAAOc,EAAeqD,EAAO,GAAGgB,YAjWM,KAoWxCC,cAAgBjF,UACd,IACGpB,KAAKiB,MAAMc,iBACX/B,KAAKiB,MAAMc,eAAeuE,EAAUlB,KAAO,GAE5C,OAAO,EAET,GAAIkB,EAAUlB,KAAOpF,KAAKiB,MAAMc,eAAeqC,OAC7C,OAAO,EAET,IAAImC,EAAevG,KAAKiB,MAAMc,eAAeuE,EAAUlB,KAAO,GAAG/E,KAC7D0E,EACuB,gBAAlBwB,EACHvG,KAAKiB,MAAMoC,WAAX,eACiB,YAAjBkD,EACAvG,KAAKiB,MAAMoC,WAAWkD,GACtB,WACAvG,KAAK+C,SAAS,CAClBQ,QAAQ,GAAD,OACLvD,KAAKiB,MAAMyC,UACP,GACA1D,KAAKiB,MAAMc,eAAeuE,EAAUlB,KAAO,GAAG7B,SAEpDC,aAAc,UACdC,QAASzD,KAAKiB,MAAMc,eAAeuE,EAAUlB,KAAO,GAAG3B,QACvDH,aAAciD,EACdxB,eAAgBA,GAAkC,OAGpD/E,KAAK8E,kBAjYiC,KAoYxC0B,cAAgB,KACdxG,KAAK+C,SAAS,CACZQ,QAAQ,GAAD,OACJvD,KAAKiB,MAAMyC,UAER1D,KAAKiB,MAAMc,eAAe/B,KAAKP,MAAM2F,KAAO,GAAG7B,QAD/C,IAGNG,WAAY1D,KAAKiB,MAAMyC,UACvBC,mBAAoB3D,KAAKiB,MAAM0C,qBA5YK,KAmaxC+B,SAAW,KAET,MAAM,UAAEhC,EAAF,QAAaD,EAAb,eAAsB1B,GAAmB/B,KAAKiB,OAC9C,KAAEmE,GAASpF,KAAKP,MAChBgH,EAAoBC,MAAMC,QAAQ3G,KAAKiB,MAAMoC,WAAWtB,EAAeqD,EAAO,GAAG/E,OAEvF,GAAgB,WAAZoD,IAAyBgD,EAI3B,OAHA7B,YAAW,KACT5E,KAAK+C,SAAS,CAAEY,mBAAmB,MAClC,KACI3D,KAAK+C,SAAS,CACnBQ,QAAQ,GAAD,OAAMG,EAAiB3B,EAAeqD,EAAO,GAAG7B,QAA9B,IACzBG,WAAW,KA/auB,KA0bxCkD,oBAAsBxF,UAEpB,MAAM,QAAEqC,EAAF,WAAWJ,EAAX,aAAuBC,GAAiBtD,KAAKiB,MACnD,IAAI4F,EACiB,UAAjBvD,IACFuD,EAAmB,wBAGf7G,KAAK+C,SAAS,CAClBM,WAAY,IACPA,EACH,CAACwD,GAAsCvD,GAAe,MAExDyB,eAAgB,OAGF,WAAZtB,GACFzD,KAAK+C,SAAS,CAAEW,WAAW,EAAMC,mBAAmB,KA3chB,KA+cxC1D,YAAcmB,UACZ,MAAM,aAAEkC,GAAiBtD,KAAKiB,MAE9B,IAAI6F,EAAO,CACTjD,OAAQ,CACNxD,KAAMiD,EACNJ,MAAOnD,EAAKyE,OAIK,UAAjBlB,IACFwD,EAAKjD,OAAOxD,KAAO,wBAGfL,KAAK4D,OAAOkD,IAxdG,gCACf9G,KAAKmB,iBAEXnB,KAAKP,MAAMsH,QAAQC,KAAnB,wBAEAC,SAASC,UAAatB,IACE,KAAlBA,EAAMuB,UACRvB,EAAM9B,iBACN9D,KAAK2F,aAAaC,KAKxBwB,uBACEH,SAASC,WAAY,EAGvBG,mBAAmBC,EAAWC,GAE5B,GAAID,EAAUlC,OAASpF,KAAKP,MAAM2F,KAChC,OAKF,IAAIoC,EA+CJ,GA7CwB,IAApBxH,KAAKP,MAAM2F,OACboC,EAAK,wBAGiB,IAApBxH,KAAKP,MAAM2F,OACboC,EAAK,2BAGiB,IAApBxH,KAAKP,MAAM2F,OACboC,EAAK,2BAGiB,IAApBxH,KAAKP,MAAM2F,OACboC,EAAK,wBAGiB,IAApBxH,KAAKP,MAAM2F,OACboC,EAAK,0BAGiB,IAApBxH,KAAKP,MAAM2F,OACboC,EAAK,iCAGiB,IAApBxH,KAAKP,MAAM2F,OACboC,EAAK,0BAGiB,IAApBxH,KAAKP,MAAM2F,OACboC,EAAK,0BAGiB,IAApBxH,KAAKP,MAAM2F,OACboC,EAAK,4BAGiB,KAApBxH,KAAKP,MAAM2F,OACboC,EAAK,8BAGiB,KAApBxH,KAAKP,MAAM2F,OACboC,EAAK,0BAEPxH,KAAKP,MAAMsH,QAAQC,KAAKQ,GAEA,KAApBxH,KAAKP,MAAM2F,MAAepF,KAAKiB,MAAMoC,WAAWkB,UAAsD,sBAA1CvE,KAAKiB,MAAMoC,WAAWkB,QAAQ,GAAGC,MACnD,uBAA1CxE,KAAKiB,MAAMoC,WAAWkB,QAAQ,GAAGC,MACnC,CACoBpD,iBACZpB,KAAK+C,SAAS,CAClBM,WAAY,IACPrD,KAAKiB,MAAMoC,WACdoE,YAAazH,KAAKiB,MAAMoC,WAAWT,WAGvC5C,KAAKsF,aAEPoC,IAuTJC,0BAA0BrB,GAGpBA,EAAUlB,OAASpF,KAAKP,MAAM2F,MAChCpF,KAAK+C,SAAS,CACZW,WAAW,EACXC,mBAAmB,IAGvB3D,KAAKqG,cAAcC,GAGrBsB,sBAAsBtB,EAAWiB,GAC/B,OAAIvH,KAAKP,QAAU6G,GAAatG,KAAKiB,QAAUsG,EAuEjDrH,SAGE,IAAI,UACFwD,EADE,WAEFL,EAFE,QAGFI,EAHE,aAIFH,EAJE,eAKFyB,EALE,eAMFhD,EANE,kBAOF4B,GACE3D,KAAKiB,MACT,MAAM,KAAEmE,GAASpF,KAAKP,MAQtB,OAJAiE,EAAYA,GAAyB,SAAZD,EAKvB,mCAGIzD,KAAKP,MAAMoI,SACV9F,IACAqD,GACDpF,KAAKP,MAAM2F,KAAOpF,KAAKiB,MAAMc,eAAeqC,OAE1C,cAAC,IAAD,IAEA,sBAAK7D,UAAU,YAAf,UACE,mBAAGA,UAAU,6BAAb,uCACA,cAAC,EAAD,CACEqD,OAAQ5D,KAAK4D,OACb+B,aAAc3F,KAAK2F,aACnB9E,IAAKkB,EACLqD,KAAMpF,KAAKP,MAAM2F,KACjBnE,MAAO,IAAKjB,KAAKiB,MAAOyC,aACxB8C,cAAexG,KAAKwG,cACpBd,SAAU1F,KAAK0F,SACfoC,eACc,UAAZrE,EACIJ,EAAWD,eACTC,EAAWD,eACX,KACU,WAAZK,GACAJ,EAAWtB,EAAeqD,EAAO,GAAG/E,MAClCgD,EAAWtB,EAAeqD,EAAO,GAAG/E,MAEtC,KAENuG,oBAAqB5G,KAAK4G,sBAE5B,qBAAKmB,GAAG,qBAAqBxH,UAAU,qBAAqByH,MAAO,CAACC,OAAQvE,EAAY,OAAS,IAAKwE,QAASxE,EAAY,IAAM,KAAjI,SAEGC,GACC,sBAAKpD,UAAS,iCAA4BmD,EAAY,UAAY,IAAlE,UACGqB,GAAkBA,EAAeX,QAChC,qBAAK7D,UAAU,kBAAf,SACGwE,EAAeoD,KAAKpI,GAEjB,cAAC,EAAD,CAEEA,KAAMA,EACNE,YAAaD,KAAKC,YAClBE,OACE4E,GAC0B,IAA1BA,EAAeX,SACf,GANGrE,EAAKgI,SAcN,WAAZtE,GAAoC,UAAZA,KACvBsB,GACC,qBAAKxE,UAAU,kBAAf,SACIP,KAAKiB,MAAMyB,YAA6B,UAAjBY,GAA6C,gBAAjBA,EAAiC,YAAcA,GAAc6E,KAAKpI,GAEnH,cAAC,EAAD,CAEEA,KAAMA,EACNE,YAAaD,KAAKC,YAClBG,WAC8B,YAA5BJ,KAAKiB,MAAMqC,cACI,sBAAdvD,EAAKyE,MACU,uBAAdzE,EAAKyE,KAGH,KAFAxE,KAAKiB,MAAMoC,WAAWT,SACtB5C,KAAKiB,MAAMoC,WAAWT,QAAQ,GAAG4B,MARlCzE,EAAKgI,mBA6C3BK,mBAlBf,SAAyBnH,GACvB,MAAM,KAAEW,GAASX,EAAMoH,UAEvB,MAAO,IACFpH,EAAMqH,KAAKC,eACdC,QAASvH,EAAMqH,KAAKE,QACpBjH,qBAAsBN,EAAMqH,KAAKC,eACjC3G,KAAMA,EACNiG,OAAQ5G,EAAMwH,UAAUZ,WAI5B,SAA4Ba,GAC1B,MAAO,CACLrH,OAAQsH,6BAAmBC,IAASF,MAIzBN,CAGbS,YAAsB7H,I,gBC7kBT8H,MA9CArJ,IACb,MAAM,KAAEsJ,GAAStJ,EACjB,OACE,sBACEc,UAAS,UACE,UAATwI,EAAmB,mBAAqB,8BADjC,MADX,UAKE,mBACExI,UAAS,UACE,UAATwI,EACI,4BACA,2BAHG,iBAOX,qBACExI,UAAS,mBACE,UAATwI,EAAmB,eAAiB,kBAGxC,qBACExI,UAAS,sBACE,UAATwI,EAAmB,eAAiB,kBAGxC,qBACExI,UAAS,wBACE,UAATwI,EAAmB,eAAiB,eAD7B,OAIX,qBACExI,UAAS,uBACE,UAATwI,EAAmB,eAAiB,eAD7B,OAKVtJ,EAAMuJ,SAEP,mBAAGzI,UAAS,mBAAuB,UAATwI,EAAmB,QAAU,QAAvD,SACY,UAATA,EAAmB,GAAK,2B,gBC2JlBE,I,UAAAA,EAhMOxJ,IACpB,MAAM,KACJ2F,EADI,MAEJ8D,EAFI,KAGJC,EAHI,OAIJC,EAJI,aAKJC,EALI,UAMJC,EANI,UAOJC,EAPI,OAQJlI,EARI,WASJmI,EATI,QAUJjF,EAVI,OAWJkF,EAXI,WAYJC,GACEjK,GAEE,SAAEkK,EAAF,UAAYC,EAAZ,QAAuBC,GAAYJ,EACnCK,EAAcC,aACjBL,EACD,oBACA,IACA,EACA,WACA,GAGF,OACE,qBAAKnJ,UAAU,eAAf,SACE,sBAAKA,UAAU,mBAAf,UACE,mBAAGA,UAAS,iBAAY6E,EAAO,EAAI,WAAa,IAAhD,SACY,IAATA,EACG,0BACS,IAATA,EACA,4BACS,IAATA,GAAuB,IAATA,EACd,kCACA,6BAIN,cAAC,EAAD,CAAO2D,KAAK,QAAZ,SACE,qBAAKxI,UAAS,4BAAuBgJ,EAAY,YAAc,IAA/D,SACE,sBAAKhJ,UAAS,aAAd,UACE,qBACEA,UAAS,sBAAiBgE,EAAjB,YAA4BiF,EAAa,WAAa,IAC/D/I,IAAKyI,EACLlB,MAAO,CAAEE,QAAuB,IAAdoB,EAAkB,IAAM,IAAKU,OAAQ,GACvDtJ,IAAI,GACJC,MAAM,SAER,qBACEJ,UAAS,sBAAiBiJ,EAAa,UAAY,YACnD/I,IAAK0I,EACLnB,MAAO,CACLE,QAASoB,EAAY,GAAiB,cAAZ/E,EAA0B,IAAM,IAC1DyF,OAAQ,GAEVtJ,IAAI,GACJC,MAAM,SAER,qBACEJ,UAAU,cACVE,IAAK2I,EACLpB,MAAO,CAAEE,QAASoB,EAAY,EAAI,IAAM,KACxC5I,IAAI,GACJC,MAAM,gBAMd,sBACEJ,UAAU,kBACVyH,MAAO,CACLiC,oBACc,cAAZ1F,EAA0B,iBAAmB,iBAC/C2F,SAAsB,cAAZ3F,EAA0B,QAAU,SALlD,UAQE,qBACEhE,UAAS,sBAA0B,IAAT6E,EAAa,SAAW,IAClD+E,MAAM,IAFR,SAIIR,EASA,eAAC,WAAD,WACE,qBACEpJ,UAAU,cACVE,IAAKkJ,EACLjJ,IAAI,GACJC,MAAM,KACNwJ,MAAM,MAER,mBAAG5J,UAAU,2BAhBf,qBACEA,UAAS,sBAAiBgE,GAC1B9D,IAAKyI,EACLxI,IAAI,GACJC,MAAM,KACNwJ,MAAM,QAgBC,cAAZ5F,GACC,qBACEhE,UAAS,sBAA0B,IAAT6E,EAAa,SAAW,IAClD+E,MAAM,IAFR,SAIIN,EASA,eAAC,WAAD,WACE,mBAAGtJ,UAAU,wBACb,qBACEA,UAAU,cACVE,IAAKoJ,EACLnJ,IAAI,GACJC,MAAM,KACNwJ,MAAM,SAfV,qBACE5J,UAAU,cACVE,IAAK0I,EACLzI,IAAI,GACJC,MAAM,KACNwJ,MAAM,QAiBd,qBACE5J,UAAS,sBACE,IAAT6E,GAAuB,IAATA,EAAa,SAAW,IAExC+E,MAAM,IAJR,SAMIP,EASA,eAAC,WAAD,WACE,mBAAGrJ,UAAU,wBACb,qBACEA,UAAU,cACVE,IAAKmJ,EACLlJ,IAAI,GACJC,MAAM,KACNwJ,MAAM,SAfV,qBACE5J,UAAU,cACVE,IAAK2I,EACL1I,IAAI,GACJC,MAAM,KACNwJ,MAAM,WAiBd,qBAAK5J,UAAU,oBAAf,SACG6E,EAAO,EACN,sBAAK7E,UAAU,mBAAf,UACE,uBACEwH,GAAK2B,EAA2B,GAAdI,EAClBf,KAAK,OACLqB,OAAQC,IAA6BC,OACrCC,SAAUlB,IAEZ,eAAC,IAAD,CAAalJ,QAAQ,EAAM4I,KAAK,UAAhC,UACG,IADH,mBAMF,eAAC,IAAD,CACE5I,QAAQ,EACR4I,KAAK,UACLzD,UAAWjE,EAAOmJ,YAHpB,UAKG,IALH,uB,2BCrLL,MAAMC,EAAkBC,IAAOC,QAAV,sLAUfC,EAAUF,IAAOG,IAAV,iLAKJpL,GACO,IAAnBA,EAAMqL,SAAN,wCAEmBrL,EAAMqL,SAFzB,SAGQrL,GAAUA,EAAMkB,OAAN,UAAkBlB,EAAMkB,MAAxB,SACMlB,GACxBA,EAAMkB,MAAN,iBAAwBlB,EAAMkB,MAA9B,6BAGSoK,EAAUL,IAAOG,IAAV,wJASPG,EAAgBN,IAAOG,IAAV,gHAObI,EAAmBP,IAAOG,IAAV,4uBCiBdK,MAjDCzL,IAGd,MAAM,OAAE0L,GAAW1L,GAEZ2L,EAAQC,GAAaC,sBACrBC,EAAiBC,GAAsBF,mBAAS,GAEvDG,qBAAU,KACRJ,EAAUpE,SAASyE,eAAe,wBACjC,CAACN,IAEJK,qBAAU,KACR,GAAIL,GAAUA,EAAOO,WAAY,CAC/B,IAAIC,EAAI,EACR,IAAK,IAAIC,KAAST,EAAOO,WACvBE,EAAMC,UAAUC,IAAhB,+BAA6CH,IAC7CA,OAGH,CAACR,IAQJ,OACE,eAACX,EAAD,CAAiBuB,YALJ,KACbtH,QAAQC,IAAI,8BAIZ,UACE,cAACiG,EAAD,CACE7C,GAAG,oBACH+C,SAAUS,EACV5K,MAAOyK,GAAUA,EAAOO,WAAWvH,OAHrC,SAKG3E,EAAMuJ,WAGRoC,GAAUD,GAAUA,EAAOc,UAC1B,cAACC,EAAD,CACEd,OAAQA,EACRI,mBAAoBA,KAChB/L,QASd,MAAMyM,EAAW,IAIV,IAIDC,EACAC,GARJjB,QAAQ,SAAEc,EAAF,SAAYI,EAAZ,aAAsBC,GADd,OAEhBlB,EAFgB,mBAGhBI,GACI,EACAe,EAAcnB,EAAOO,YAAcP,EAAOO,WAAWvH,OACrDoI,EAAQP,GAAYA,EAASO,MAAS,OACtCC,EAAOC,IAIX,MAAO5B,EAAU6B,GAAerB,mBAAS,GAGnCsB,EAAOxL,UACNyL,GACHC,cAAcV,GAEhBD,EAAaf,EAAO2B,YAAc3B,EAAOO,WAAWvH,OAChD0G,EAAWyB,EAAc,GAC3Bf,EAAmBW,GAAcrB,EAAW,IAE5C6B,EAAY7B,EAAW,IAIvB6B,GAAa,IAiBXK,EAAU,CACdJ,OACAK,KAdW7L,UACX0L,cAAcV,GACdD,EAAaf,EAAO2B,YAAc3B,EAAOO,WAAWvH,OAChD0G,EAAW,GACbU,EAAmBW,GAAcrB,EAAW,IAE5C6B,EAAY7B,EAAW,IAEvB6B,EAAYvB,EAAOO,WAAWvH,UASlCqH,qBAAU,KACJY,IAEFD,EAAmBc,aAAY,KAC7BJ,cAAcV,GACdQ,GAAK,KACJN,GAAgB,OAEd,IAAMQ,cAAcV,KAC1B,CAACtB,IAEJ,MAAMqC,EAAgBC,IACpB,IAAKhC,EAAOO,aAAeP,EAAOO,WAAWvH,OAC3C,OAAO,EAET,MAAM,OAAE/C,GAAW+L,EAAEvJ,OAAOwJ,QAC5BL,EAAQ3L,MAGV,OACE,eAAC,WAAD,WACE,cAAC4J,EAAD,CAAkB1K,UAAU,QAA5B,SACE,eAACwK,EAAD,WACE,cAACC,EAAD,CAAe,cAAY,OAAOxK,QAAS2M,IAC3C,cAACV,EAAD,CAAMD,KAAMA,SAIhB,cAACvB,EAAD,CAAkB1K,UAAU,OAA5B,SACE,eAACwK,EAAD,WACE,cAACC,EAAD,CAAe,cAAY,OAAOxK,QAAS2M,IAC3C,cAACV,EAAD,CAAMD,KAAMA,a,OCrIP,MAAMc,UAAqBzN,YACxCK,SACE,MAAM,WAAEqN,EAAF,UAAcC,GAAcxN,KAAKP,MAWvC,OACE,sBAAKc,UAAU,eAAf,UACE,oBAAIA,UAAU,qBAAd,+BAEA,eAAC,EAAD,CAAQ4K,OAbG,CAEbkB,UAAU,EACVC,aAAc,IACdL,SAAU,CACRO,KAAM,SAQN,UACE,sBAAKjM,UAAU,mBAAf,UACE,oBAAIA,UAAU,SAAd,mBACA,cAAC,EAAD,UACE,qBAAKE,IAAG,UAAKgN,YAAW,UAAhB,yCAAkE/M,IAAI,GAAGC,MAAM,UAEzF,mBAAGJ,UAAU,SAAb,0FAMF,sBAAKA,UAAU,mBAAf,UACE,oBAAIA,UAAU,SAAd,qBACA,cAAC,EAAD,UACE,qBAAKE,IAAG,UAAKgN,YAAW,UAAhB,qCAA8D/M,IAAI,GAAGC,MAAM,UAErF,mBAAGJ,UAAU,SAAb,+KAOF,sBAAKA,UAAU,mBAAf,UACE,oBAAIA,UAAU,SAAd,uBACA,cAAC,EAAD,UACE,qBAAKE,IAAG,UAAKgN,YAAW,UAAhB,oCAA6D/M,IAAI,GAAGC,MAAM,UAEpF,mBAAGJ,UAAU,SAAb,2FAMF,sBAAKA,UAAU,mBAAf,UACE,oBAAIA,UAAU,SAAd,qBACA,cAAC,EAAD,UACE,qBAAKE,IAAG,UAAKgN,YAAW,UAAhB,kCAA2D/M,IAAI,GAAGC,MAAM,UAElF,mBAAGJ,UAAU,SAAb,yDAGF,sBAAKA,UAAU,mBAAf,UACE,oBAAIA,UAAU,SAAd,oBACA,cAAC,EAAD,UACE,qBAAKE,IAAG,UAAKgN,YAAW,UAAhB,qCAA8D/M,IAAI,GAAGC,MAAM,WAErF,mBAAGJ,UAAU,SAAb,+GAOHgN,GACC,qBAAKhN,UAAU,OAAf,SACE,cAAC,IAAD,CAAaJ,QAAQ,EAAM4I,KAAK,UAAUzD,UAAWkI,EAArD,6B,6BCIGE,MA7EYjO,IACzB,MAAM,UACJkO,EADI,WAGJJ,EAHI,UAIJC,EAJI,cAKJI,EALI,OAMJ/F,EANI,KAOJzC,EAPI,YAQJyI,EARI,OASJC,GACErO,EAEJ,OACE,qBAAKc,UAAU,mBAAf,SACIsN,EA+CA,cAAC,IAAD,IACMpO,EACJsO,UAAU,EACVC,eAAe,EACf7D,MAAM,2HACN8D,QAAQ,WACRC,iBAAiB,YACjB5I,UAAWwI,EACXK,UAAW1O,EAAMmC,KAAKvB,OAtDxB,sBACEE,UAAS,8BACPoN,GAAavI,EAAO,EAAI,UAAY,IAEtC4C,MAAO,CAAEoG,IAAI,GAAD,OAAKR,EAAL,OAJd,UAMGxI,EAAO,GAAKiJ,OAAOC,WAAa,KAC/B,qBAAK/N,UAAU,yBAAf,SACE,cAAC,EAAD,CAAcgN,WAAYA,EAAYC,UAAWA,MAIrD,sBAAKjN,UAAU,wBAAf,UACE,qBAAKA,UAAU,iBAAf,SACE,qBACEA,UAAU,iBACVyH,MAAO,CACLrH,MACW,IAATyE,EACI,KACS,IAATA,EACA,MACS,IAATA,EACA,MACA,YAIXyC,GACC,qBAAKtH,UAAU,WAAf,SACE,cAAC,UAAD,CAAcgO,MAAM,eAIxB,qBACEhO,UAAS,mBADX,SAIE,cAAC,EAAD,IAAkBd,eCrDhC,MAAM+O,UAA6B3O,YAAW,cAAD,yBAE3CoB,MAAQ,CACN4M,aAAa,EACb3E,MAC8B,cAA5BlJ,KAAKP,MAAMmC,KAAK2C,QAAhB,UACOkJ,YAAW,UADlB,6CAEOA,YAAW,UAFlB,0BAGFtE,KAAK,GAAD,OAAKsE,YAAW,UAAhB,yBACJrE,OAC8B,cAA5BpJ,KAAKP,MAAMmC,KAAK2C,QAAhB,UACOkJ,YAAW,UADlB,8CAEOA,YAAW,UAFlB,2BAGF9D,SAC8B,cAA5B3J,KAAKP,MAAMmC,KAAK2C,QAAhB,UACOkJ,YAAW,UADlB,6CAEOA,YAAW,UAFlB,0BAGF5D,QAAQ,GAAD,OAAK4D,YAAW,UAAhB,yBACP7D,UAC8B,cAA5B5J,KAAKP,MAAMmC,KAAK2C,QAAhB,UACOkJ,YAAW,UADlB,8CAEOA,YAAW,UAFlB,2BAGFlJ,QAASvE,KAAKP,MAAMmC,KAAK2C,QACzBoJ,UAAWU,OAAOC,WAAa,IAC/B5E,YAAY,EACZJ,UAAWtJ,KAAKP,MAAM2F,KACtBmE,WAAW,EACXC,YAAY,EACZ+D,aAAYc,OAAOC,WAAa,KAChCV,cAAe,EACfa,SAAU,KACVhF,OAAQ,IAAKzJ,KAAKP,MAAMgK,SA/BiB,KAkH3CJ,aAAejI,UACb,GAAIgM,EAAEvJ,OAAO6K,OAAStB,EAAEvJ,OAAO6K,MAAMtK,OAAS,EAAG,CAC/CpE,KAAKP,MAAM4B,OAAOM,cAAa,GAC/B,MAAMgN,QAAaC,yBAAexB,EAAEvJ,OAAO6K,MAAM,IAC3CG,QAAqBC,mBAASH,GAEpC,IADkBI,+BAAqBF,EAAaG,MAAM,KAAK,IAG7D,OADAhP,KAAKP,MAAM4B,OAAOM,cAAa,GACxBsN,MAAM,4BAEfjP,KAAKP,MAAM4B,OAAOM,cAAa,SAEzB3B,KAAKkP,SAAS,CAClBC,OAAON,EACPpF,OAAOoF,IAGT7O,KAAK+C,SAAS,CACZ0L,SAAUI,EACVnF,YAAa1J,KAAKiB,MAAMyI,eArIa,KA2I3CwF,SAAYE,IACVpP,KAAKP,MAAM4B,OAAOM,cAAa,GAC/B,MAAM,OAAEwN,EAAF,OAAU1F,GAAW2F,EAGzBpP,KAAKP,MAAM4B,OAAOM,cAAa,GAC/B3B,KAAK+C,SAAS,CACZ2G,YAAa1J,KAAKiB,MAAMyI,aAG1B1J,KAAKqP,eAAeF,EAAQ1F,GAC5BzJ,KAAKP,MAAM6P,aAAa,mCAA8B,YAtJf,KA0J3CD,eAAiBjO,MAAOgO,EAAK3F,KAC3B,MAAMpJ,EACgB,IAApBL,KAAKP,MAAM2F,KACP,WACoB,IAApBpF,KAAKP,MAAM2F,KACX,UACA,YAaN,SAXMpF,KAAK+C,SAAS,CAClB,CAAC1C,GAAOoJ,EACRA,OAAQ,IACHzJ,KAAKiB,MAAMwI,OACd,CAACpJ,GAAOoJ,GAEVgF,SAAU,aAGNzO,KAAKP,MAAM4B,OAAOkE,WAAW,eAAgBvF,KAAKiB,OAEpDjB,KAAKP,MAAM2F,MAAQ,EACrB,OAAOR,YAAW,KAChB5E,KAAKuP,eACJ,MAhLoC,KAoL3CC,kBAAoB,KAClBxP,KAAK+C,SAAS,CACZ2G,YAAY,KAtL2B,KA0L3C8D,UAAY,KACVxN,KAAK+C,SAAS,CACZ6K,eAAgB,OA5LuB,KAgM3C2B,WAAanO,UAGX,GAAgC,cAA5BpB,KAAKP,MAAMmC,KAAK2C,SAA+C,IAApBvE,KAAKP,MAAM2F,KAExD,OADApF,KAAK+C,SAAS,CAAEuG,UAAW,IACpBtJ,KAAKP,MAAM4B,OAAOmE,aAAa,eAAgB,GAGxD,MAAMiK,EAAWzP,KAAKP,MAAM2F,WACtBpF,KAAKP,MAAM4B,OAAOmE,aAAa,gBACrC,MAAMkK,EAAc1P,KAAKP,MAAM2F,KAI/B,GAAIsK,IAAgBD,EAClB,OAAO,EAUT,SARMzP,KAAK+C,SAAS,CAClBwG,WAAW,IAOTmG,EAAc,EAOhB,OANA9K,YAAW,KACT5E,KAAK+C,SAAS,CAAEwG,WAAW,MAC1B,GACH3E,YAAW,KACT5E,KAAK+C,SAAS,CAAEyG,YAAY,MAC3B,KACI5E,YAAW,KAChB5E,KAAK+C,SAAS,CACZuG,UAAWoG,MAEZ,KAGL1P,KAAK+C,SAAS,CACZuG,UAAWoG,IAKb,MAAM,OAAEjG,GAAWzJ,KAAKiB,OAClB,SAAE0I,EAAF,QAAYE,EAAZ,UAAqBD,GAAcH,EAEzC,GACGE,GAAYE,GAAWD,GACvBD,GAAYC,GAAyC,cAA5B5J,KAAKP,MAAMmC,KAAK2C,QAC1C,CAEA,SADgCvE,KAAKP,MAAMkQ,sBAAsB3P,KAAKiB,OAEpE,OAAOjB,KAAK+C,SAAS,CAAE8K,aAAa,UAE9B7N,KAAK+C,SAAS,CAClB0G,OAAQ,CACNE,SAAS,KACTE,QAAQ,KACRD,UAAU,QAGd5J,KAAKP,MAAM4B,OAAOkE,WAAW,eAAgBvF,KAAKiB,SA/Pb,KAqQ3C6M,OAAS,KACP9N,KAAKP,MAAM4B,OAAOmJ,eAlOG,gCACfxK,KAAKP,MAAM4B,OAAOC,YAAY,gBACT,iBAAvBtB,KAAKP,MAAM+I,UACbxI,KAAKP,MAAM4B,OAAOM,cAAa,GAC/B3B,KAAKP,MAAMsH,QAAQC,KAAnB,gCAIJI,uBACEH,SAASC,WAAY,EAGvBG,mBAAmBC,EAAWrG,GAE5B,GACEqG,EAAUlC,OAASpF,KAAKP,MAAM2F,MACP,iBAAvBpF,KAAKP,MAAM+I,QAEX,OAIF,MAAM,MAAEoH,EAAF,KAASxK,GAASpF,KAAKP,MAuC7B,IAAI+H,EAtCAoI,GACF5P,KAAK+C,SAAS,CACZwG,WAAW,EACXC,YAAY,EACZF,UAAW,IAGF,IAATlE,IACFR,YAAW,KACT5E,KAAK+C,SAAS,CAAEwG,WAAW,MAC1B,GACH3E,YAAW,KACT5E,KAAK+C,SAAS,CAAEyG,YAAY,MAC3B,MAEDxJ,KAAKP,MAAMmC,OAAS0F,EAAU1F,MAChC5B,KAAK+C,SAAS,CACZmG,MAC8B,cAA5BlJ,KAAKP,MAAMmC,KAAK2C,QACZ,4BACA,mBACN6E,OAC8B,cAA5BpJ,KAAKP,MAAMmC,KAAK2C,QACZ,6BACA,oBACNoF,SAC8B,cAA5B3J,KAAKP,MAAMmC,KAAK2C,QACZ,4BACA,mBACNqF,UAC8B,cAA5B5J,KAAKP,MAAMmC,KAAK2C,QACZ,6BACA,oBACNA,QAASvE,KAAKP,MAAMmC,KAAK2C,UAQL,IAApBvE,KAAKP,MAAM2F,OACboC,EAAK,8BAGiB,IAApBxH,KAAKP,MAAM2F,OACboC,EAAK,gCAGiB,IAApBxH,KAAKP,MAAM2F,OACboC,EAAK,yCAEPxH,KAAKP,MAAMsH,QAAQC,KAAKQ,GA0J1BtH,SAIE,OAHAwE,QAAQC,IAAI,uDAAZ,UAAuE8I,YAAW,UAAlF,0BAIE,cAAC,EAAD,CACE8B,WAAYvP,KAAKuP,WACjBlG,aAAcrJ,KAAKqJ,aACnBmE,UAAWxN,KAAKwN,UAChB0B,SAAUlP,KAAKkP,SACfM,kBAAmBxP,KAAKwP,kBACxB1B,OAAQ9N,KAAK8N,UACT9N,KAAKiB,SACLjB,KAAKP,SAwBF2I,mBAlBf,SAAyBnH,EAAOxB,GAC9B,MAAM,KAAEmC,GAASX,EAAMoH,WACjB,QAAEG,GAAYvH,EAAMqH,KAC1B,MAAO,CACLT,OAAQ5G,EAAMwH,UAAUZ,OACxBzC,KAAMnE,EAAMqH,KAAKuH,kBAAkBzK,KACnCqE,OAAQxI,EAAMqH,KAAKuH,kBAAkBpG,OACrC7H,KAAMA,EACN4G,cAIJ,SAA4BE,GAC1B,MAAO,CACLrH,OAAQsH,6BAAmBC,IAASF,MAIzBN,CAGbS,YAAsB2F,I,QCtSxB,MAAMsB,EAAaC,aAAS,IAAM,2CAElC,MAAMC,UAA8BnQ,YAAW,cAAD,yBAC5CoB,MAAQ,CACNgP,aAAc,KACdC,cAAe,KACf7M,WAAY,GACZoL,SAAU,KACV/K,UAAW,KACXyM,mBAAoB,GACpBC,SAAU,KACVC,cAAc,GAT4B,KAgB5ClP,eAAiBC,UACfpB,KAAKP,MAAM4B,OAAOM,cAAa,GAC/B,MAAM,KAAEC,EAAF,KAAQwD,GAASpF,KAAKP,MAC5B,IAAIoC,QAA0B7B,KAAKP,MAAMgC,kBAAkBK,oBAC3D,IAAKD,EACH,OAAO,EAET,MAAM,UAAEyO,GAAczO,EAAkBI,IAAIC,OAAOqO,QACnD,IAAIC,EAAiBF,EAAU1O,EAAKS,aAahCoO,QAA2BC,+BAAqBF,GAChDG,QAAuBpO,4BAAkBkO,GACzCG,QAAsBzL,wBAAcsL,GAAoB,SAMtDzQ,KAAK+C,SAAS,CAClBkN,aAAcW,EAAcxL,EAAO,GAAGyL,QACtCX,cAAeU,EAAcxL,EAAO,GAAGlC,MACvCG,WAAYsN,EACZR,mBAAoBS,IAEtB5Q,KAAKP,MAAM4B,OAAOM,cAAa,IAnDW,KAwD5C0H,aAAejI,UACb,GAAIgM,EAAEvJ,OAAO6K,OAAStB,EAAEvJ,OAAO6K,MAAMtK,OAAS,EAAG,CAK/C,IAAI0M,EAAU,CACZzQ,KAAM+M,EAAEvJ,OAAO6K,MAAM,GAAGrO,KACxB0I,KAAMqE,EAAEvJ,OAAO6K,MAAM,GAAG3F,MAE1B,MAAM4F,QAAaC,yBAAexB,EAAEvJ,OAAO6K,MAAM,IAC3CG,QAAqBC,mBAASH,GACpCmC,EAAQrH,OAASoF,QAGX7O,KAAK+C,SAAS,CAClBM,WAAY,IACPrD,KAAKiB,MAAMoC,WACd,CAACrD,KAAKiB,MAAMiP,eAAgBY,GAE9BV,SAAU,OACVC,cAAc,MA7EwB,KAoF5CU,WAAa3P,UACX,MAAM,WAAEiC,GAAerD,KAAKiB,MAE5BjB,KAAKP,MAAM4B,OAAOM,cAAa,GAC/B,IAAIqP,EAAO,SACLC,OAAOC,KAAK7N,GAAY8N,SAASC,IACrCJ,EAAO,IACFA,EACH,CAACI,GAAS/N,EAAW+N,GAAQ3H,WAIjCzJ,KAAKP,MAAM4R,uBAAuBL,EAAMhR,KAAK+C,WAhGH,KAmG5C+K,OAAS,KACP9N,KAAKP,MAAM4B,OAAOmJ,aAAY,IAxFhC8G,oBACEtR,KAAKmB,iBA0FPjB,SACE,MAAM,aACJ+P,EADI,WAEJ5M,EAFI,mBAGJ8M,EAHI,SAIJC,EAJI,aAKJC,GACErQ,KAAKiB,OACH,OAAE4G,EAAF,kBAAU0J,GAAsBvR,KAAKP,MAU3C,OACE,cAAC,WAAD,UACI8R,EAoHA,cAAC,IAAD,IACMvR,KAAKP,MACTY,KAAML,KAAKP,MAAMmC,KAAKvB,KACtB0N,UAAU,EACVC,eAAe,EACf7D,MAAM,0JACN8D,QAAQ,WACRC,iBAAiB,YACjB5I,UAAWtF,KAAK8N,OAChBK,UAAWnO,KAAKP,MAAMmC,KAAKvB,OA5H7B,sBAAKE,UAAU,wBAAf,UACE,cAACuP,EAAD,CATN0B,KAAM,gBACNC,MAAO,UACPjF,KAAM,KAQA,mBAAGjM,UAAU,SAAb,mHAIA,sBAAKA,UAAU,oBAAf,UACGsH,GACC,qBAAKtH,UAAU,kBAAf,SACE,qBAAKA,UAAU,uBAAf,SACE,cAAC,UAAD,CAAcgO,MAAM,oBAK1B,sBACEhO,UAAU,qBACVyH,MAAO,CAAErH,MAAO,qBAFlB,UAIE,qBAAKJ,UAAU,kCAAf,SACE,qBACEA,UAAU,iBACVyH,MAAO,CAAErH,MAAOyP,OAGpB,sBACE7P,UAAU,qBACVyH,MAAO,CAAEE,QAASmI,EAAe,KAAO,KAF1C,UAIE,uBACEtH,KAAK,OACLhB,GAAG,aACHqC,OAAQsH,IAAiBpH,OACzBC,SAAUvK,KAAKqJ,eAEjB,sBAAK9I,UAAU,mBAAf,UACE,cAACuP,EAAD,CAAY0B,KAAK,SAAShF,KAAM,GAAIiF,MAAM,YAC1C,sBAAKlR,UAAU,uBAAf,6DACmD,IAChD0P,cAKT,qBAAK1P,UAAU,oBAAoByH,MAAO,CAAErH,MAAO,SAAnD,SACGwP,EAAmB/L,OAAS,GAC3B+L,EAAmBhI,KAAKpI,GAEpB,sBAEEQ,UAAU,cACVyH,MAAO,CACLE,QAAU7E,EAAWtD,EAAKmD,OAAiB,IAAR,OAJvC,UAOE,qBAAK3C,UAAU,YAAf,SACG8C,EAAWtD,EAAKmD,OACf,cAAC4M,EAAD,CACE0B,KAAK,UACLhF,KAAM,IACNiF,MAAM,UAGR,cAAC3B,EAAD,CAAY0B,KAAK,SAAShF,KAAM,GAAIiF,MAAM,YAG9C,gCACE,mBAAGlR,UAAU,0BAAb,SACGR,EAAK8Q,UAER,mBAAGtQ,UAAU,oCAAb,SACG8C,EAAWtD,EAAKmD,OACbG,EAAWtD,EAAKmD,OAAO7C,KACvB,WAGPgD,EAAWtD,EAAKmD,QACf,qBACEzC,IACkC,eAAhC4C,EAAWtD,EAAKmD,OAAO6F,MACS,cAAhC1F,EAAWtD,EAAKmD,OAAO6F,KADvB,UAEO0E,YAAW,UAFlB,0BAGOA,YAAW,UAHlB,WAKF/M,IAAI,GACJC,MAAM,WApCLZ,EAAKgI,WA4CtB,qBAAKxH,UAAU,cAAf,SACE,qBAAKA,UAAU,YAAf,SASE,cAAC,IAAD,CACEJ,OAAQkQ,EACRtH,KAAK,UACLzD,UAAWtF,KAAK+Q,WAHlB,mCAgDD3I,mBAlBf,SAAyBnH,EAAOxB,GAE9B,MAAM,KAAEmC,GAASX,EAAMoH,WACjB,KAAEjD,GAASnE,EAAMqH,KAAKqJ,mBAE5B,MAAO,CACLvM,KAAMA,EACNyC,OAAQ5G,EAAMwH,UAAUZ,OACxBjG,KAAMA,MAIV,SAA4B8G,GAC1B,MAAO,CACLrH,OAAQsH,6BAAmBC,IAASF,MAIzBN,CAGbS,YAAsBmH,IC7NT4B,MAxEInS,IACjB,MAAM,WACJoS,EADI,sBAEJpM,EAFI,uBAGJ4L,EAHI,iBAIJS,EAJI,YAKJC,GACEtS,EAIJ,OACE,0BAASc,UAAU,eAAnB,UACE,sBACEA,UAAS,4BACQ,IAAfsR,EACI,cACe,IAAfA,EACA,cACA,eAEN7J,MAAO,CAAEgK,QAASH,EAAa,EAAI,OAAS,QAR9C,UAU4C,aAAzCpS,EAAMmC,KAAKqQ,gBAAgBpR,IAAIqR,OACS,cAAzCzS,EAAMmC,KAAKqQ,gBAAgBpR,IAAIqR,MAC7B,cAAC,EAAD,CACEzM,sBAAuBA,KACnBhG,IAGN,wBAGDsS,EACC,cAAC,IAAD,IACMtS,EACJ0K,MAAM,0EACNgI,SAAS,mEACTpE,SAAyB,IAAf8D,GAAmC,IAAfA,EAC9B7D,eAAe,EACfE,iBAAiB,4BACjBC,UAAW1O,EAAMmC,KAAKvB,OAGxB,wBAGF,sBAAKE,UAAU,YAAf,WACIuR,GACA,mBAAGvR,UAAU,kBAAb,sCAGc,IAAfsR,GAAoB,cAAC,EAAD,IAA0BpS,UAInC,IAAfoS,GACC,sBACEtR,UAAU,YACVyH,MAAO,CAAEgK,QAASH,EAAa,EAAI,OAAS,QAF9C,UAIE,mBAAGtR,UAAU,4BAAb,wCACA,cAAC,EAAD,IACMd,EACJ4R,uBAAwBA,W,8BCsKrBjJ,uBApBf,SAAyBnH,EAAOxB,GAE9B,MAAM,KAAEmC,GAASX,EAAMoH,WACjB,QAAEG,GAAYvH,EAAMqH,KAE1B,MAAO,CACLT,OAAQ5G,EAAMwH,UAAUZ,OACxBgK,WAAY5Q,EAAMqH,KAAKuJ,WACvBjQ,KAAMA,EACN2G,eAAgBtH,EAAMqH,KAAKC,eAC3BC,cAIJ,SAA4BE,GAC1B,MAAO,CACLrH,OAAQsH,6BAAmBC,IAASF,MAIzBN,CAGbS,aAlOWpJ,IACX,MAAOmQ,EAAOwC,GAAY9G,sBACnBiG,EAAmBc,GAAwB/G,sBAC3CwG,EAAkBQ,GAAuBhH,oBAAS,IAClDgE,GAAgBiD,gBAChBR,EAAaS,GAAkBlH,oBAAS,GAoL/C,OACE,cAAC,EAAD,CACE7F,sBApL0BrE,UAC5B,MAAM,eAAEmH,EAAF,KAAkB3G,GAASnC,GAC3B,WAAE4D,GAAekF,EAGvB,IAAI4C,EAAS,CACX6F,KAAM,CACJ3Q,KAAMgD,EAAWhD,KAAKyF,OACtB9B,QAASX,EAAWW,QAAQ8B,OAC5BC,SAAU1C,EAAW0C,SACrB5B,QAASd,EAAWc,QAAQ2B,OAC5B5B,MAAM,IAAD,OAAMb,EAAWD,eAAe,GAAGqP,OAAO,IAA1C,OAA+CpP,EAAWa,OAC/DG,KAAMhB,EAAWgB,KAAKyB,OACtBlD,QAASS,EAAWT,QAAQ,GAAG4B,MAAQnB,EAAWT,QAAQ,GAAG4B,KAAKsB,OAClEvB,QAASlB,EAAWkB,QAAQ,GAAGC,MAAQnB,EAAWkB,QAAQ,GAAGC,KAAKsB,OAClExB,UAAWjB,EAAWiB,UAAUwB,OAChC2B,YAAapE,EAAWoE,YAAY,GAAGjD,MAAQnB,EAAWoE,YAAY,GAAGjD,KAAKsB,QAEhF4M,UAAW,WACXC,mBAAoB,WAGtB,MAAMC,EAAa,IAAIC,KAAK1H,EAAO6F,KAAKjL,UAAU+M,UAClD3H,EAAO6F,KAAKjL,SAAWgN,KAAUH,GAAY/H,IAAI,KAAMmI,WAEvDvT,EAAM4B,OAAOM,cAAa,GAE1B,IAAIM,QAAYxC,EAAMgC,kBAAkBwR,mBAAmB9H,EAAQvJ,GAEnE,IAAKK,EAMH,OALAxC,EAAM4B,OAAOM,cAAa,GAC1B2N,EACE,8DACA,SAEK7P,EAAM4B,OAAO6R,UAAU,aAEhC,MAAM,KAAEC,GAASlR,GACX,SAAEG,GAAa+Q,EAErB,IAAIC,EAAc,IACbxR,KACAQ,EACHF,OAAQ,IACHN,EAAKM,OACRE,SAAU,aAEZ6P,gBAAiB,IACZrQ,EAAKqQ,gBACRpR,IAAK,IACAe,EAAKqQ,gBAAgBpR,IACxBqR,MAAO,cAGXtP,QAAQhB,EAAKgB,eAGTnD,EAAMgC,kBAAkB4R,WAAWD,GAEzC3T,EAAM4B,OAAOmE,aAAa,mBAC1B/F,EAAM4B,OAAOiS,gBACb7T,EAAM4B,OAAOM,cAAa,GAC1B6Q,GAAe,IAuHb7C,sBA/G0BvO,UAAuB,IAAhB,OAAEqI,GAAa,EAClD,MAAM,KAAE7H,GAASnC,GACX,UAAEmK,EAAF,SAAaD,EAAb,QAAuBE,GAAYJ,EAEzC,IAAI0B,EAAS,CACX6F,KAAM,CACJ5H,OAAQQ,EACR2J,SAAU5J,EACV6J,QAA0B,cAAjB5R,EAAK2C,QAA0BoF,EAAWE,GAErD6I,UAAW,WACXC,mBAAoB,WAKtB,GAHAlT,EAAM4B,OAAOM,cAAa,UAEVlC,EAAMgC,kBAAkBwR,mBAAmB9H,EAAQvJ,GAKjE,aAHMnC,EAAM4B,OAAOoS,WAAW,eAAgB,SACxCrB,GAAS,GACf3S,EAAM4B,OAAOM,cAAa,GACnB2N,EACL,8DACA,SAaJ,IAAI8D,EAAc,IACbxR,EACHM,OAAQ,IACHN,EAAKM,OACRwR,SAAU,aAEZzB,gBAAiB,IACZrQ,EAAKqQ,gBACRpR,IAAK,IACAe,EAAKqQ,gBAAgBpR,IACxB8S,SAAU,eAUhB,aALMlU,EAAMgC,kBAAkB4R,WAAWD,GAEzC3T,EAAM4B,OAAOM,cAAa,GAC1B2Q,GAAoB,GACpBE,GAAe,IACR,GAyDLnB,uBAtD2BjQ,UAC7B,MAAM,KAAEQ,GAASnC,EACjB,IAAI0L,EAAS,CACX6F,OACA0B,UAAW,YACXC,mBAAoB,WAItB,UADgBlT,EAAMgC,kBAAkBwR,mBAAmB9H,EAAQvJ,GAIjE,OADAnC,EAAM4B,OAAOM,cAAa,GACnB2N,EACL,8DACA,SAGJ7P,EAAM4B,OAAOiS,gBAEbjB,GAAqB,GACrB,IAAIe,EAAc,IACbxR,EACHM,OAAQ,IACHN,EAAKM,OACRoO,UAAW,aAEb2B,gBAAiB,IACZrQ,EAAKqQ,gBACRpR,IAAK,IACAe,EAAKqQ,gBAAgBpR,IACxByP,UAAW,qBAKX7Q,EAAMgC,kBAAkB4R,WAAWD,GACzC3T,EAAM4B,OAAOM,cAAa,GAC1B6Q,GAAe,IAkBblN,UAfc,KAChB7F,EAAM4B,OAAOmE,aAAa,mBAC1BgN,GAAe,IAcbT,YAAaA,EACb6B,KAZS,KACXnU,EAAM4B,OAAOmJ,aAAY,GACzBgI,GAAe,OAWT/S,EAEFmQ,QACA2B,oBACAO","file":"static/js/48.b654cd6e.chunk.js","sourcesContent":["import React from \"react\";\nimport { InputKycBasic } from \"../../widgets/inputs\";\n\nconst KycBasicLayout = (props) => {\n  return <InputKycBasic {...props} />;\n};\n\nexport default KycBasicLayout;\n","import React, { Component } from \"react\";\nimport Environtment from \"../../../environment\";\nconst { CountryUrl } = Environtment;\n\nclass ItemListKycBasic extends Component {\n  itemSelection = () => {\n    const { item } = this.props;\n    this.props.select_item(item);\n  };\n\n  render() {\n    const { item, active, suffixText } = this.props;\n\n    const { name, flag } = item;\n\n    // console.log('ItemListKycBasic', item)\n\n    return (\n      <div\n        className={`ItemListKycBasic ${active ? \"active\" : \"\"}`}\n        onClick={this.itemSelection}\n      >\n        <p className=\"fuente\">\n          {flag && <img src={`${CountryUrl}${flag}`} alt=\"\" width={30} />}\n          {name}\n          {suffixText && ` | ( ${suffixText} )`}\n        </p>\n      </div>\n    );\n  }\n}\n\nexport default ItemListKycBasic;\n","import React, { Component } from \"react\";\nimport moment from \"moment\";\nimport KycBasicLayout from \"./kycBasicLayout\";\nimport { kyc } from \"../../api/ui/api.json\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport actions from \"../../../actions\";\nimport { objectToArray, capitalizeString } from \"../../../utils\";\nimport {\n  matchItem,\n  serveKycData,\n  converToInitState,\n  extractSelectList,\n  FormatCountryList,\n} from \"../../../utils\";\n// import SimpleLoader from '../../widgets/loaders'\nimport ItemListKycBasic from \"./itemList\";\nimport withCoinsendaServices from \"../../withCoinsendaServices\";\nimport KycSkeleton from './skeleton'\n\nconst modelFormData = kyc.kyc_basic.natural;\n\n\nclass KycBasicContainer extends Component {\n  state = {\n    select_values:{}\n  };\n\n  async componentDidMount() {\n    await this.init_component();\n    // if(this.props.current === 'kyc_basic'){\n    this.props.history.push(`?form=personal_names`);\n    // }\n    document.onkeydown = (event) => {\n      if (event.keyCode === 13) {\n        event.preventDefault();\n        this.handleSubmit(event);\n      }\n    };\n  }\n\n  componentWillUnmount() {\n    document.onkeydown = false;\n  }\n\n  componentDidUpdate(prevProps, nextState) {\n    // inserto las siguientes rutas para poder hacer seguimiento al funnel desde hotjar\n    if (prevProps.step === this.props.step) {\n      return;\n    }\n    // console.log('||||||||||||||||||||||||||||||| componentDidUpdate KYC BASIC ===> ', prevProps.step, this.props.step, this.props)\n    //\n    // alert()\n    let route;\n    //\n    if (this.props.step === 1) {\n      route = `?form=personal_names`;\n    }\n\n    if (this.props.step === 2) {\n      route = `?form=personal_surnames`;\n    }\n\n    if (this.props.step === 3) {\n      route = `?form=personal_birthday`;\n    }\n\n    if (this.props.step === 4) {\n      route = `?form=personal_phone`;\n    }\n\n    if (this.props.step === 5) {\n      route = `?form=personal_address`;\n    }\n\n    if (this.props.step === 6) {\n      route = `?form=personal_residence_city`;\n    }\n\n    if (this.props.step === 7) {\n      route = `?form=personal_country`;\n    }\n\n    if (this.props.step === 8) {\n      route = `?form=personal_type_id`;\n    }\n\n    if (this.props.step === 9) {\n      route = `?form=personal_number_id`;\n    }\n\n    if (this.props.step === 10) {\n      route = `?form=personal_nacionality`;\n    }\n\n    if (this.props.step === 11) {\n      route = `?form=personal_success`;\n    }\n    this.props.history.push(route);\n\n    if (this.props.step === 10 && this.state.data_state.id_type && (this.state.data_state.id_type[0].code === \"cedula_ciudadania\" ||\n        this.state.data_state.id_type[0].code === \"cedula_extranjeria\")\n    ) {\n      const updateState = async () => {\n        await this.setState({\n          data_state: {\n            ...this.state.data_state,\n            nationality: this.state.data_state.country,\n          },\n        });\n        this.siguiente();\n      };\n      updateState();\n      // from:  personal_type_id\n    }\n  }\n\n  // init_component = async() =>{\n  //   await this.props.action.CurrentForm('kyc_basic')\n  //   // let alturita = document.getElementById('expandibleKycPanel').clientHeight\n  // }\n\n  init_component = async () => {\n    await this.props.action.CurrentForm(\"kyc_basic\");\n    // Debemos desarrollar una pantalla que aparezca en primer instancia pidiento el tipo de persona (legal/natural)\n    // validamos si el (user.verification_level === 'level_0' && user.person_type === null) seteamos un estado para mostrar la pantalla donde pedimos el person_type, ej:this.setState({person_type})\n    // de momento solo aceptaremos personas naturales por lo tanto viene seteado por defecto en (user.person_type:'natural')\n    const { form_kyc_basic_state } = this.props;\n    // console.log(form_kyc_basic_state, modelFormData)\n    let verification_state = await this.props.coinsendaServices.getVerificationState();\n\n    if (!verification_state || verification_state === \"rejected\") {\n      // if(user.verification_level !== 'level_0'){\n      this.props.action.isAppLoading(true);\n      const { user } = this.props;\n      let countryvalidators = await this.props.coinsendaServices.countryValidators();\n\n      let kyc_data_basic = await serveKycData(\n        countryvalidators.res.levels.level_1.personal[user.person_type]\n      );\n      let init_state = await converToInitState(\n        countryvalidators.res.levels.level_1.personal[user.person_type]\n      );\n      let get_country_list = await this.props.coinsendaServices.getCountryList();\n      let select_list = await extractSelectList(\n        kyc_data_basic,\n        countryvalidators.res.levels.level_1.personal[user.person_type]\n      );\n      // console.log('|||||||||__________select_list',kyc_data_basic ,select_list)\n      select_list.country = await FormatCountryList(\n        select_list.country,\n        get_country_list\n      );\n      select_list.countries = get_country_list;\n      await this.setState({ kyc_data_basic, select_list });\n\n      let country_default = await this.matchList({\n        value: \"colombia\",\n        name: \"country_prefix\",\n      });\n\n      let new_init_state = {\n        ...init_state,\n        country_prefix: \"\",\n        ...form_kyc_basic_state.data_state,\n      };\n      // console.log('||||||_______ new_init_state', new_init_state)\n\n      if (!new_init_state.country_prefix) {\n        new_init_state.country_prefix = country_default;\n      }\n      if (!new_init_state.country) {\n        new_init_state.country = country_default;\n      }\n      // console.log('|||||new_init_state', new_init_state)\n\n      // new_init_state.country_prefix = country_default\n      // name_section === 'phone' ? this.matchList({value:'colombia', name:'country_prefix'}) :\n      // let name_section = kyc_data_basic[this.props.step-1].name\n      // console.log('this.props!!!!!!!', this.props, 'kyc_data_basic', kyc_data_basic)\n      // console.log('this.props!!!!!!!', new_init_state)\n      // let current_item = kyc_data_basic[this.props.step - 1];\n      let current_item = kyc_data_basic[0];\n      await this.setState({\n        data_state: new_init_state,\n        message: current_item.message,\n        active: false,\n        colorMessage: \"#50667a\",\n        ui_type: current_item.ui_type,\n        open_sect: false,\n        show_hide_section: false,\n        current_item: current_item.name,\n      });\n\n      // console.log('||||||||||||||||||||||| this.state:', this.state)\n      this.props.action.isAppLoading(false);\n    }\n  };\n\n  // const body = {\n  //   target:{\n  //     name:,\n  //     value:\n  //   }\n  // }\n\n  update = async ({ target }) => {\n    target.preventDefault && target.preventDefault();\n    target.persist && target.persist();\n    // console.log('|||||||||||||||| update func : ', target.value)\n    const { name, value } = target;\n    const { ui_type } = this.state;\n\n    // Check strings\n    if (\n      name === modelFormData.name.name ||\n      name === modelFormData.surname.name\n    ) {\n      if (value && !/(^[ñÑáÁéÉíÍóÓúÚA]?|^\\b)(?!.*?\\s{2})[ñÑáÁéÉíÍóÓúÚA-Za-z ]{1,25}(\\s?)$/g.test(value)) return;}\n\n    if (name === modelFormData.phone.name) {\n      if (value && !/^[0-9]{1,14}$/g.test(value)) return;\n    }\n\n    if (name === modelFormData.address.name) {\n      if (value && value.length > 150) return;\n    }\n\n    if (name === modelFormData.city) {\n      if (value && value.length > 100) return;\n    }\n\n    if (name === modelFormData.id_number.name) {\n      const idType = this.state.data_state.id_type[0].code;\n      if (idType === \"pasaporte\") {\n        if (value && !/^[a-zA-Z0-9]{1,20}$/g.test(value)) return;\n      } else {\n        if (value && !/^[0-9]{1,12}$/g.test(value)) return;\n      }\n    }\n    // Check strings end\n\n    if (name === \"country_prefix\" || name === \"country\" || ui_type === \"select\") {\n      let select_value = await this.matchList(target)\n      if(select_value){\n        console.log('||||||||||||||| Update Function: ', select_value, this.state.data_state)\n        this.setState({\n          data_state: {\n            ...this.state.data_state,\n            [name]: select_value\n          }\n        });\n        return setTimeout(() => {\n          this.setState({ open_sect: false });\n        }, 300);\n      }\n    }\n\n    await this.setState({\n      data_state: {\n        ...this.state.data_state,\n        [name]: value ? capitalizeString(value) : \"\",\n      },\n    });\n    // if(new_value){\n    // this.props.action.UpdateForm('kyc_basic', this.state)\n    // }\n    this.validateActive();\n  };\n\n  matchList = async ({ value, name }) => {\n    if (!value) {\n      this.setState({ current_search: null });\n    }\n    // const {  } = this.props\n    const { select_list } = this.state;\n    let res = await matchItem(\n      select_list[\n        name === \"country_prefix\" || name === \"nationality\" ? \"countries\" : name\n      ],\n      { primary: value },\n      \"code\"\n    );\n    // console.log('||||||matchList', value, name, res)\n    if (!res) {\n      return false;\n    }\n    if (res.length < 50) {\n      this.setState({ current_search: res });\n    }\n    if (res.length === 1) {\n      return res;\n    }\n\n    // console.log('||||||matchList', value, name, current_item, select_list)\n  };\n\n  validateActive = async () => {\n    let arre = await objectToArray(this.state.data_state);\n    const { step } = this.props;\n    if (arre[step - 1]) {\n      return this.setState({\n        active: true,\n      });\n    }\n    return this.unAvailableActive();\n  };\n\n  unAvailableActive = () => {\n    return this.setState({\n      active: false,\n    });\n  };\n\n  siguiente = async () => {\n    const { kyc_data_basic } = this.state;\n    // console.log('NEXT KYC', this.props.step, kyc_data_basic.length, this.state)\n    if (this.props.step <= kyc_data_basic.length) {\n      await this.props.action.UpdateForm(\"kyc_basic\", this.state);\n      await this.props.action.IncreaseStep(\"kyc_basic\");\n\n      if (this.props.step > kyc_data_basic.length) {\n        return this.props.validate_personal_kyc(\"personal\");\n      }\n\n      this._onFocus()\n\n      return this.validateActive();\n    }\n  };\n\n  handleSubmit = async (event) => {\n    event.preventDefault();\n    let arre = await objectToArray(this.state.data_state);\n    const { step } = this.props;\n    const value = arre[step - 1];\n    const { current_item, data_state } = this.state;\n\n    if (!String(value).trim()) {\n      return this.setState({\n        message: \"No se permiten valores vacíos\",\n        colorMessage: \"#ff1100\",\n      });\n    }\n\n    // check birthday\n    if (current_item === modelFormData.birthday.name && value) {\n\n      const birthday = moment(value, \"YYYY/MM/DD\");\n      const isValidBirthDay = birthday.isBefore(moment().subtract(18, \"years\"));\n      // console.log('birthday checking ', value, isValidBirthDay)\n      // debugger\n      \n      if (!isValidBirthDay) {\n        return this.setState({\n          message: \"El registro solo es válido para personas mayores de edad\",\n          colorMessage: \"#ff1100\",\n        });\n      }\n    }\n\n    // console.log('handleSubmit', arre[(step-1)], this.state)\n    if (current_item === \"phone\" && !data_state.country_prefix) {\n      return false;\n    }\n    if (value) {\n      return this.siguiente();\n    }\n    return this.setState({\n      message: this.errMessage(step),\n      colorMessage: \"#ff1100\",\n    });\n  };\n\n  errMessage = (step) => {\n    const { kyc_data_basic } = this.state;\n    return kyc_data_basic[step - 1].errmessage;\n  };\n\n  receivedProps = async (nextProps) => {\n    if (\n      !this.state.kyc_data_basic ||\n      !this.state.kyc_data_basic[nextProps.step - 1]\n    ) {\n      return false;\n    }\n    if (nextProps.step > this.state.kyc_data_basic.length) {\n      return false;\n    }\n    let name_section = this.state.kyc_data_basic[nextProps.step - 1].name;\n    let current_search =\n      (await name_section) === \"phone\"\n        ? this.state.data_state[\"country_prefix\"]\n        : name_section === \"country\"\n        ? this.state.data_state[name_section]\n        : null;\n    await this.setState({\n      message: `${\n        this.state.open_sect\n          ? \"\"\n          : this.state.kyc_data_basic[nextProps.step - 1].message\n      }`,\n      colorMessage: \"#50667a\",\n      ui_type: this.state.kyc_data_basic[nextProps.step - 1].ui_type,\n      current_item: name_section,\n      current_search: current_search ? current_search : null,\n    });\n    // console.log('||||||||| receivedProps - S T A T E', current_search_list, this.state)\n    this.validateActive();\n  };\n\n  toggleSection = () => {\n    this.setState({\n      message: `${\n        !this.state.open_sect\n          ? \"\"\n          : this.state.kyc_data_basic[this.props.step - 1].message\n      }`,\n      open_sect: !this.state.open_sect,\n      show_hide_section: !this.state.show_hide_section,\n    });\n  };\n\n  componentWillReceiveProps(nextProps) {\n    // console.log('componentWillReceiveProps', nextProps, this.props)\n\n    if (nextProps.step !== this.props.step) {\n      this.setState({\n        open_sect: false,\n        show_hide_section: false,\n      });\n    }\n    this.receivedProps(nextProps);\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    if (this.props === nextProps && this.state === nextState) {\n      return false;\n    }\n    return true;\n  }\n\n  _onFocus = () => {\n    // Cerramos la sección de la listas al enfocarnos en el input phone\n    const { open_sect, ui_type, kyc_data_basic } = this.state;\n    const { step } = this.props;\n    const selectHasNotValue = Array.isArray(this.state.data_state[kyc_data_basic[step - 1].name])\n\n    if (ui_type === \"select\" && !selectHasNotValue) {\n      setTimeout(() => {\n        this.setState({ show_hide_section: true });\n      }, 300);\n      return this.setState({\n        message: `${!open_sect ? \"\" : kyc_data_basic[step - 1].message}`,\n        open_sect: true,\n      });\n    }\n  };\n\n  // handle_search_result = async(e) =>{\n  //   // console.log('|||||||| - - - SEARCH RESULT --', e)\n  //   await this.setState({search_result:e})\n  //   this.update_list(e)\n  // }\n\n  clean_search_result = async () => {\n    // await this.setState({search_result:null})\n    const { ui_type, data_state, current_item } = this.state;\n    let new_current_item;\n    if (current_item === \"phone\") {\n      new_current_item = \"country_prefix\";\n    }\n\n    await this.setState({\n      data_state: {\n        ...data_state,\n        [new_current_item ? new_current_item : current_item]: null,\n      },\n      current_search: null,\n    });\n\n    if (ui_type === \"select\") {\n      this.setState({ open_sect: true, show_hide_section: true });\n    }\n  };\n\n  select_item = async (item) => {\n    const { current_item } = this.state;\n\n    let body = {\n      target: {\n        name: current_item,\n        value: item.code,\n      },\n    };\n\n    if (current_item === \"phone\") {\n      body.target.name = \"country_prefix\";\n    }\n\n    await this.update(body);\n    // alert()\n    // setTimeout(() => {\n    //   this.setState({ open_sect: false });\n    // }, 100);\n  };\n\n  render() {\n    // console.log('P R O P S - -   K Y C', this.state)\n    // console.log('|||E S T A D O - -   K Y C', this.state)\n    let {\n      open_sect,\n      data_state,\n      ui_type,\n      current_item,\n      current_search,\n      kyc_data_basic,\n      show_hide_section,\n    } = this.state;\n    const { step } = this.props;\n    // console.log('|||E S T A D O - -   K Y C', this.props.select_list)\n    // console.log('F I N D B A R     K Y C', ui_type, kyc_data_basic[step-1].name, data_state, data_state[kyc_data_basic[step-1].name])\n    // console.log('||||||||||||||||||||| current_search', current_search && current_search.length, current_search )\n    open_sect = open_sect && ui_type !== \"text\";\n\n    // console.log('|||||||||||||||||||||||||||||| expandibleKycPanel ', open_sect, ui_type)\n\n    return (\n      <>\n        {\n          // this.props.loader || !kyc_data_basic || !step ?\n          this.props.loader ||\n          !kyc_data_basic ||\n          !step ||\n          this.props.step > this.state.kyc_data_basic.length ? (\n            // <SimpleLoader/>\n            <KycSkeleton/>\n          ) : (\n            <div className=\"KycLayout\">\n              <p className=\"fuente KycTitle KycTitless\">Verificación Básica</p>\n              <KycBasicLayout\n                update={this.update}\n                handleSubmit={this.handleSubmit}\n                kyc={kyc_data_basic}\n                step={this.props.step}\n                state={{ ...this.state, open_sect }}\n                toggleSection={this.toggleSection}\n                _onFocus={this._onFocus}\n                search_results={\n                  ui_type === \"phone\"\n                    ? data_state.country_prefix\n                      ? data_state.country_prefix\n                      : null\n                    : ui_type === \"select\"\n                    ? data_state[kyc_data_basic[step - 1].name]\n                      ? data_state[kyc_data_basic[step - 1].name]\n                      : null\n                    : null\n                }\n                clean_search_result={this.clean_search_result}\n              />\n              <div id=\"expandibleKycPanel\" className=\"expandibleKycPanel\" style={{height: open_sect ? \"65vh\" : \"0\", opacity: open_sect ? \"1\" : \"0\"}}>\n\n                {show_hide_section && (\n                  <div className={`contexpandibleKycPanel ${open_sect ? \"openSec\" : \"\"}`}>\n                    {current_search && current_search.length && (\n                      <div className=\"contCountryList\">\n                        {current_search.map((item) => {\n                          return (\n                            <ItemListKycBasic\n                              key={item.id}\n                              item={item}\n                              select_item={this.select_item}\n                              active={\n                                current_search &&\n                                current_search.length === 1 &&\n                                true\n                              }\n                            />\n                          );\n                        })}\n                      </div>\n                    )}\n\n                    {(ui_type === \"select\" || ui_type === \"phone\") &&\n                      !current_search && (\n                        <div className=\"contCountryList\">\n                          { this.state.select_list[current_item === \"phone\" || current_item === \"nationality\" ? \"countries\" : current_item].map((item) => {\n                            return (\n                              <ItemListKycBasic\n                                key={item.id}\n                                item={item}\n                                select_item={this.select_item}\n                                suffixText={\n                                  this.state.current_item === \"id_type\" &&\n                                  (item.code === \"cedula_ciudadania\" ||\n                                    item.code === \"cedula_extranjeria\")\n                                    ? this.state.data_state.country &&\n                                      this.state.data_state.country[0].code\n                                    : null\n                                }\n                              />\n                            );\n                          })}\n                        </div>\n                      )}\n                  </div>\n                )}\n              </div>\n            </div>\n          )\n        }\n      </>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  const { user } = state.modelData;\n\n  return {\n    ...state.form.form_kyc_basic,\n    current: state.form.current,\n    form_kyc_basic_state: state.form.form_kyc_basic,\n    user: user,\n    loader: state.isLoading.loader,\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    action: bindActionCreators(actions, dispatch),\n  };\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(withCoinsendaServices(KycBasicContainer));\n","import React from \"react\";\nimport \"./marco.css\";\n\nconst Marco = (props) => {\n  const { type } = props;\n  return (\n    <div\n      className={`${\n        type === \"green\" ? \"imgDashFramework\" : \"imgDashFramework2 MarcoPolo\"\n      }  `}\n    >\n      <i\n        className={`${\n          type === \"green\"\n            ? \"fas fa-check-circle green\"\n            : \"fas fa-times-circle reds\"\n        }  IconMarco`}\n      ></i>\n\n      <div\n        className={`top_left ${\n          type === \"green\" ? \"green corner\" : \"reds corner2\"\n        }`}\n      />\n      <div\n        className={`top_right   ${\n          type === \"green\" ? \"green corner\" : \"reds corner2\"\n        }`}\n      />\n      <div\n        className={`bottom_right  ${\n          type === \"green\" ? \"green corner\" : \"reds corner2\"\n        } `}\n      />\n      <div\n        className={`bottom_left  ${\n          type === \"green\" ? \"green corner\" : \"reds corner2\"\n        } `}\n      />\n\n      {props.children}\n\n      <p className={`textMarc ${type === \"green\" ? \"green\" : \"reds\"}`}>\n        {type === \"green\" ? \"\" : \"EJEMPLO INCORRECTO\"}\n      </p>\n    </div>\n  );\n};\n\nexport default Marco;\n","import React, { Fragment } from \"react\";\nimport { ButtonForms } from \"../../../widgets/buttons/buttons\";\nimport Marco from \"../../../widgets/marco\";\nimport { ACCEPT_FILE_TYPE_ADVANCE_KYC } from \"../../../../const/const\";\nimport useKeyActionAsClick from \"../../../../hooks/useKeyActionAsClick\";\n\nconst KycDashBoard = (props) => {\n  const {\n    step,\n    front,\n    back,\n    selfie,\n    goFileLoader,\n    prevState,\n    animation,\n    action,\n    animation2,\n    id_type,\n    base64,\n    fileloader,\n  } = props;\n\n  const { newfront, newselfie, newback } = base64;\n  const idUploadPic = useKeyActionAsClick(\n    !fileloader,\n    \"upload-pic-button\",\n    13,\n    true,\n    \"onkeyup\",\n    true\n  );\n\n  return (\n    <div className=\"KycDashBoard\">\n      <div className=\"imgDashContainer\">\n        <p className={`fuente ${step > 3 ? \"topThree\" : \"\"}`}>\n          {step === 1\n            ? \"1. Frente del documento\"\n            : step === 2\n            ? \"2. Revés del documento\"\n            : step === 3 || step === 4\n            ? \"3. Selfie con documento y texto\"\n            : \"¡Lo hiciste muy Bien!\"}\n        </p>\n        {/* pasaporte */}\n\n        <Marco type=\"green\">\n          <div className={`imgDashContainerD ${animation ? \"imgDCAnim\" : \"\"}`}>\n            <div className={`imgDashSon`}>\n              <img\n                className={`imgDashItem ${id_type} ${animation2 ? \"frontImg\" : \"\"}`}\n                src={front}\n                style={{ opacity: prevState === 1 ? \"1\" : \"0\", zIndex: 2 }}\n                alt=\"\"\n                width=\"100%\"\n              />\n              <img\n                className={`imgDashItem ${animation2 ? \"backImg\" : \"backInit\"}`}\n                src={back}\n                style={{\n                  opacity: prevState > 2 || id_type === \"pasaporte\" ? \"0\" : \"1\",\n                  zIndex: 1,\n                }}\n                alt=\"\"\n                width=\"100%\"\n              />\n              <img\n                className=\"imgDashItem\"\n                src={selfie}\n                style={{ opacity: prevState > 2 ? \"1\" : \"0\" }}\n                alt=\"\"\n                width=\"100%\"\n              />\n            </div>\n          </div>\n        </Marco>\n\n        <div\n          className=\"imgDashCarousel\"\n          style={{\n            gridTemplateColumns:\n              id_type === \"pasaporte\" ? \"repeat(2, 1fr)\" : \"repeat(3, 1fr)\",\n            maxWidth: id_type === \"pasaporte\" ? \"260px\" : \"400px\",\n          }}\n        >\n          <div\n            className={`imgDashStep ${step === 1 ? \"active\" : \"\"}`}\n            title=\"1\"\n          >\n            {!newfront ? (\n              <img\n                className={`imgDashItem ${id_type}`}\n                src={front}\n                alt=\"\"\n                width=\"80\"\n                title=\"1\"\n              />\n            ) : (\n              <Fragment>\n                <img\n                  className=\"imgDashItem\"\n                  src={newfront}\n                  alt=\"\"\n                  width=\"80\"\n                  title=\"1\"\n                />\n                <i className=\"fas fa-check-circle\"></i>\n              </Fragment>\n            )}\n          </div>\n\n          {id_type !== \"pasaporte\" && (\n            <div\n              className={`imgDashStep ${step === 2 ? \"active\" : \"\"}`}\n              title=\"2\"\n            >\n              {!newback ? (\n                <img\n                  className=\"imgDashItem\"\n                  src={back}\n                  alt=\"\"\n                  width=\"80\"\n                  title=\"2\"\n                />\n              ) : (\n                <Fragment>\n                  <i className=\"fas fa-check-circle\"></i>\n                  <img\n                    className=\"imgDashItem\"\n                    src={newback}\n                    alt=\"\"\n                    width=\"80\"\n                    title=\"2\"\n                  />\n                </Fragment>\n              )}\n            </div>\n          )}\n\n          <div\n            className={`imgDashStep ${\n              step === 3 || step === 4 ? \"active\" : \"\"\n            }`}\n            title=\"3\"\n          >\n            {!newselfie ? (\n              <img\n                className=\"imgDashItem\"\n                src={selfie}\n                alt=\"\"\n                width=\"80\"\n                title=\"3\"\n              />\n            ) : (\n              <Fragment>\n                <i className=\"fas fa-check-circle\"></i>\n                <img\n                  className=\"imgDashItem\"\n                  src={newselfie}\n                  alt=\"\"\n                  width=\"80\"\n                  title=\"3\"\n                />\n              </Fragment>\n            )}\n          </div>\n        </div>\n\n        <div className=\"controlContainers\">\n          {step < 4 ? (\n            <div className=\"contButtonUpload\">\n              <input\n                id={!fileloader ? idUploadPic : \"\"}\n                type=\"file\"\n                accept={ACCEPT_FILE_TYPE_ADVANCE_KYC.join()}\n                onChange={goFileLoader}\n              />\n              <ButtonForms active={true} type=\"primary\">\n                {\" \"}\n                Subir Foto\n              </ButtonForms>\n            </div>\n          ) : (\n            <ButtonForms\n              active={true}\n              type=\"primary\"\n              siguiente={action.toggleModal}\n            >\n              {\" \"}\n              Finalizar\n            </ButtonForms>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default KycDashBoard;\n","import styled from \"styled-components\";\n\nexport const SliderContainer = styled.section`\n  height: 100%;\n  width: 100%;\n  position: relative;\n  overflow: hidden;\n  display: grid;\n  grid-template-rows: 1fr;\n  grid-template-columns: 1fr;\n`;\n\nexport const SliderC = styled.div`\n  height: 100%;\n  display: grid;\n  grid-template-rows: 1fr;\n  transition: 0.3s;\n  transform: ${(props) =>\n    props.position === 1\n      ? `translateX(0px)`\n      : `translateX(-${props.position}px)`};\n  width: ${(props) => props.width && `${props.width}00%`};\n  grid-template-columns: ${(props) =>\n    props.width ? `repeat(${props.width}, 1fr)` : `repeat(1, 1fr)`};\n`;\n\nexport const Control = styled.div`\n  width: 100%;\n  height: 100%;\n  display: grid;\n  align-items: center;\n  justify-items: center;\n  position: relative;\n`;\n\nexport const HandleControl = styled.div`\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  background: transparent;\n`;\n\nexport const ControlContainer = styled.div`\n  overflow: hidden;\n  position: absolute;\n  align-self: center;\n  cursor: pointer;\n  transition: 0.3s;\n  background: white;\n  border-radius: 50%;\n  color: black;\n  opacity: 0.15;\n\n  &:hover {\n    opacity: 1;\n  }\n\n  &.left {\n    left: 15px;\n    transform: rotate(-90deg);\n    &:hover {\n      transform: rotate(-90deg) scale(1.3) !important;\n    }\n    &:active {\n      transition: 0.1s;\n      transform: rotate(-90deg) scale(1) !important;\n    }\n  }\n\n  &.right {\n    right: 15px;\n    transform: rotate(90deg);\n    &:hover {\n      transform: rotate(90deg) scale(1.3) !important;\n    }\n    &:active {\n      transition: 0.1s;\n      transform: rotate(90deg) scale(1) !important;\n    }\n  }\n`;\n","import React, { useEffect, useState, Fragment } from \"react\";\nimport { MdKeyboardArrowUp } from \"react-icons/md\";\nimport {\n  SliderContainer,\n  SliderC,\n  Control,\n  HandleControl,\n  ControlContainer,\n} from \"./styles\";\n\nconst Slider = (props) => {\n  // const tag = document.getElementsByTagName(\"div\")\n\n  const { config } = props;\n\n  const [slider, setSlider] = useState();\n  const [currentPosition, setcurrentPosition] = useState(1);\n\n  useEffect(() => {\n    setSlider(document.getElementById(\"Rj45#_SendaSlider\"));\n  }, [slider]);\n\n  useEffect(() => {\n    if (slider && slider.childNodes) {\n      let i = 1;\n      for (let child of slider.childNodes) {\n        child.classList.add(`sendaSlider`, `slider_${i}`);\n        i++;\n      }\n    }\n  }, [slider]);\n\n  // console.log('|||||||||||||||| Slider ==> ', slider)\n\n  const onOver = () => {\n    console.log(\"|||||||||||||||| Over ==>\");\n  };\n\n  return (\n    <SliderContainer onMouseOver={onOver}>\n      <SliderC\n        id=\"Rj45#_SendaSlider\"\n        position={currentPosition}\n        width={slider && slider.childNodes.length}\n      >\n        {props.children}\n      </SliderC>\n\n      {slider && config && config.controls && (\n        <Controls\n          slider={slider}\n          setcurrentPosition={setcurrentPosition}\n          {...props}\n        />\n      )}\n    </SliderContainer>\n  );\n};\n\nexport default Slider;\n\nconst Controls = ({\n  config: { controls, autoSwap, swapInterval },\n  slider,\n  setcurrentPosition,\n}) => {\n  let totalSlides = slider.childNodes && slider.childNodes.length;\n  let size = (controls && controls.size) || \"35px\";\n  let Icon = MdKeyboardArrowUp;\n  let slideWidth;\n  let autoSwapInterval;\n\n  const [position, setPosition] = useState(0);\n  // let position = 0\n\n  const next = async (interval) => {\n    if (!interval) {\n      clearInterval(autoSwapInterval);\n    }\n    slideWidth = slider.clientWidth / slider.childNodes.length;\n    if (position < totalSlides - 1) {\n      setcurrentPosition(slideWidth * (position + 1));\n      // position++\n      setPosition(position + 1);\n    } else {\n      // if(interval){\n      // position = (-1)\n      setPosition(-1);\n      // }\n    }\n  };\n\n  const prev = async () => {\n    clearInterval(autoSwapInterval);\n    slideWidth = slider.clientWidth / slider.childNodes.length;\n    if (position > 0) {\n      setcurrentPosition(slideWidth * (position - 1));\n      // position--\n      setPosition(position - 1);\n    } else {\n      setPosition(slider.childNodes.length);\n    }\n  };\n\n  const methods = {\n    next,\n    prev,\n  };\n\n  useEffect(() => {\n    if (autoSwap) {\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n      autoSwapInterval = setInterval(() => {\n        clearInterval(autoSwapInterval);\n        next(true);\n      }, swapInterval || 1500);\n    }\n    return () => clearInterval(autoSwapInterval);\n  }, [position]);\n\n  const actionHandle = (e) => {\n    if (!slider.childNodes || !slider.childNodes.length) {\n      return false;\n    }\n    const { action } = e.target.dataset;\n    methods[action]();\n  };\n\n  return (\n    <Fragment>\n      <ControlContainer className=\"right\">\n        <Control>\n          <HandleControl data-action=\"next\" onClick={actionHandle} />\n          <Icon size={size} />\n        </Control>\n      </ControlContainer>\n\n      <ControlContainer className=\"left\">\n        <Control>\n          <HandleControl data-action=\"prev\" onClick={actionHandle} />\n          <Icon size={size} />\n        </Control>\n      </ControlContainer>\n    </Fragment>\n  );\n};\n","import React, { Component } from \"react\";\nimport Marco from \"../../../widgets/marco\";\nimport { ButtonForms } from \"../../../widgets/buttons/buttons\";\nimport Slider from \"../../../widgets/slider\";\nimport { getCdnPath } from '../../../../environment'\nimport \"./carousel.css\";\n\nexport default class SimpleSlider extends Component {\n  render() {\n    const { onBoarding, continuar } = this.props;\n\n    const config = {\n      // pauseOnFocus\n      autoSwap: true,\n      swapInterval: 7000,\n      controls: {\n        size: \"50px\",\n      },\n    };\n\n    return (\n      <div className=\"SimpleSlider\">\n        <h1 className=\"TitleSlider fuente\">La foto DEBE ser:</h1>\n\n        <Slider config={config}>\n          <div className=\"SimpleSliderItem\">\n            <h1 className=\"fuente\">Plana</h1>\n            <Marco>\n              <img src={`${getCdnPath('assets')}kyc_identity/examples/perspective.png`} alt=\"\" width=\"80%\" />\n            </Marco>\n            <p className=\"fuente\">\n              La fotografía del documento debe ser recta, no puede tener\n              perspectiva\n            </p>\n          </div>\n\n          <div className=\"SimpleSliderItem\">\n            <h1 className=\"fuente\">Legible</h1>\n            <Marco>\n              <img src={`${getCdnPath('assets')}kyc_identity/examples/borroso.png`} alt=\"\" width=\"80%\" />\n            </Marco>\n            <p className=\"fuente\">\n              Asegúrese, que la identificación este totalmente visible y\n              enfocada, incluidos su nombre completo, fecha de nacimiento y\n              número de identificación.\n            </p>\n          </div>\n\n          <div className=\"SimpleSliderItem\">\n            <h1 className=\"fuente\">Iluminada</h1>\n            <Marco>\n              <img src={`${getCdnPath('assets')}kyc_identity/examples/oscuro.png`} alt=\"\" width=\"80%\" />\n            </Marco>\n            <p className=\"fuente\">\n              La imagen no debe estar oscura, procure tomarla con iluminación\n              natural\n            </p>\n          </div>\n\n          <div className=\"SimpleSliderItem\">\n            <h1 className=\"fuente\">A color</h1>\n            <Marco>\n              <img src={`${getCdnPath('assets')}kyc_identity/examples/gris.png`} alt=\"\" width=\"80%\" />\n            </Marco>\n            <p className=\"fuente\">La imagen no debe estar a blanco y negro</p>\n          </div>\n\n          <div className=\"SimpleSliderItem\">\n            <h1 className=\"fuente\">Entera</h1>\n            <Marco>\n              <img src={`${getCdnPath('assets')}kyc_identity/examples/sinmarc.png`} alt=\"\" width=\"100%\" />\n            </Marco>\n            <p className=\"fuente\">\n              Asegúrese, que las 4 esquinas del documento se vean completamente\n              en el marco de la foto\n            </p>\n          </div>\n        </Slider>\n\n        {onBoarding && (\n          <div className=\"holi\">\n            <ButtonForms active={true} type=\"primary\" siguiente={continuar}>\n              Continuar\n            </ButtonForms>\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport KycDashBoard from \"./dashboard/kycDashboardLayout\";\nimport SimpleSlider from \"./carousel/carouselLayout\";\n// import CropImg from \"../../widgets/cropimg\";\nimport SimpleLoader from \"../../widgets/loaders\";\nimport SuccessComponentScreen from \"../../widgets/success_screen/success_screen\";\nimport \"../kyc.css\";\n\nconst KycAdvancedLayout = (props) => {\n  const {\n    dashboard,\n    // fileloader,\n    onBoarding,\n    continuar,\n    topOnBoarding,\n    loader,\n    step,\n    kyc_success,\n    finish,\n  } = props;\n\n  return (\n    <div className=\"KycAvancedLayout\">\n      {!kyc_success ? (\n        <div\n          className={`containerKycAvanced ${\n            dashboard && step < 5 ? \"desktop\" : \"\"\n          }`}\n          style={{ top: `${topOnBoarding}vh` }}\n        >\n          {step < 5 && window.innerWidth > 768 && (\n            <div className=\"KYCAstep KycOnboarding\">\n              <SimpleSlider onBoarding={onBoarding} continuar={continuar} />\n            </div>\n          )}\n\n          <div className=\"KYCAstep KycDashboard\">\n            <div className=\"KycprogressBar\">\n              <div\n                className=\"kycPropgressed\"\n                style={{\n                  width:\n                    step === 1\n                      ? \"0%\"\n                      : step === 2\n                      ? \"33%\"\n                      : step === 3\n                      ? \"66%\"\n                      : \"100%\",\n                }}\n              ></div>\n            </div>\n            {loader && (\n              <div className=\"auxDesma\">\n                <SimpleLoader label=\"cargando\" />\n              </div>\n            )}\n\n            <div\n              className={`KycDashContainer`}\n              // className={`KycDashContainer ${fileloader ? \"fileloader\" : \"\"}`}\n            >\n              <KycDashBoard {...props} />\n              {/* <div className=\"ssoa\">\n                <CropImg {...props} />\n              </div> */}\n            </div>\n          </div>\n        </div>\n      ) : (\n        <SuccessComponentScreen\n          {...props}\n          confetti={true}\n          cta_secondary={false}\n          title=\"!Lo has hecho muy bien!, tus documentos han sido enviados exitosamente y nuestro sistema se encuentra verificándolos.\"\n          classes=\"long_msg\"\n          cta_primary_text=\"Finalizar\"\n          siguiente={finish}\n          user_name={props.user.name}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default KycAdvancedLayout;\n","import React, { Component } from \"react\";\nimport KycAdvancedLayout from \"./kyc_advanced_layout\";\nimport { readFile, img_compressor, includesAnyImageMime } from \"../../../utils\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport actions from \"../../../actions\";\nimport withCoinsendaServices from \"../../withCoinsendaServices\";\nimport { getCdnPath } from '../../../environment'\n\nclass KycAdvancedContainer extends Component {\n\n  state = {\n    kyc_success: false,\n    front:\n      this.props.user.id_type === \"pasaporte\"\n        ? `${getCdnPath('assets')}kyc_identity/front_passport.png`\n        : `${getCdnPath('assets')}kyc_identity/front.png`,\n    back: `${getCdnPath('assets')}kyc_identity/back.png`,\n    selfie:\n      this.props.user.id_type === \"pasaporte\"\n        ? `${getCdnPath('assets')}kyc_identity/selfie_passport.png`\n        : `${getCdnPath('assets')}kyc_identity/selfie.png`,\n    newfront:\n      this.props.user.id_type === \"pasaporte\"\n        ? `${getCdnPath('assets')}kyc_identity/front_passport.png`\n        : `${getCdnPath('assets')}kyc_identity/front.png`,\n    newback: `${getCdnPath('assets')}kyc_identity/back.png`,\n    newselfie:\n      this.props.user.id_type === \"pasaporte\"\n        ? `${getCdnPath('assets')}kyc_identity/selfie_passport.png`\n        : `${getCdnPath('assets')}kyc_identity/selfie.png`,\n    id_type: this.props.user.id_type,\n    dashboard: window.innerWidth > 768 ? true : false,\n    fileloader: false,\n    prevState: this.props.step,\n    animation: false,\n    animation2: false,\n    onBoarding: window.innerWidth > 768 ? false : true,\n    topOnBoarding: 0,\n    imageSrc: null,\n    base64: { ...this.props.base64 },\n  };\n\n\n\n  async componentDidMount() {\n    await this.props.action.CurrentForm(\"kyc_advanced\");\n    if (this.props.current === \"kyc_advanced\") {\n      this.props.action.isAppLoading(false);\n      this.props.history.push(`?form=identity_front_upload`);\n    }\n  }\n\n  componentWillUnmount() {\n    document.onkeydown = false;\n  }\n\n  componentDidUpdate(prevProps, state) {\n    // inserto las siguientes rutas para poder hacer seguimiento al funnel desde hotjar\n    if (\n      prevProps.step === this.props.step &&\n      this.props.current === \"kyc_advanced\"\n    ) {\n      return;\n    }\n    // console.log('||||||||||||||||||||||||||||||| componentDidUpdate KYC ADVANCE ===> ', prevProps.step, this.props.step, this.props)\n\n    const { reset, step } = this.props;\n    if (reset) {\n      this.setState({\n        animation: false,\n        animation2: false,\n        prevState: 1,\n      });\n    }\n    if (step === 2) {\n      setTimeout(() => {\n        this.setState({ animation: true });\n      }, 1);\n      setTimeout(() => {\n        this.setState({ animation2: true });\n      }, 300);\n    }\n    if (this.props.user !== prevProps.user) {\n      this.setState({\n        front:\n          this.props.user.id_type === \"pasaporte\"\n            ? \"./docs/front_passport.png\"\n            : \"./docs/front.png\",\n        selfie:\n          this.props.user.id_type === \"pasaporte\"\n            ? \"./docs/selfie_passport.png\"\n            : \"./docs/selfie.png\",\n        newfront:\n          this.props.user.id_type === \"pasaporte\"\n            ? \"./docs/front_passport.png\"\n            : \"./docs/front.png\",\n        newselfie:\n          this.props.user.id_type === \"pasaporte\"\n            ? \"./docs/selfie_passport.png\"\n            : \"./docs/selfie.png\",\n        id_type: this.props.user.id_type,\n      });\n    }\n\n    //\n    let route;\n    //\n\n    if (this.props.step === 2) {\n      route = `?form=identity_back_upload`;\n    }\n\n    if (this.props.step === 3) {\n      route = `?form=identity_selfie_upload`;\n    }\n\n    if (this.props.step === 4) {\n      route = `?form=identity_files_uploaded_success`;\n    }\n    this.props.history.push(route);\n  }\n\n  goFileLoader = async (e) => {\n    if (e.target.files && e.target.files.length > 0) {\n      this.props.action.isAppLoading(true);\n      const file = await img_compressor(e.target.files[0]);\n      const imageDataUrl = await readFile(file);\n      const isAnImage = includesAnyImageMime(imageDataUrl.split(\",\")[1])\n      if(!isAnImage){\n        this.props.action.isAppLoading(false);\n        return alert('Solo se aceptan imagenes')\n      }\n      this.props.action.isAppLoading(false);\n\n      await this.subirImg({\n        urlImg:imageDataUrl,\n        base64:imageDataUrl,\n      })\n\n      this.setState({\n        imageSrc: imageDataUrl,\n        fileloader: !this.state.fileloader,\n      });\n    }\n  };\n\n\n  subirImg = (img) => {\n    this.props.action.isAppLoading(true);\n    const { urlImg, base64 } = img;\n    // simulamos llamado del endpoint para guardar imagen\n    // setTimeout(() => {\n      this.props.action.isAppLoading(false);\n      this.setState({\n        fileloader: !this.state.fileloader,\n      });\n\n      this.updateLocalImg(urlImg, base64);\n      this.props.toastMessage(\"¡Imagen cargada con éxito!\", \"success\");\n    // }, 2000);\n  };\n\n  updateLocalImg = async (img, base64) => {\n    const name =\n      this.props.step === 1\n        ? \"newfront\"\n        : this.props.step === 2\n        ? \"newback\"\n        : \"newselfie\";\n    // this.props.action.UpdatePicKyc({[name]:img})\n    await this.setState({\n      [name]: base64,\n      base64: {\n        ...this.state.base64,\n        [name]: base64,\n      },\n      imageSrc: null,\n    });\n\n    await this.props.action.UpdateForm(\"kyc_advanced\", this.state);\n\n    if (this.props.step <= 3) {\n      return setTimeout(() => {\n        this.stepChange();\n      }, 700);\n    }\n  };\n\n  cancelarSubidaImg = () => {\n    this.setState({\n      fileloader: false,\n    });\n  };\n\n  continuar = () => {\n    this.setState({\n      topOnBoarding: -100,\n    });\n  };\n\n  stepChange = async () => {\n    // manejo esta estructura ya que el estep tambien se podrá alterar al dar click en los elementos ./kycDashboardLayout.js=>.imgDashStep\n    // const currentStep = step.target.title\n    if (this.props.user.id_type === \"pasaporte\" && this.props.step === 1) {\n      this.setState({ prevState: 3 });\n      return this.props.action.IncreaseStep(\"kyc_advanced\", 3);\n    }\n\n    const prevStep = this.props.step;\n    await this.props.action.IncreaseStep(\"kyc_advanced\");\n    const currentStep = this.props.step;\n\n    // console.log(`DEBUGEANDO ANDO::::::-----____----- CURRENT: ${currentStep} -- PREVSTEP: ${prevStep}`)\n\n    if (currentStep === prevStep) {\n      return false;\n    }\n    await this.setState({\n      animation: false,\n    });\n\n    // console.log(`|||||| KYC CONTAINER Steps current ${currentStep} , prev ${prevStep}`, this.props)\n    // if(currentStep != 3 && prevStep != 3){\n\n    // Ejecutamos este if para aplicar la animacion de la cedula\n    if (currentStep < 3) {\n      setTimeout(() => {\n        this.setState({ animation: true });\n      }, 1);\n      setTimeout(() => {\n        this.setState({ animation2: true });\n      }, 300);\n      return setTimeout(() => {\n        this.setState({\n          prevState: currentStep,\n        });\n      }, 500);\n    }\n\n    this.setState({\n      prevState: currentStep,\n    });\n\n    // Si todo sale bien, Finalizamos y enviamos la información para validar en el back\n    // console.log('||||||||| currentStep', currentStep)\n    const { base64 } = this.state;\n    const { newfront, newback, newselfie } = base64;\n\n    if (\n      (newfront && newback && newselfie) ||\n      (newfront && newselfie && this.props.user.id_type === \"pasaporte\")\n    ) {\n      let finish_kyc_advanced = await this.props.validate_identity_kyc(this.state);\n      if (finish_kyc_advanced) {\n        return this.setState({ kyc_success: true });\n      }else{\n        await this.setState({\n          base64: {\n            newfront:null,\n            newback:null,\n            newselfie:null\n          },\n        })\n        this.props.action.UpdateForm(\"kyc_advanced\", this.state);\n      }\n\n    }\n  };\n\n  finish = () => {\n    this.props.action.toggleModal();\n  };\n\n  render() {\n    console.log('||||||||||||||||||| KYC ADVANCED ==> getCdnPath ==> ', `${getCdnPath('assets')}kyc_identity/back.png`)\n \n\n    return (\n      <KycAdvancedLayout\n        stepChange={this.stepChange}\n        goFileLoader={this.goFileLoader}\n        continuar={this.continuar}\n        subirImg={this.subirImg}\n        cancelarSubidaImg={this.cancelarSubidaImg}\n        finish={this.finish}\n        {...this.state}\n        {...this.props}\n      />\n    );\n  }\n}\n\nfunction mapStateToProps(state, props) {\n  const { user } = state.modelData;\n  const { current } = state.form;\n  return {\n    loader: state.isLoading.loader,\n    step: state.form.form_kyc_advanced.step,\n    base64: state.form.form_kyc_advanced.base64,\n    user: user,\n    current,\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    action: bindActionCreators(actions, dispatch),\n  };\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(withCoinsendaServices(KycAdvancedContainer));\n","import React, { Component, Fragment } from \"react\";\nimport loadable from \"@loadable/component\";\nimport { ButtonForms } from \"../../widgets/buttons/buttons.js\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport actions from \"../../../actions\";\nimport {\n  readFile,\n  objectToArray,\n  addIndexToRootObject,\n  converToInitState,\n} from \"../../../utils\";\nimport SimpleLoader from \"../../widgets/loaders\";\nimport SuccessComponentScreen from \"../../widgets/success_screen/success_screen\";\nimport { img_compressor } from \"../../../utils\";\nimport { ACCEPT_FILE_TYPE } from \"../../../const/const\";\nimport withCoinsendaServices from \"../../withCoinsendaServices\";\nimport { getCdnPath } from '../../../environment'\n\n\nconst IconSwitch = loadable(() => import(\"../../widgets/icons/iconSwitch\"));\n\nclass KycFinancialComponent extends Component {\n  state = {\n    current_name: null,\n    current_value: null,\n    data_state: {},\n    imageSrc: null,\n    open_sect: null,\n    kyc_financial_list: [],\n    widthBar: \"0%\", //estos estados estan hardcodeados y aún no se trabajan\n    availableCta: false, //estos estados estan hardcodeados y aún no se trabajan\n  };\n\n  componentDidMount() {\n    this.init_component();\n  }\n\n  init_component = async () => {\n    this.props.action.isAppLoading(true);\n    const { user, step } = this.props;\n    let countryvalidators = await this.props.coinsendaServices.countryValidators();\n    if (!countryvalidators) {\n      return false;\n    }\n    const { financial } = countryvalidators.res.levels.level_2;\n    let financial_data = financial[user.person_type];\n    // let financial_data = {\n    //   rut:{\n    //     id:1,\n    //     ui_name:'RUT',\n    //     value:'rut'\n    //   },\n    //   compro:{\n    //     id:2,\n    //     ui_name:'COMPRO',\n    //     value:'compro'\n    //   }\n    // }\n    let kyc_financial_data = await addIndexToRootObject(financial_data);\n    let kyc_data_state = await converToInitState(kyc_financial_data);\n    let kyc_financial = await objectToArray(kyc_financial_data, true);\n    // console.log('|||||||| countryvalidators', kyc_financial, `kyc_financial_data`, kyc_data_state)\n    // console.log('|||||||| countryvalidators', financial_data)\n\n    // falta declarar el length del estado, para crear la barra de carga referente a cantidad de archivos a cargar\n\n    await this.setState({\n      current_name: kyc_financial[step - 1].ui_name,\n      current_value: kyc_financial[step - 1].value,\n      data_state: kyc_data_state,\n      kyc_financial_list: kyc_financial,\n    });\n    this.props.action.isAppLoading(false);\n\n    // console.log('|||||||| countryvalidators', kyc_financial[step-1], `step: ${step}`, this.state, kyc_financial)\n  };\n\n  goFileLoader = async (e) => {\n    if (e.target.files && e.target.files.length > 0) {\n      // console.log('|||||||| goFileLoader before', e.target.files)\n      //\n      // const imageDataUrl = await readFile(e.target.files[0])\n      // this.props.action.isAppLoading(false)\n      let payload = {\n        name: e.target.files[0].name,\n        type: e.target.files[0].type,\n      };\n      const file = await img_compressor(e.target.files[0]);\n      const imageDataUrl = await readFile(file);\n      payload.base64 = imageDataUrl;\n      // console.log('|||||||| goFileLoader payload', payload, this.state)\n\n      await this.setState({\n        data_state: {\n          ...this.state.data_state,\n          [this.state.current_value]: payload,\n        },\n        widthBar: \"100%\", //esto toca trabajarlo en componentes futuros, de momento queda hardcodeado\n        availableCta: true,\n      });\n\n      // console.log('|||||||| goFileLoader payload', payload, this.state)\n    }\n  };\n\n  send_files = async () => {\n    const { data_state } = this.state;\n\n    this.props.action.isAppLoading(true);\n    let info = {};\n    await Object.keys(data_state).forEach((indice) => {\n      info = {\n        ...info,\n        [indice]: data_state[indice].base64,\n      };\n    });\n\n    this.props.validate_financial_kyc(info, this.setState);\n  };\n\n  finish = () => {\n    this.props.action.toggleModal(false);\n  };\n\n  render() {\n    const {\n      current_name,\n      data_state,\n      kyc_financial_list,\n      widthBar,\n      availableCta,\n    } = this.state;\n    const { loader, financial_success } = this.props;\n\n    // console.log('||||| KycFinancialComponent ', this.state)\n\n    const atributos = {\n      icon: \"kyc_financial\",\n      color: \"#0066AA\",\n      size: 50,\n    };\n\n    return (\n      <Fragment>\n        {!financial_success ? (\n          <div className=\"KycFinancialComponent\">\n            <IconSwitch {...atributos} />\n            <p className=\"fuente\">\n              Completa la verificación financiera para operar con cantidades\n              superiores a $7.000 dolares al mes.\n            </p>\n            <div className=\"panelImgFinancial\">\n              {loader && (\n                <div className=\"loaderFinancial\">\n                  <div className=\"loaderFinancial_cont\">\n                    <SimpleLoader label=\"Cargando...\" />\n                  </div>\n                </div>\n              )}\n\n              <div\n                className=\"FinancialUploadImg\"\n                style={{ width: \"calc(100% - 40px)\" }}\n              >\n                <div className=\"KycprogressBar financial loader\">\n                  <div\n                    className=\"kycPropgressed\"\n                    style={{ width: widthBar }}\n                  ></div>\n                </div>\n                <div\n                  className=\"loaderImgComponent\"\n                  style={{ opacity: availableCta ? \".4\" : \"1\" }}\n                >\n                  <input\n                    type=\"file\"\n                    id=\"uploadIMGF\"\n                    accept={ACCEPT_FILE_TYPE.join()}\n                    onChange={this.goFileLoader}\n                  />\n                  <div className=\"payloadFinancial\">\n                    <IconSwitch icon=\"upload\" size={70} color=\"#3e87d9\" />\n                    <div className=\"fuente textFinancial\">\n                      Toca para cargar el archivo .JPG/.PNG/.PDF de tu{\" \"}\n                      {current_name}\n                    </div>\n                  </div>\n                </div>\n              </div>\n              <div className=\"FinancialUploaded\" style={{ width: \"250px\" }}>\n                {kyc_financial_list.length > 0 &&\n                  kyc_financial_list.map((item) => {\n                    return (\n                      <div\n                        key={item.id}\n                        className=\"item_loaded\"\n                        style={{\n                          opacity: !data_state[item.value] ? \"0.4\" : \"1\",\n                        }}\n                      >\n                        <div className=\"contIconS\">\n                          {data_state[item.value] ? (\n                            <IconSwitch\n                              icon=\"success\"\n                              size={100}\n                              color=\"white\"\n                            />\n                          ) : (\n                            <IconSwitch icon=\"upload\" size={70} color=\"white\" />\n                          )}\n                        </div>\n                        <div>\n                          <p className=\"item_loaded_text fuente\">\n                            {item.ui_name}\n                          </p>\n                          <p className=\"item_loaded_text fileName fuente2\">\n                            {data_state[item.value]\n                              ? data_state[item.value].name\n                              : \"...\"}\n                          </p>\n                        </div>\n                        {data_state[item.value] && (\n                          <img\n                            src={\n                              data_state[item.value].type === \"image/jpeg\" ||\n                              data_state[item.value].type === \"image/png\"\n                                ? `${getCdnPath('assets')}pictures.png`\n                                : `${getCdnPath('assets')}pdf.png`\n                            }\n                            alt=\"\"\n                            width=\"30px\"\n                          />\n                        )}\n                      </div>\n                    );\n                  })}\n              </div>\n            </div>\n            <div className=\"Kyccontrols\">\n              <div className=\"Kcontrols\">\n                {/* {\n                window.innerWidth>350 &&\n                <ButtonForms\n                  active={true}\n                  type=\"secundary\"\n                  // siguiente={exit}\n                >{window.innerWidth>768 ? 'Lo haré despues': 'No' }</ButtonForms>\n              } */}\n                <ButtonForms\n                  active={availableCta}\n                  type=\"primary\"\n                  siguiente={this.send_files}\n                >\n                  ¡Enviar!\n                </ButtonForms>\n              </div>\n            </div>\n          </div>\n        ) : (\n          // <div>Sucess</div>\n          <SuccessComponentScreen\n            {...this.props}\n            name={this.props.user.name}\n            confetti={true}\n            cta_secondary={false}\n            title=\"!Lo has hecho muy bien!, tus documentos han sido enviados exitosamente, los analizaremos y te pondremos al tanto de novedades lo más pronto posible.\"\n            classes=\"long_msg\"\n            cta_primary_text=\"Finalizar\"\n            siguiente={this.finish}\n            user_name={this.props.user.name}\n          />\n        )}\n      </Fragment>\n      // {/* <SuccessComponentScreen {...props}/> */}\n    );\n  }\n}\n\nfunction mapStateToProps(state, props) {\n  // console.log('|||| mapStateToProps', state.form.form_kyc_financial)\n  const { user } = state.modelData;\n  const { step } = state.form.form_kyc_financial;\n\n  return {\n    step: step,\n    loader: state.isLoading.loader,\n    user: user,\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    action: bindActionCreators(actions, dispatch),\n  };\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(withCoinsendaServices(KycFinancialComponent));\n","import React from \"react\";\nimport KycBasicContainer from \"./basic/kyc_basic_container\";\nimport KycAdvancedContainer from \"./advanced/kyc_advanced_container\";\nimport KycFinancialComponent from \"./financial/kyc_financial\";\nimport SuccessComponentScreen from \"../widgets/success_screen/success_screen\";\nimport \"./kyc.css\";\n\nconst KycLayout = (props) => {\n  const {\n    globalStep,\n    validate_personal_kyc,\n    validate_financial_kyc,\n    identity_success,\n    showSuccess,\n  } = props;\n  // console.log('||||||||||||| KycBasicContainer init_state - - - ', init_state)\n  // let level = user.verification_level\n  // console.log( '||||||||||||||||||||||||||||||||||| CURRENT FORM =>', props)\n  return (\n    <section className=\"KycLayoutMom\">\n      <div\n        className={`KycLayoutCarousel ${\n          globalStep === 0\n            ? \"globalStep0\"\n            : globalStep === 1\n            ? \"globalStep1\"\n            : \"globalStep2\"\n        }`}\n        style={{ display: globalStep < 3 ? \"grid\" : \"none\" }}\n      >\n        {props.user.security_center.kyc.basic !== \"accepted\" &&\n        props.user.security_center.kyc.basic !== \"confirmed\" ? (\n          <KycBasicContainer\n            validate_personal_kyc={validate_personal_kyc}\n            {...props}\n          />\n        ) : (\n          <div></div>\n        )}\n\n        {showSuccess ? (\n          <SuccessComponentScreen\n            {...props}\n            title=\"Has completado de forma exitosa el proceso de verificación básica\"\n            cta_text=\"¿Quieres continuar con el proceso de verifiación avanzada?\"\n            confetti={globalStep === 0 || globalStep === 1 ? true : false}\n            cta_secondary={true}\n            cta_primary_text=\"Continuar verificación\"\n            user_name={props.user.name}\n          />\n        ) : (\n          <div />\n        )}\n\n        <div className=\"KycLayout\">\n          {!identity_success && (\n            <p className=\"fuente KycTitle\">Verificación Avanzada</p>\n          )}\n\n          {globalStep === 2 && <KycAdvancedContainer {...props} />}\n        </div>\n      </div>\n\n      {globalStep === 3 && (\n        <div\n          className=\"KycLayout\"\n          style={{ display: globalStep > 2 ? \"grid\" : \"none\" }}\n        >\n          <p className=\"fuente KycTitle financial\">Verificación Financiera</p>\n          <KycFinancialComponent\n            {...props}\n            validate_financial_kyc={validate_financial_kyc}\n          />\n        </div>\n      )}\n    </section>\n  );\n};\n\nexport default KycLayout;\n","import React from \"react\";\nimport KycLayout from \"./kycLayout\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport actions from \"../../actions\";\nimport { useState } from \"react\";\nimport useToastMessage from \"../../hooks/useToastMessage\";\nimport withCoinsendaServices from \"../withCoinsendaServices\";\nimport BigNumber from \"bignumber.js\";\n// import moment from \"moment\";\n// import \"moment/locale/es\";\n// moment.locale(\"es\");\n\n\nconst Kyc = (props) => {\n  const [reset, setReset] = useState();\n  const [financial_success, setFinancial_success] = useState();\n  const [identity_success, setIdentity_success] = useState(false);\n  const [toastMessage] = useToastMessage();\n  const [showSuccess, setShowSuccess] = useState(false);\n\n  const validate_personal_kyc = async () => {\n    const { form_kyc_basic, user } = props;\n    const { data_state } = form_kyc_basic;\n\n\n    let config = {\n      info: {\n        name: data_state.name.trim(),\n        surname: data_state.surname.trim(),\n        birthday: data_state.birthday,\n        address: data_state.address.trim(),\n        phone: `+${data_state.country_prefix[0].prefix[0]}${data_state.phone}`,\n        city: data_state.city.trim(),\n        country: data_state.country[0].code && data_state.country[0].code.trim(),\n        id_type: data_state.id_type[0].code && data_state.id_type[0].code.trim(),\n        id_number: data_state.id_number.trim(),\n        nationality: data_state.nationality[0].code && data_state.nationality[0].code.trim(),\n      },\n      info_type: \"personal\",\n      verification_level: \"level_1\",\n    };\n    \n    const _timeStamp = new Date(config.info.birthday).getTime()\n    config.info.birthday = BigNumber(_timeStamp).div(1000).toString()\n\n    props.action.isAppLoading(true);\n\n    let res = await props.coinsendaServices.updateLevelProfile(config, user);\n\n    if (!res) {\n      props.action.isAppLoading(false);\n      toastMessage(\n        \"No puedes verificarte en este momento, intenta más tarde\",\n        \"error\" \n        );\n      return props.action.CleanForm(\"kyc_basic\");\n    }\n    const { data } = res;\n    const { personal } = data;\n\n    let user_update = {\n      ...user,\n      ...personal,\n      levels: {\n        ...user.levels,\n        personal: \"confirmed\",\n      },\n      security_center: {\n        ...user.security_center,\n        kyc: {\n          ...user.security_center.kyc,\n          basic: \"confirmed\",\n        },\n      },\n      country:user.country\n    };\n\n    await props.coinsendaServices.updateUser(user_update);\n\n    props.action.IncreaseStep(\"kyc_global_step\");\n    props.action.success_sound();\n    props.action.isAppLoading(false);\n    setShowSuccess(true);\n    // setTimeout(()=>{\n    // props.action.isAppLoading(false)\n    // props.action.ReduceStep('kyc_basic')\n    // },1000)\n    // }, 3000)\n  };\n\n  const validate_identity_kyc = async ({ base64 }) => {\n    const { user } = props;\n    const { newselfie, newfront, newback } = base64;\n\n    let config = {\n      info: {\n        selfie: newselfie,\n        id_front: newfront,\n        id_back: user.id_type === \"pasaporte\" ? newfront : newback,\n      },\n      info_type: \"identity\",\n      verification_level: \"level_1\",\n    };\n    props.action.isAppLoading(true);\n\n    let res = await props.coinsendaServices.updateLevelProfile(config, user);\n    if (!res) {\n      await props.action.ReduceStep(\"kyc_advanced\", 1);\n      await setReset(true);\n      props.action.isAppLoading(false);\n      return toastMessage(\n        \"No puedes verificarte en este momento, intenta más tarde\",\n        \"error\"\n      );\n    }\n\n    // if (!res) {\n    //   props.action.isAppLoading(false);\n    //   toastMessage(\n    //     \"No puedes verificarte en este momento, intenta más tarde\",\n    //     \"error\" \n    //     );\n    //   return props.action.CleanForm(\"kyc_advanced\");\n    // }\n\n    let user_update = {\n      ...user,\n      levels: {\n        ...user.levels,\n        identity: \"confirmed\",\n      },\n      security_center: {\n        ...user.security_center,\n        kyc: {\n          ...user.security_center.kyc,\n          advanced: \"confirmed\",\n        },\n      },\n    };\n    // console.log('||||||||||| VALIDATE_IDENTITY_kyc', user_update)\n    await props.coinsendaServices.updateUser(user_update);\n\n    props.action.isAppLoading(false);\n    setIdentity_success(true);\n    setShowSuccess(true);\n    return true;\n  };\n\n  const validate_financial_kyc = async (info) => {\n    const { user } = props;\n    let config = {\n      info,\n      info_type: \"financial\",\n      verification_level: \"level_2\",\n    };\n\n    let res = await props.coinsendaServices.updateLevelProfile(config, user);\n    if (!res) {\n      // await props.action.ReduceStep('kyc_basic', 1)\n      props.action.isAppLoading(false);\n      return toastMessage(\n        \"No puedes verificarte en este momento, intenta más tarde\",\n        \"error\"\n      );\n    }\n    props.action.success_sound();\n\n    setFinancial_success(true);\n    let user_update = {\n      ...user,\n      levels: {\n        ...user.levels,\n        financial: \"confirmed\",\n      },\n      security_center: {\n        ...user.security_center,\n        kyc: {\n          ...user.security_center.kyc,\n          financial: \"confirmed\",\n        },\n      },\n    };\n    // console.log('||||||||||| VALIDATE_IDENTITY_kyc', user_update)\n    await props.coinsendaServices.updateUser(user_update);\n    props.action.isAppLoading(false);\n    setShowSuccess(true);\n  };\n\n  const siguiente = () => {\n    props.action.IncreaseStep(\"kyc_global_step\");\n    setShowSuccess(false);\n  };\n\n  const exit = () => {\n    props.action.toggleModal(false);\n    setShowSuccess(false);\n  };\n\n  return (\n    <KycLayout\n      validate_personal_kyc={validate_personal_kyc}\n      validate_identity_kyc={validate_identity_kyc}\n      validate_financial_kyc={validate_financial_kyc}\n      siguiente={siguiente}\n      showSuccess={showSuccess}\n      exit={exit}\n      {...props}\n      {...{\n        reset,\n        financial_success,\n        identity_success,\n      }}\n    />\n  );\n};\n\nfunction mapStateToProps(state, props) {\n  // console.log('S T A T E -- K Y C --- C O N T A I N E R', state)\n  const { user } = state.modelData;\n  const { current } = state.form;\n\n  return {\n    loader: state.isLoading.loader,\n    globalStep: state.form.globalStep,\n    user: user,\n    form_kyc_basic: state.form.form_kyc_basic,\n    current,\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    action: bindActionCreators(actions, dispatch),\n  };\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(withCoinsendaServices(Kyc));\n"],"sourceRoot":""}