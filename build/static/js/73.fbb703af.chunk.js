(this["webpackJsonpcoinsenda-app"]=this["webpackJsonpcoinsenda-app"]||[]).push([[73,34,55,78,94],{444:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return o}));var a=n(2),i=n(9);const c={modalRestriction:!0,prev:37,next:39,default:0,originalLength:!1};function s(e){const t={...c,...e},{modalRestriction:n,uniqueIdForElement:s,loader:o,items:r}=t,[d,l]=Object(a.useState)(-1);let p=n&&Object(i.d)((e=>e.form.isModalVisible)),u=n&&Object(i.d)((e=>e.ui.modal.render));Object(a.useEffect)((()=>{if(r&&r.length>0&&!o){if(p)return;const e=document.getElementById("".concat(s).concat(t.default));e&&e.focus()}}),[r,o]),Object(a.useEffect)((()=>{n&&(u||p)&&l(-1)}),[u,p]),Object(a.useEffect)((()=>window.innerWidth<900?(window.KEY_CODES_META=null,window.onkeydown=null,window.onkeyup=null,window.onkeypress=null,()=>null):(window.onkeydown=e=>{if(!u&&!p&&r&&r.length>0){if(p)return;const n=t.originalLength?r.length:r.length-1,a=d<0;let i=0,c=null;e.keyCode===t.prev&&(i=a?n:d-1,c=document.getElementById("".concat(s).concat(Math.max(0,i)))),e.keyCode===t.next&&(i=a?0:d+1,c=document.getElementById("".concat(s).concat(Math.min(n,i)))),13===e.keyCode&&(i=a?0:d,c=document.getElementById("".concat(s).concat(Math.min(n,i)))),c&&c.focus()}},()=>{window.onkeydown=!1})),[window.onkeydown,p,r,o,u,d]);return[e=>{d!==e&&l(e)}]}function o(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const{suprKeyAction:c,enterKeyAction:s}=t,[o,r]=Object(a.useState)(!1),d=n&&Object(i.d)((e=>e.form.isModalVisible)),l=n&&Object(i.d)((e=>e.ui.modal.render));Object(a.useEffect)((()=>{if(window.innerWidth<900)return window.KEY_CODES_META=null,window.onkeydown=null,window.onkeyup=null,window.onkeypress=null,()=>null;{const t=document.getElementById(e.focusedId);t&&(t.onfocus=()=>{r(!0),e.setCurrentSelection(e.number)},t.onblur=()=>{r(!1)},t.onkeydown=e=>{t.blur(),d||l||(46===e.keyCode&&(e.stopPropagation(),c((()=>t.focus()))),13===e.keyCode&&(s(),e.stopPropagation(),e.preventDefault()))})}}),[d,e.uniqid]);const p=()=>{const t=document.getElementById(e.focusedId);t&&t.focus()};return[o,p]}},451:function(e,t,n){"use strict";n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return h})),n.d(t,"d",(function(){return b}));var a=n(2),i=n(4),c=n(14),s=n(61),o=n(21),r=(n(43),n(473),n(1));const d=Object(i.a)((()=>Promise.resolve().then(n.bind(null,30)))),{CountryUrl:l}=(Object(i.a)((()=>n.e(69).then(n.bind(null,534)))),o.a),p=e=>{const{clase:t,disabled:n,address:a,focusAction:i,status:c,addressVerify:s,unFocusAction:o,state_item:l,autoFocus:p}=e;return Object(r.jsxs)("div",{className:"".concat(t||"containerInputComponent"),children:[Object(r.jsx)("p",{className:"labelText fuente",style:{display:e.label?"initial":"none"},children:e.label}),Object(r.jsxs)("div",{className:"inputContainer ".concat(e.active?"inputActivado":""," ").concat(l),children:[Object(r.jsx)("input",{className:"inputElement ".concat(e.active?"inputActivado":""," ").concat(s),type:e.type,placeholder:e.placeholder,onChange:e.actualizarEstado,onFocus:i,onBlur:o,name:e.name,value:e.value,onKeyPress:"account_number"===e.name?e.handleKeyPress:null,disabled:n,autoFocus:p,autoComplete:"off"}),a&&Object(r.jsx)("div",{className:"contIconAddress",children:Object(r.jsx)(d,{icon:"Verify"===s?"verify":"wallet",color:"Verify"===s?"#4caf50":"gray",size:25})})]}),("number"===e.type||"password"===e.type)&&Object(r.jsx)("p",{className:"statusInput",children:c})]})},u=e=>{const{clase:t,label:n,active:a,type:i,placeholder:c,actualizarEstado:o,name:d,value:l,handleKeyPress:p,status:u,verifying:h,error:m,handleFocus:b,handleBlur:j,disabled:f}=e;return Object(r.jsxs)("div",{className:"".concat(t||"containerInputComponent AuthInputComp"),children:[Object(r.jsx)("p",{className:"labelText fuente",style:{display:n?"initial":"none"},children:n}),Object(r.jsx)("div",{className:"inputContainer inputAuths",style:{border:h&&!a?"1px solid #039aff":a?"1px solid #59b200":m?"1px solid red":"1px solid #50667a61"},children:h?Object(r.jsx)("div",{className:"AuthLoader",children:Object(r.jsx)(s.SimpleLoader,{})}):Object(r.jsx)("input",{className:"inputElement TwoFactorTypo fuente2",style:{color:a?"#59b200":"gray"},type:i,placeholder:c,onChange:o,name:d,defaultValue:l,onKeyPress:"account_number"===d?p:null,onFocus:b||null,onBlur:j||null,disabled:f,autoFocus:!0})}),Object(r.jsxs)("p",{className:"statusInput fuente",style:{color:h&&!a?"#039aff":a?"#59b200":m?"red":"#50667a61"},children:[Object(r.jsx)("i",{className:"fas fa-check",style:{display:a?"initial":"none"}}),u]})]})};a.Component;class h extends a.Component{constructor(){super(...arguments),this.state={placeHolder:(window.innerWidth>768&&this.props.classNames,"0"),finalValue:""}}componentDidMount(){const{value:e,service:t}=this.props;this.setState({finalValue:e?t(e):this.state.placeHolder})}componentWillReceiveProps(e){const{value:t}=e;t?this.setState({finalValue:Object(c.number_format)(t)}):this.setState({finalValue:this.state.placeHolder})}render(){const{actualizar:e,handleKeyPress:t,value:n,name:a,autoFocus:i,classNames:c,minAmountLabel:s}=this.props,{finalValue:o}=this.state,d={fontSize:o.length<8?"50px":o.length<12?"40px":"30px"};return console.log("finalValue ==> ",n),Object(r.jsxs)("div",{className:"containerInputComponent with-adapt ".concat(c||""),children:[Object(r.jsx)("input",{className:"inp2_ inputElement2 signoPesos fuente2 width-adapt-child",type:"text",style:d,placeholder:"$ ".concat(this.state.placeHolder),onChange:e,name:a,autoFocus:i,value:n?"$ ".concat(o):"",onKeyPress:t}),s&&n&&Object(r.jsx)("p",{className:"__minAmountLabel fuente2",children:s})]})}}const m=e=>{const{toggleSection:t,search_result:n,open:a,update:i,clean_search_result:c,autoFocus:s}=e;return Object(r.jsxs)("div",{className:"PhoneamEsta ".concat(a?"openS":""),onClick:a?null:t,children:[Object(r.jsxs)("div",{className:"inputPhone",children:[n&&Object(r.jsx)("img",{src:"".concat(l).concat(n.flag),alt:"",className:"PhoneamEsta_img",width:20,height:20}),Object(r.jsxs)("p",{className:"fuentePrin PhoneamEsta_p",children:["+ ",n?n.prefix[0]:"--"]}),Object(r.jsx)("div",{className:"inputComponentPhone ".concat(a?"openS":""," ").concat(n?"search_result":""),children:n?Object(r.jsxs)("p",{className:"search_result_kyc ".concat(a?"openS":""),children:[n.name,Object(r.jsx)("i",{className:"fas fa-times cerratelo",onClick:c})]}):Object(r.jsx)("input",{type:"text",className:"inputElement3",autoFocus:s,placeholder:"Escribe el pa\xeds del indicativo.",onChange:i,name:"country_prefix"})})]}),Object(r.jsx)("i",{className:"fas fa-chevron-down PhoneamEsta_icon ".concat(a?"anim":""),onClick:t}),Object(r.jsx)("span",{className:"linePhone"})]})},b=e=>{const{kyc:t,update:n,handleSubmit:a,state:i,step:c,toggleSection:s,_onFocus:o,search_results:d,clean_search_result:l}=e;let p=Array.isArray(d)&&d[0];return Object(r.jsxs)("div",{id:"kycPrime",className:"containerInputComponent2 ".concat(i.open_sect?"openS":""),children:[Object(r.jsx)("div",{className:"inputLabelsCont",children:Object(r.jsx)("div",{className:"InputCarous",style:{top:"-".concat(40*(c-1),"px")},children:t.map((e=>Object(r.jsx)("p",{className:"labelText2 fuente",children:e.label},e.id)))})}),Object(r.jsxs)("div",{className:"inputContainer3 ".concat(i.active?"inputActivado":""),children:[t.map((t=>{let s={};"date"===i.ui_type&&(console.log("|||||||||||| isDateInput ====> ",i),s={min:"1940-01-01",max:"2003-12-12",pattern:/\d{4}-\d{2}-\d{2}/,autoFocus:!0});const d="inputElement3 ".concat(i.active?"inputActivado":""," ").concat("phone"===i.ui_type?"phone":"");return c===t.id&&Object(r.jsxs)("form",{onSubmit:a,id:"".concat("phone"===i.ui_type?"phone":""),children:["phone"===i.ui_type&&Object(r.jsx)(m,{open:i.open_sect,autoFocus:!0,search_result:p,...e}),p&&"select"===i.ui_type?Object(r.jsxs)("p",{className:"search_result_kyc openS",children:[p.name,Object(r.jsx)("i",{className:"fas fa-times cerratelo",onClick:l})]}):Object(r.jsx)("input",{autoFocus:!0,className:d,type:"phone"===i.ui_type||"select"===i.ui_type?"text":i.ui_type,placeholder:i.data_state[t.name]?i.data_state[t.name]:t.placeholder,onChange:n,name:t.name,value:i.data_state[t.name],onFocus:o,...s},t.id)]},t.id)})),Object(r.jsx)("div",{className:"InputProgressBar",children:Object(r.jsx)("div",{className:"InputProgressed",style:{width:c<2?0:"".concat(100*c/t.length,"%")}})}),Object(r.jsx)("div",{className:"ctaInputKyc ".concat(i.open_sect?"openPhone":""),onClick:i.open_sect?s:a,children:Object(r.jsxs)("div",{className:"contCtaKyc",children:[Object(r.jsx)("i",{className:"fas fa-arrow-right arrowcito backInputKyc"}),Object(r.jsx)("i",{className:" ".concat("phone"===i.ui_type?"fas fa-mobile-alt":"fas fa-check"," frontInputKyc")})]})})]}),Object(r.jsxs)("div",{className:"InputContainerT",children:[Object(r.jsx)("p",{className:"fuente Inputmsg",style:{color:"".concat(i.colorMessage)},children:i.message}),Object(r.jsxs)("p",{className:"fuente2 InputStep",children:[c,"/",t.length]})]})]})};t.e=p},454:function(e,t,n){"use strict";var a,i,c,s,o,r,d,l,p,u=n(5),h=n(2),m=n(6),b=n(90),j=n(55),f=n(146),x=n(516),g=n(3),w=n(9),v=n(21),_=n(58),O=n.n(_),y=(n(240),n(1));O.a.locale("es");t.a=e=>{var t,n,a,i,c,s;let{order:o,title:r,TitleSuffix:d,theme:l}=e;const[p,u]=Object(h.useState)([]),{deposit_providers:m,tx_path:b,path:v}=Object(j.a)(),[,_]=Object(f.a)(),S=Object(w.d)((e=>Object(j.b)(e))),T=S?null===(t=S[null===o||void 0===o||null===(n=o.currency)||void 0===n?void 0:n.currency])||void 0===t?void 0:t.symbol:null===o||void 0===o||null===(a=o.currency)||void 0===a||null===(i=a.currency)||void 0===i?void 0:i.toUpperCase(),E=b||v||window.location.pathname.includes("referral")&&"deposits"||"withdraw",P=async e=>{const t="pending"===e.state;return[["Fecha de creaci\xf3n:",O()(null===e||void 0===e?void 0:e.created_at).format("LL")],["ID del dep\xf3sito:",null===e||void 0===e?void 0:e.id],["Estado:",Object(x.getState)(null===e||void 0===e?void 0:e.state)],["Cantidad ".concat(t?"por depositar":"depositada",":"),"".concat(await _(null===e||void 0===e?void 0:e.amount_neto,null===e||void 0===e?void 0:e.currency)," ").concat(T)],["Costo del dep\xf3sito:","".concat((null===e||void 0===e?void 0:e.cost)&&await _(null===e||void 0===e?void 0:e.cost,null===e||void 0===e?void 0:e.currency)," ").concat(T)],["Cantidad ".concat(t?"por acreditar":"acreditada",":"),"".concat(await _(null===e||void 0===e?void 0:e.amount,null===e||void 0===e?void 0:e.currency)," ").concat(T)]]},M=async e=>[["Fecha de creaci\xf3n:",O()(null===e||void 0===e?void 0:e.created_at).format("LL")],["ID del retiro:",null===e||void 0===e?void 0:e.id],["Estado:",Object(x.getState)(null===e||void 0===e?void 0:e.state)],["Total del retiro:","".concat(await _(null===e||void 0===e?void 0:e.amount,null===e||void 0===e?void 0:e.currency)," ").concat(T)],["Costo del retiro:","".concat((null===e||void 0===e?void 0:e.cost)&&await _(null===e||void 0===e?void 0:e.cost,null===e||void 0===e?void 0:e.currency)," ").concat(T)],["Cantidad recibida:","".concat(await _(null===e||void 0===e?void 0:e.amount_neto,null===e||void 0===e?void 0:e.currency)," ").concat(T)]],B={deposits:P,withdraws:M,swaps:async e=>{var t,n,a;return[["ID del intercambio:",null===e||void 0===e?void 0:e.id],["Fecha de creaci\xf3n:",O()(null===e||void 0===e?void 0:e.created_at).format("LL")],["Estado:",Object(x.getState)(null===e||void 0===e?void 0:e.state)],["Cantidad gastada:","".concat(await _(null===e||void 0===e?void 0:e.spent,null===e||void 0===e?void 0:e.to_spend_currency)," ").concat(null===e||void 0===e||null===(t=e.to_spend_currency)||void 0===t||null===(n=t.currency)||void 0===n?void 0:n.toUpperCase())],["Cantidad adquirida:","".concat(await _(null===e||void 0===e?void 0:e.bought,null===e||void 0===e?void 0:e.to_buy_currency)," ").concat(null===e||void 0===e||null===(a=e.to_buy_symbol)||void 0===a?void 0:a.toUpperCase())]]},deposit:P,withdraw:M};Object(h.useEffect)((()=>{if(!o)return;(async()=>{if(("pending"===o.state||"confirmed"===o.state)&&"deposits"===b)return await(async e=>{const t="pending"===e.state;switch(e.currency_type){case"fiat":let r=[];if(m&&m[e.deposit_provider_id]){var n,a,i,c,s,o;const d=m[e.deposit_provider_id];r=[["Entidad del dep\xf3sito:","".concat(d.depositAccount.ui_name)],["".concat(d.depositAccount.account.type.ui_name),"".concat(d.depositAccount.account.type.type)],["".concat(d.depositAccount.account.account_id.ui_name),"".concat(d.depositAccount.account.account_id.account_id)],["".concat(d.depositAccount.account.bussines_name.ui_name),"".concat(d.depositAccount.account.bussines_name.bussines_name)],["".concat(d.depositAccount.account.nit.ui_name),"".concat(d.depositAccount.account.nit.nit)],["".concat(d.depositAccount.account.dv.ui_name),"".concat(d.depositAccount.account.dv.dv)],["Cantidad ".concat(t?"por acreditar":"acreditada"),"".concat(await _(e.amount,e.currency)," ").concat(null===(n=e.currency)||void 0===n||null===(a=n.currency)||void 0===a?void 0:a.toUpperCase())],["Costo del dep\xf3sito","".concat(await _(null===d||void 0===d||null===(i=d.depositAccount)||void 0===i||null===(c=i.costs[null===e||void 0===e?void 0:e.cost_id])||void 0===c?void 0:c.fixed,e.currency)," ").concat(null===(s=e.currency)||void 0===s||null===(o=s.currency)||void 0===o?void 0:o.toUpperCase())]]}const d=await _(e.amount_neto,e.currency);u([...r,["Total a depositar:","$".concat(d)]]);break;case"crypto":u([["ID:",e.id],["Estado:",Object(x.getState)(e.state)],["Divisa:","".concat(e.currency.currency)],["Orden creada en:",O()(e.created_at).format("LL")],["Confirmaciones:",e.confirmations],["Cantidad acreditada:",await _(e.amount,e.currency)],["Costo de operaci\xf3n:",e.cost],["Total dep\xf3sito:",await _(e.amount_neto,e.currency)]])}})(o);const e=await(async e=>{let t=[];return e?(t=await B[E](e),t):""})(o);u(e)})()}),[m]);const U="deposits"===E&&["pending"].includes(o.state);return Object(y.jsxs)(D,{className:"".concat(r?"withTitle":""," ").concat(U?"withPendingDeposit":""," ").concat(l),children:[r&&Object(y.jsxs)(C,{className:"".concat(d?"titleSuffix":""," ").concat(o.state),children:[Object(y.jsx)(A,{className:"fuente",children:r}),d&&Object(y.jsx)(d,{})]}),U&&Object(y.jsxs)(k,{children:[Object(y.jsxs)("p",{className:"fuente",children:["Datos para hacer el ",null===(c=g.M[E])||void 0===c||null===(s=c.ui_name)||void 0===s?void 0:s.toLowerCase()]}),Object(y.jsx)("div",{className:"__line__"})]}),p&&p.length?p.map(((e,t)=>Object(y.jsxs)(z,{className:"".concat(p.length===t+1&&o.state&&"deposits"===b&&o.state),children:[Object(y.jsx)(F,{className:"fuente",children:e[0]}),Object(y.jsx)(L,{}),Object(y.jsx)(I,{className:"fuente2",children:e[1]})]},t))):new Array(7).fill("1").map(((e,t)=>Object(y.jsxs)(z,{className:"skeleton",children:[Object(y.jsx)(F,{children:"skeleton --"}),Object(y.jsx)(L,{}),Object(y.jsx)(I,{children:"skeleton -------- "})]},t))),"swaps"===E&&(null===o||void 0===o?void 0:o.referral)&&["accepted"].includes(null===o||void 0===o?void 0:o.state)&&Object(y.jsx)(N,{order:o,currencies:S})]})};const N=e=>{var t,n,a,i,c,s,o;let{order:r,currencies:d}=e;return Object(y.jsxs)("p",{className:"fuente referalBySwap",style:{fontSize:"12px",color:"gray"},children:["Qui\xe9n te refiri\xf3 obtuvo el \xa0",Object(y.jsxs)("span",{className:"fuente2",children:[null===r||void 0===r||null===(t=r.referral)||void 0===t?void 0:t.total_percentage,"%\xa0 (",null===r||void 0===r||null===(n=r.referral)||void 0===n||null===(a=n.compra_de_referidos)||void 0===a?void 0:a.amount," ",d&&(null===(i=d[null===r||void 0===r||null===(c=r.referral)||void 0===c||null===(s=c.compra_de_referidos)||void 0===s||null===(o=s.short_currency)||void 0===o?void 0:o.currency])||void 0===i?void 0:i.symbol),")"]})," de este intercambio. ",Object(y.jsx)("a",{href:"https://".concat(Object(v.c)(),".com/docs/incentives"),target:"_blank",rel:"noreferrer",alt:"",children:"Aprende c\xf3mo hacerlo"})]})};Object(v.c)();const k=m.b.div(a||(a=Object(u.a)(["\n    display: grid;\n    grid-template-columns: auto 1fr;\n    column-gap: 20px;\n    color:gray;\n    width: 100%;\n\n    p{\n        font-size: 17px;\n        font-weight: bold;\n    }\n\n    .__line__{\n        border-bottom: 1px solid #bfbfbf;;\n        height: 2px;\n        padding-top: 10px;\n    }\n"]))),S=m.b.p(i||(i=Object(u.a)(["\n  width: auto;\n  margin: 0;\n  font-size: 14px;\n"]))),C=m.b.div(c||(c=Object(u.a)(["\n  display: flex;\n  &.titleSuffix {\n    justify-content: space-between;\n  }\n  &.pending p {\n    color: #ff8660;\n  }\n  &.confirmed p {\n    color: #1cb179;\n  }\n"]))),A=Object(m.b)(S)(s||(s=Object(u.a)(["\n  font-size: 17px;\n  font-weight: bold;\n"]))),I=Object(m.b)(S)(o||(o=Object(u.a)(["\n  text-align: right;\n  padding-left: 15px;\n  text-transform: capitalize;\n  white-space: nowrap;\n  max-width: 350px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n"]))),F=Object(m.b)(S)(r||(r=Object(u.a)(["\n  text-align: left;\n  padding-right: 15px;\n  font-weight: bold;\n"]))),L=m.b.span(d||(d=Object(u.a)(["\n  border-bottom: 1px dotted;\n  opacity: 0.15;\n"]))),z=m.b.div(l||(l=Object(u.a)(["\n  width: 100%;\n  height: 20px;\n  display: grid;\n  grid-template-columns: auto 1fr auto;\n\n  &.skeleton {\n    ","\n    ",", "," {\n      background: gray;\n      height: 16px;\n      border-radius: 3px;\n      opacity: 0.5;\n    }\n  }\n\n  &.pending,\n  &.confirmed {\n    height: 50px;\n    margin-top: 10px;\n    border-top: 1px solid #bfbfbf;\n    align-items: center;\n    ",", "," {\n      font-size: 18px;\n      color: #383838;\n    }\n    "," {\n      font-size: 20px;\n      font-weight: bold;\n    }\n  }\n"])),b.a,I,F,I,F,I),D=m.b.section(p||(p=Object(u.a)(["\n  width: calc(100% - 70px);\n  height: calc(100% - 50px);\n  display: grid;\n  grid-template-rows: repeat(auto-fill, 20px);\n  row-gap: 7px;\n  padding: 25px 35px;\n  position:relative;\n\n  .referalBySwap{\n    font-size: 12px;\n    color: gray;\n    width: calc(100% - 100px);\n    max-width: calc(500px - 100px);\n    text-align: justify;\n    justify-self: center;\n    padding: 0 50px 0 15px;\n    position: absolute;\n    font-size: 13px;\n    color: gray;\n    left: 20px;\n    bottom: -20px;\n  }\n\n  @media "," {\n    padding: 25px 20px;\n    width: calc(100% - 40px);\n  }\n\n  &.withTitle {\n    height: calc(100% - 95px);\n    padding-top: 70px;\n    grid-template-rows: 70px repeat(auto-fill, 20px);\n  }\n\n  &.withTitle.withPendingDeposit{\n    grid-template-rows: 45px 45px repeat(auto-fill, 20px);\n  }\n\n  ",", "," {\n    color: gray;\n  }\n\n  &.darkTheme {\n    p {\n      color: white;\n    }\n  }\n"])),g.eb.tablet,S,L)},456:function(e,t,n){"use strict";n.r(t),n.d(t,"AmountLayout",(function(){return l})),n.d(t,"CostIdLayout",(function(){return p})),n.d(t,"SuccessModalCont",(function(){return u}));var a,i,c,s,o=n(5),r=n(6);const d=r.b.div(a||(a=Object(o.a)(["\n    grid-row-gap: 10px;\n    display: grid;\n    height: 100%;\n    justify-items: center;\n    align-items: center;\n    perspective: 900px;3\n    transform-style: preserve-3d; \n    text-align: center;\n    width: calc(100% - 40px);\n    padding: 0 20px;\n\n    .botonForm{\n        width:220px;\n    }\n"]))),l=Object(r.b)(d)(i||(i=Object(o.a)(["\n    grid-template-rows: 120px 1fr 120px;\n"]))),p=Object(r.b)(d)(c||(c=Object(o.a)(["\n    grid-template-rows: 120px 1fr 120px;\n\n    @media (max-width: 768px) {\n        ._costIdContent{\n            padding: 0;\n            width: 100%; \n            .mobileView{\n                width: 100%;\n                transform: scale(1) !important;\n            }\n        }\n    }\n"]))),u=r.b.section(s||(s=Object(o.a)(["\n    position: absolute;\n    height: calc(100vh - 80px);\n    width: 100vw;\n    padding: 40px 0;\n    background: linear-gradient(to bottom right,#129a8e,#37ed7d);\n"])))},458:function(e,t,n){"use strict";n.r(t),n.d(t,"BankDataContainer",(function(){return x})),n.d(t,"DetailAccountProv",(function(){return g})),n.d(t,"BankData",(function(){return w})),n.d(t,"TitleContainer",(function(){return v})),n.d(t,"CorpAccountContainer",(function(){return _})),n.d(t,"IconContainer",(function(){return O}));var a,i,c,s,o,r,d=n(5),l=n(2),p=n(144),u=n(456),h=n(522),m=n(6),b=n(3),j=n(4),f=n(1);t.default=e=>{let{closeModal:t,actions:n,params:a,depositProvData:i,new_ticket:c}=e;const[s,o]=Object(l.useState)(!1),[r,d]=Object(l.useState)(!1);return Object(f.jsx)(p.a,{id:"close-button-with-OtherModalLayout",onkeydown:!1,on_click:t,children:Object(f.jsx)(u.SuccessModalCont,{children:Object(f.jsx)(y,{children:Object(f.jsx)(h.b,{deposit_way:"cash",final:s,finalizar:async()=>{if(s)return t(),b.fb.push("/wallets/activity/".concat(a.account_id,"/deposits")),n.add_new_transaction_animation();o(!0),d(!0),setTimeout((()=>{d(!1)}),5e3)},finalButton:r,depositProvData:i,new_ticket:c})})})})};const x=e=>{let{accountData:{title:t,bankUiName:a,accountType:i,accountIdUiName:c,accountId:s,bussinesNameUiName:o,bussinesName:r,nitUiName:d,nit:l,dvUiName:p,dv:u}}=e;const h=Object(j.a)((()=>Promise.resolve().then(n.bind(null,30))));return Object(f.jsxs)(w,{children:[Object(f.jsxs)(v,{children:[Object(f.jsx)("p",{className:"fuente",children:t}),Object(f.jsx)("div",{className:"__line__"})]}),Object(f.jsxs)(_,{className:"corpAccountContainer",children:[Object(f.jsx)(O,{className:"_corpAccIcon",children:Object(f.jsx)(h,{size:45,icon:a})}),Object(f.jsxs)(g,{children:[Object(f.jsx)("h3",{className:"fuente",children:a}),Object(f.jsxs)("p",{className:"fuente bold",children:[" ",Object(f.jsx)("strong",{children:i})]}),Object(f.jsxs)("p",{className:"fuente bold",children:[Object(f.jsxs)("strong",{children:[c,":"]})," ",Object(f.jsx)("span",{className:"fuente2",children:s})]}),Object(f.jsxs)("p",{className:"fuente",children:[" ",Object(f.jsxs)("strong",{children:[" ",o,": "]})," ",r]}),Object(f.jsxs)("p",{className:"fuente",children:[Object(f.jsxs)("strong",{children:[" ",d,":"]})," ",Object(f.jsx)("span",{className:"fuente2",children:l})]}),Object(f.jsxs)("p",{className:"fuente",children:[Object(f.jsxs)("strong",{children:[p,":"]})," ",Object(f.jsx)("span",{className:"fuente2",children:u})]})]})]}),Object(f.jsxs)(v,{children:[Object(f.jsx)("p",{className:"fuente",children:"Datos del dep\xf3sito"}),Object(f.jsx)("div",{className:"__line__"})]})]})},g=m.b.div(a||(a=Object(d.a)(["\n    display:grid;\n    grid-template-columns: 1fr;\n    color:white;\n    .bussines_name, .nit{\n        font-size:14px;\n    }\n    h3{\n        text-transform:capitalize;\n        margin: 0 0 10px 0;\n    }\n    p{\n        margin:5px 0;\n    }\n\n"]))),w=m.b.div(i||(i=Object(d.a)(["\n    width:100%;\n    @media (max-width: 768px) {\n\n        ","{\n            text-align:left;\n        }\n\n        ._corpAccIcon{\n            width:70px;\n            height:70px;\n        }\n\n        .corpAccountContainer{\n            align-items: start;\n        }\n\n        .bussines_name_span{\n            display:none;\n        }\n    }\n"])),g),v=m.b.div(c||(c=Object(d.a)(["\n    display: grid;\n    grid-template-columns: auto 1fr;\n    column-gap: 20px;\n    color:white;\n    width: 100%;\n\n    p{\n        font-size: 18px;\n        font-weight: bold;\n    }\n\n    .__line__{\n        border-bottom: 1px solid white;\n        height: 2px;\n        align-self: center;\n    }\n"]))),_=m.b.div(s||(s=Object(d.a)(["\n    display:grid;\n    grid-template-columns:auto 1fr;\n    column-gap:20px;\n    width:auto;\n    align-items:center;\n"]))),O=m.b.div(o||(o=Object(d.a)(["\n    width:110px;\n    height:110px;\n    background:#e6e6e6;\n    border-radius:6px;\n    display:grid;\n    align-items: center;\n    justify-items: center;\n"]))),y=m.b.div(r||(r=Object(d.a)(["\n    height: 100%;\n    width: 100%;\n    display: grid;\n    grid-template-columns: 1fr;\n    grid-template-rows: 1fr;\n    align-items: center;\n    justify-items: center;\n    position:relative;\n\n    .nWCabeza{\n        border-bottom:0px;\n    }\n\n    #DLstep2{\n        display: grid;\n        justify-items: center;\n        align-items: center;\n        grid-template-rows: 200px 1fr 100px;\n        width: 100%;\n        max-height: calc(100vh - 80px);\n        height: calc(100vh - 80px);\n        max-width: 650px;\n        border: 1px solid transparent;\n    }\n"])))},473:function(e,t,n){},474:function(e,t,n){"use strict";var a=n(2),i=n.n(a),c=n(4),s=n(444),o=n(147),r=n(21),d=n(1);const l=Object(c.a)((()=>Promise.resolve().then(n.bind(null,30))));let p;function u(e){const{type:t,actives:n,name:i,code:c,placeholder:u,primarySelect:h,format:m,itemType:b,currency_type:j,pair_id:f,actualizarEstado:x,handleClick:g,specialMode:w=!1,classNames:v,cost_id:_}=e,O=()=>{p&&clearTimeout(p),p=setTimeout((()=>{x&&x(i,c,j,f,_)}),100)},y=w?O:g,[N,k]=Object(s.b)({...e,uniqid:f},{suprKeyAction:()=>!1,enterKeyAction:y},!1);Object(a.useEffect)((()=>{w&&n&&k()}),[]),Object(a.useEffect)((()=>{w||!N||n||O()}),[N,n]);const S=w?N:n;return Object(d.jsxs)("div",{id:"".concat(h?"primarySelect":""),className:"".concat(v," ").concat("payment_method"===t?"ILtuvieja":""," "),children:[Object(d.jsx)(o.f,{"aria-label":"itemFromList",name:"itemFromList",autoComplete:"off",id:e.focusedId}),Object(d.jsxs)("div",{className:"item ".concat(S?"itemSelection":""),onClick:n&&"banks"!==b?null:O,children:[!m&&c&&t?"coins"===t||"payment_method"===t||"service_mode"===t?S?Object(d.jsx)("div",{title:i,id:c,children:Object(d.jsx)("img",{className:"itemSobre activaos",src:"".concat(Object(r.b)("assets")).concat(t,"/").concat(c,"2.png"),alt:"",width:"60"})}):Object(d.jsxs)("div",{title:i,id:c,children:[Object(d.jsx)("img",{className:"itemFuera",src:"".concat(Object(r.b)("assets")).concat(t,"/").concat(c,".png"),width:"60",alt:"",id:c,title:i}),Object(d.jsx)("img",{className:"itemSobre",src:"".concat(Object(r.b)("assets")).concat(t,"/").concat(c,"2.png"),width:"60",alt:"",id:c,title:i})]}):Object(d.jsx)("img",{className:"banquis ".concat(S?"itemVisible":""),src:"".concat(Object(r.b)("assets")).concat(t,"/").concat(c,".png"),alt:"",id:c,title:i,width:"85"}):Object(d.jsx)(l,{icon:c,size:45}),h?Object(d.jsxs)("div",{id:"primarySelectText",className:"primarySelectText",children:[Object(d.jsx)("p",{className:"title-deposit-fiat_ fuente",title:i,children:i}),u&&u.map((e=>Object(d.jsx)("p",{className:"fuente item-type-tx",children:e.name},e.id)))]}):Object(d.jsx)("p",{title:i,children:i})]}),u&&!h&&Object(d.jsx)("div",{className:"placeHoldCont",children:u.map((e=>Object(d.jsx)("p",{className:"ILplaceholder fuente",children:e.name},e.id)))})]})}t.a=i.a.memo(u)},484:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));n(2);var a=n(43),i=n(1);function c(e){return function(t){const n=Object(a.a)(!0,"cancel-button-".concat(t.eventName),8,!0,t.eventName,!0),c=Object(a.a)(!0,"accept-button-".concat(t.eventName),13,!1,t.eventName,!0);return Object(i.jsx)(e,{idCancel:n,idAccept:c,...t})}}},491:function(e,t,n){},504:function(e,t,n){},507:function(e,t,n){},508:function(e,t,n){},510:function(e){e.exports=JSON.parse('{"deposits":{"created":{"completed":false,"ui_text":"Dep\xf3sito creado"},"pending":{"completed":false,"ui_text":{"crypto":"Dep\xf3sito agregado en blockchain","fiat":"Comprobante de dep\xf3sito"}},"confirmed":{"completed":false,"ui_text":{"crypto":"Confirmando en blockchain","fiat":"Confirmando dep\xf3sito"}},"accepted":{"completed":false,"ui_text":"Dep\xf3sito aceptado"}},"withdraws":{"created":{"completed":false,"ui_text":"Retiro creado"},"pending":{"completed":false,"ui_text":{"crypto":"Retiro procesado en coinsenda","fiat":"Confirmando retiro"}},"confirmed":{"completed":false,"ui_text":{"crypto":"Creando transacci\xf3n en blockchain","fiat":"Procesando orden de retiro"}},"accepted":{"completed":false,"ui_text":"Retiro aceptado"}},"orderStatus":{"deposits":{"pending":{"fiat":{"title":"Orden pendiente de confirmaci\xf3n","description":"Sube una fotograf\xeda o captura del comprobante de pago para continuar"}},"confirmed":{"fiat":{"title":"Tu dep\xf3sito est\xe1 en revisi\xf3n","description":"Estamos verificando el comprobante de pago..."},"crypto":{"title":"Tu dep\xf3sito est\xe1 siendo confirmado","description":"Alcanzando 6 confirmaciones en blockchain tu saldo ser\xe1 acreditado en coinsenda"}}},"withdraws":{"pending":{"fiat":{"title":"--","description":"--"}},"confirmed":{"fiat":{"title":"Estamos procesando tu retiro.","description":"Pronto podr\xe1s disponer de tu dinero"},"crypto":{"title":"Tu retiro est\xe1 siendo procesado","description":"Blockchain est\xe1 generando el TxId de tu retiro..."}}}}}')},516:function(e,t,n){"use strict";n.r(t),n.d(t,"getState",(function(){return cn})),n.d(t,"OrderDetail",(function(){return sn})),n.d(t,"BottomSection",(function(){return on})),n.d(t,"Layout",(function(){return wn}));var a=n(5),i=n(2),c=n.n(i),s=n(144),o=n(6),r=n(39),d=n(3),l=n(30),p=n(48),u=n(454),h=n(146),m=n(55),b=n(445),j=n(89),f=n(9),x=n(19),g=n(24),w=n(531),v=(n(507),n(1));function _(e){let{...t}=e;return Object(v.jsx)("input",{type:"range",...t})}var O=n(505);function y(e){let{image:t,onCropComplete:n}=e;const[a,c]=Object(i.useState)({x:0,y:0}),[s,o]=Object(i.useState)(1),[r,d]=Object(i.useState)(360);return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("div",{className:"crop-container",children:Object(v.jsx)(w.a,{image:t,style:{cropAreaStyle:{minWidth:256,minHeight:192}},rotation:r,onRotationChange:d,crop:a,aspect:1.3333333333333333,zoom:s,onCropChange:c,onZoomChange:o,onCropComplete:(e,t)=>n(t,r)})}),Object(v.jsxs)("div",{className:"crop-controls",children:[Object(v.jsxs)("div",{children:[Object(v.jsx)(b.c,{color:"gray",size:20,onClick:()=>s>.1&&o(s-.3)}),Object(v.jsx)(_,{value:s,onChange:e=>o(e.currentTarget.value),step:.05,min:.5,max:3}),Object(v.jsx)(O.c,{color:"gray",size:20,onClick:()=>s<7&&o(s+.3)})]}),Object(v.jsx)("div",{children:Object(v.jsx)(O.d,{color:"gray",size:20,onClick:()=>{const e=r-90;d(e<0?360:e)}})})]})]})}n(508);function N(e){return e*Math.PI/180}const k=e=>new Promise(((t,n)=>{const a=new Image;a.addEventListener("load",(()=>t(a))),a.addEventListener("error",(e=>n(e))),a.setAttribute("crossOrigin","anonymous"),a.src=e}));var S=n(484);class C extends c.a.Component{constructor(){super(...arguments),this.state={imageSrc:this.props.imageSrc||null,crop:{x:0,y:0},zoom:1,aspect:4/3,croppedAreaPixels:null,imgRotation:0,croppedImage:null},this.onCropChange=e=>{this.setState({crop:e})},this.onCropComplete=(e,t)=>{this.setState({croppedAreaPixels:e,imgRotation:t})},this.onZoomChange=e=>{let t=this.state.zoom;e>t&&e<=3?t+=.06:t=e,this.setState({zoom:t})},this.showCroppedImage=async(e,t,n)=>{await this.props.action.isAppLoading(!0);const a=await async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const a=await k(e),i=document.createElement("canvas"),c=i.getContext("2d");if(!c)return null;const s=Math.max(a.width,a.height)/2*Math.sqrt(2)*2;i.width=s,i.height=s,c.translate(s/2,s/2),c.rotate(N(n)),c.translate(-s/2,-s/2),c.drawImage(a,s/2-.5*a.width,s/2-.5*a.height);const o=c.getImageData(0,0,s,s);i.width=t.width,i.height=t.height,c.putImageData(o,0-s/2+.5*a.width-t.x,0-s/2+.5*a.height-t.y);const r=new Promise(((e,t)=>{i.toBlob((t=>{e(URL.createObjectURL(t))}),"image/jpeg")}));return{base64:i.toDataURL("image/jpeg"),urlImg:r}}(this.state.imageSrc,this.state.croppedAreaPixels,this.state.imgRotation);if(!a)return this.props.action.isAppLoading(!1);const{urlImg:i}=a;await this.setState({croppedImage:i}),this.props.subirImg(a)},this.cancelCroppedImg=()=>{this.setState({croppedImage:null}),this.props.cancelarSubidaImg()}}componentWillReceiveProps(e){this.setState({imageSrc:e.imageSrc})}render(){return Object(v.jsx)("div",{className:"App",children:this.state.imageSrc&&Object(v.jsxs)(i.Fragment,{children:[Object(v.jsx)(y,{onCropComplete:this.onCropComplete,image:this.state.imageSrc}),Object(v.jsxs)("div",{className:"ImgCropcontrols",children:[Object(v.jsx)(j.b,{_id:this.props.idCancel,active:!0,type:"secundary",siguiente:this.cancelCroppedImg,children:"Cancelar"}),Object(v.jsx)(j.b,{_id:this.props.idAccept,active:!0,type:"primary",siguiente:this.showCroppedImage,children:"Guardar"})]})]})})}}Object(f.b)(null,(function(e){return{action:Object(x.bindActionCreators)(g.a,e)}}))(Object(S.a)(C));var A,I,F,L,z,D,T,E,P=n(506),M=n.n(P),B=n(61),U=n(486),W=n(75),V=n(14),R=n(65),K=n(533);n(529);o.b.section(A||(A=Object(a.a)(["\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  z-index: 3;\n  display: grid;\n  overflow: hidden;\n\n  @media (max-width: 768px) {\n    height: 100vh;\n  }\n"]))),o.b.div(I||(I=Object(a.a)(["\n  padding: 50px;\n  background: #232c35;\n  transition: 0.3s;\n  transform: translateX(100%);\n  display: grid;\n  grid-template-rows: 1fr;\n  row-gap: 20px;\n  justify-items: center;\n\n  .App {\n    height: 100% !important;\n    width: 100%;\n  }\n\n  .ImgCropcontrols {\n    background: transparent !important;\n  }\n\n  &.activated {\n    animation-name: activated;\n    animation-duration: 0.8s;\n    animation-fill-mode: forwards;\n  }\n\n  @keyframes activated {\n    0% {\n      transform: translateX(100%);\n    }\n    50% {\n      transform: translateX(100%);\n    }\n    100% {\n      transform: translateX(0%);\n    }\n  }\n"])));const q=e=>{let{payload:t}=e;const{coinsendaServices:n,actions:a,currencies:c,currentOrder:s,loader:o,tx_path:r}=Object(m.a)(),[d,l]=Object(i.useState)(t),[p,u]=Object(i.useState)(),[h,b]=Object(i.useState)(),j=async e=>{if(e.paymentProof){const{proof_of_payment:t}=e.paymentProof;l("fiat"===e.currency_type?"data:image/png;base64, ".concat(t.raw):await M.a.toDataURL("".concat(c[e.currency.currency].node_url,"tx/").concat(t.proof))),"crypto"===e.currency_type&&(u(t.proof),b("".concat(c[e.currency.currency].node_url,"tx/").concat(t.proof)))}else e.proof&&(l(await M.a.toDataURL("".concat(c[e.currency.currency].node_url,"tx/").concat(e.proof))),u(e.proof),b("".concat(c[e.currency.currency].node_url,"tx/").concat(e.proof)))};Object(i.useEffect)((()=>{if(s.paymentProof||"pending"===s.state||"deposits"!==r)j(s);else{(async()=>{const e=await n.getDepositById(s.id);if(!e)return;let t={[e.id]:{...e}};a.update_item_state(t,"deposits"),j(e)})()}}),[]),Object(i.useEffect)((()=>{d!==t&&l(t)}),[t]);return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)($,{className:"paymentProofCont ".concat(s.currency_type," ").concat(s.state),children:[(!d||o)&&Object(v.jsx)(X,{children:Object(v.jsx)(B.default,{loader:2,justify:"center",color:"#206f65"})}),d&&Object(v.jsxs)(J,{children:[Object(v.jsx)(K.a,{children:Object(v.jsx)("img",{src:d,width:"100%",height:"90px",alt:""})}),"crypto"===s.currency_type&&Object(v.jsxs)(G,{children:[Object(v.jsxs)(Y,{className:"tooltip","data-copy":p,onClick:V.copy,children:[Object(v.jsx)(U.c,{size:16}),Object(v.jsx)("span",{className:"tooltiptext fuente",children:"Copiar"})]}),Object(v.jsxs)(Y,{className:"tooltip",onClick:()=>{window.open(h,"_blank")},children:[Object(v.jsx)(W.f,{size:20}),Object(v.jsx)("span",{className:"tooltiptext fuente",children:"Ver en Blockchain"})]})]})]})]})})},H=o.b.div(F||(F=Object(a.a)(["\n  position: absolute;\n  width: calc(100% - 20px);\n  height: ",";\n  background: #eeeeee;\n  top: 10px;\n  justify-self: center;\n  border-radius: 3px;\n  display: none;\n"])),(e=>"confirmed"===e.state?"calc(100% - 230px)":"calc(100% - 170px)")),$=o.b.div(L||(L=Object(a.a)(["\n  width: 100px;\n  height: 100px;\n  border-radius: 4px;\n  align-self: center;\n  display: grid;\n  align-items: center;\n  justify-items: center;\n  max-height: 100px;\n  max-width: 110px;\n  position: relative;\n  justify-self: start;\n\n  img {\n    border-radius: 3px;\n    max-width: 100px;\n    min-width: 90%;\n  }\n  &.accepted,\n  &.confirmed {\n    background: #206f65;\n    padding: 0 5px;\n  }\n  &.rejected,\n  &.canceled {\n    background: gray;\n    opacity: 0.5;\n  }\n\n  &.fiat.accepted:hover\n    ~ ",",\n    &.fiat.confirmed:hover\n    ~ "," {\n    display: grid;\n  }\n\n  &.fiat {\n    cursor: pointer;\n  }\n"])),H,H),X=o.b.div(z||(z=Object(a.a)(["\n  width: 90%;\n  height: 90%;\n  background: white;\n  opacity: 0.6;\n  border-radius: 3px;\n  display: grid;\n  align-items: center;\n  justify-items: center;\n  position: absolute;\n  justify-self: center;\n  align-self: center;\n  z-index: 1;\n"]))),G=o.b.div(D||(D=Object(a.a)(["\n  position: absolute;\n  height: 100%;\n  width: calc(100% - 20px);\n  top: 0;\n  transition: 0.15s !important;\n  align-items: baseline;\n  display: grid;\n  padding: 0 10px;\n  justify-items: center;\n  grid-template-columns: repeat(2, 1fr);\n  transform: translateX(100%);\n"]))),J=o.b.div(T||(T=Object(a.a)(["\n  width: 100%;\n  height: 100%;\n  position: relative;\n  display: grid;\n  align-items: center;\n  justify-items: center;\n\n  :hover "," {\n    opacity: 1;\n  }\n  button {\n    cursor: pointer;\n  }\n"])),G),Y=o.b.div(E||(E=Object(a.a)(['\n  cursor: pointer;\n  width: 30px;\n  height: 30px;\n  border-radius: 3px;\n  border: 1px solid gray;\n  display: grid !important;\n  align-items: center;\n  justify-items: center;\n  position: relative;\n  align-self: flex-start;\n\n  ::after {\n    content: "";\n    width: 100%;\n    height: 100%;\n    position: absolute;\n    left: 0;\n    top: 0;\n  }\n\n  .tooltiptext {\n    padding-left: 4px !important;\n    padding-right: 4px !important;\n    width: auto !important;\n    min-width: 60px !important;\n  }\n\n  i,\n  svg {\n    color: gray;\n  }\n\n  :hover {\n    i,\n    svg {\n      color: #0c96fa;\n    }\n  }\n'])));var Z,Q,ee,te,ne,ae,ie,ce,se,oe,re,de=n(510),le=n(90),pe=n(58),ue=n.n(pe);n(240);ue.a.locale("es");const he=e=>{let{className:t,state:n,order:a,active:i,skeleton:c}=e;const s=i&&i.toString();return Object(v.jsxs)(we,{className:"status ".concat(t),children:[Object(v.jsx)(ve,{className:t}),Object(v.jsx)(_e,{children:c?Object(v.jsx)(Oe,{}):Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(ye,{className:"fuente",active:s,children:n[1].ui_text[a.currency_type]||n[1].ui_text}),Object(v.jsx)(Ne,{className:"fuente2",active:s,children:i&&"pending"===a.state?"Pendiente":i?"En proceso...":"created"===n[0]?ue()(a.created_at).format("LL"):"pending"===n[0]||"confirmed"===n[0]&&"confirmed"===a.state?ue()(a.updated_at).format("LL"):""})]})})]})};var me=e=>{let{order:t,movil:n}=e;const[a,c]=Object(i.useState)(),{currentOrder:s,tx_path:o}=Object(m.a)(),r=new Array(4).fill(["created"]);return Object(i.useEffect)((()=>{let e={};for(let t in de[o])e={...e,[t]:{...de[o][t],completed:s.state===t}};c(Object.entries(e))}),[s.state]),Object(v.jsxs)(je,{children:[Object(v.jsxs)(fe,{children:[Object(v.jsx)(be,{className:"fuente",children:de.orderStatus[o][t.state][t.currency_type].title}),Object(v.jsx)(xe,{className:"fuente",children:de.orderStatus[o][t.state][t.currency_type].description})]}),!n&&Object(v.jsx)(ge,{children:a?a.map(((e,t)=>Object(v.jsx)(he,{state:e,order:s,active:e[1].completed,className:"\n                  ".concat(a.length===t+1?"statusStep finalStep":"statusStep","\n                  ").concat(e[1].completed?"activeStep":"","\n                  ")},t))):r.map(((e,t)=>Object(v.jsx)(he,{state:e,className:"".concat(r.length===t+1?"statusStep finalStep":"statusStep"," skeleton"),skeleton:!0},t)))})]})};const be=o.b.p(Z||(Z=Object(a.a)(["\n  margin: 0;\n"]))),je=o.b.div(Q||(Q=Object(a.a)(["\n  background: #f5f5f5;\n  box-shadow: 0px 0px 5px 3px rgba(0, 0, 0, 0.05);\n  display: grid;\n  grid-template-rows: auto 1fr;\n  row-gap: 25px;\n  padding: 30px 40px;\n  border-top-right-radius: 6px;\n  border-bottom-right-radius: 6px;\n\n  @media "," {\n    grid-template-rows: 1fr;\n    padding: 25px 20px;\n  }\n"])),d.eb.tablet),fe=o.b.div(ee||(ee=Object(a.a)(["\n  display: grid;\n  row-gap: 10px;\n  height: auto;\n"]))),xe=Object(o.b)(be)(te||(te=Object(a.a)(["\n  font-size: 13px;\n  color: gray;\n"]))),ge=o.b.div(ne||(ne=Object(a.a)(["\n  padding: 45px 0;\n  display: grid;\n  grid-template-rows: repeat(auto-fill, 70px);\n  row-gap: 10px;\n"]))),we=o.b.div(ae||(ae=Object(a.a)(["\n  height: 70px;\n  padding: 0 20px;\n  display: grid;\n  align-items: center;\n  grid-template-columns: 20px 1fr;\n\n  &.activeStep ~ .status .statusStep {\n    background: #dadada;\n    ::after {\n      background: #dadada;\n    }\n  }\n\n  &.activeStep .statusStep {\n    ::after {\n      background: #dadada;\n    }\n  }\n"]))),ve=o.b.div(ie||(ie=Object(a.a)(['\n  justify-self: center;\n  width: 14px;\n  height: 14px;\n  background: #0198ff;\n  border-radius: 50%;\n  position: relative;\n  z-index: 2;\n  display: grid;\n  align-items: center;\n  justify-items: center;\n  border: 2px solid #f5f5f5;\n\n  &.activeStep {\n    width: 14px;\n    height: 14px;\n    border: 2px solid #0198ff;\n    background: transparent !important;\n    position: relative;\n    ::after {\n      top: 16px !important;\n    }\n    ::before {\n      content: "";\n      width: 6px;\n      height: 6px;\n      background: #0198ff;\n      border-radius: 50%;\n    }\n  }\n\n  &.statusStep::after {\n    content: "";\n    width: 2px;\n    height: 64px;\n    background: #0198ff;\n    position: absolute;\n    -webkit-align-self: center;\n    align-self: start;\n    top: 14px;\n    z-index: 1;\n  }\n\n  &.statusStep.finalStep::after {\n    display: none;\n  }\n\n  &.skeleton {\n    background: #c1c1c1;\n    ::after {\n      background: #c1c1c1;\n    }\n  }\n']))),_e=o.b.div(ce||(ce=Object(a.a)(["\n  padding-left: 20px;\n  display: grid;\n  row-gap: 5px;\n  p {\n    margin: 0;\n  }\n"]))),Oe=o.b.div(se||(se=Object(a.a)(["\n  width: 100%;\n  height: 16px;\n  background: #c1c1c1;\n  border-radius: 3px;\n  ","\n"])),le.a),ye=Object(o.b)(be)(oe||(oe=Object(a.a)(["\n  font-size: 14px;\n  color: ",";\n"])),(e=>"true"===e.active?"#0198FF":"gray")),Ne=Object(o.b)(be)(re||(re=Object(a.a)(["\n  font-size: 12px;\n  color: ",";\n"])),(e=>"true"===e.active?"#0198FF":"#adadad"));var ke,Se,Ce,Ae,Ie,Fe,Le;class ze extends i.Component{constructor(){super(...arguments),this.state={ctx:null,total:6,loader:!0,color:"#159e8c"},this.draw=async e=>{await this.setState({loader:!1});let t=document.getElementById("myCanvas");if(!t)return!1;const n=t.getContext("2d");clearInterval(this.draw_interval);let a=100*e/this.state.total;n.beginPath(),n.arc(150,63,58,0,2*Math.PI/100*a),n.lineWidth=2,n.strokeStyle="#1cb179",n.stroke()}}async componentDidUpdate(e){this.props.confirmations!==e.confirmations&&(await this.setState({loader:!0}),this.draw(this.props.confirmations))}async componentDidMount(){await this.setState({loader:!0}),this.draw_interval=setInterval((()=>{this.draw(this.props.confirmations)}),250)}render(){const{confirmations:e,total_confirmations:t}=this.props;return Object(v.jsx)(Te,{children:Object(v.jsx)(Ee,{children:Object(v.jsx)(De,{children:Object(v.jsxs)(Be,{children:[Object(v.jsx)(Pe,{children:Object(v.jsx)(Me,{children:Object(v.jsxs)("p",{className:"fuente2",children:[e,Object(v.jsxs)("span",{children:["/ ",t||"6"]})]})})}),!this.state.loader&&Object(v.jsx)(Ue,{id:"myCanvas",width:"300",height:"125"})]})})})})}}const De=o.b.div(ke||(ke=Object(a.a)(["\n  position: absolute;\n"]))),Te=Object(o.b)(De)(Se||(Se=Object(a.a)(["\n  right: 0;\n  transform: scale(0.9);\n"]))),Ee=o.b.div(Ce||(Ce=Object(a.a)(["\n  width: 130px;\n  height: 170px;\n  position: relative;\n  display: grid;\n  align-items: center;\n  justify-items: center;\n"]))),Pe=o.b.div(Ae||(Ae=Object(a.a)(["\n  width: 80px;\n  height: 50%;\n  position: absolute;\n  align-self: center;\n  justify-self: center;\n  display: grid;\n  align-items: center;\n  justify-items: center;\n  p {\n    font-size: 30px;\n    margin: 0;\n  }\n"]))),Me=o.b.div(Ie||(Ie=Object(a.a)(["\n  width: 80px;\n  height: 50%;\n  position: absolute;\n  align-self: center;\n  justify-self: center;\n  display: grid;\n  align-items: center;\n  justify-items: center;\n  p {\n    font-size: 30px;\n    color: #1cb179;\n    margin: 0;\n  }\n  span {\n    color: #1cb179;\n    margin-left: 5px;\n    font-size: 18px;\n  }\n"]))),Be=o.b.section(Fe||(Fe=Object(a.a)(["\n  width: 100%;\n  height: 100%;\n  position: relative;\n  display: grid;\n  align-items: center;\n  justify-items: center;\n"]))),Ue=o.b.canvas(Le||(Le=Object(a.a)(["\n  transform: rotate(-90deg);\n  transition: 0.3s;\n"])));var We,Ve,Re,Ke,qe,He,$e,Xe,Ge,Je,Ye,Ze,Qe,et,tt,nt,at,it,ct=n(442),st=n(43);ue.a.locale("es");var ot=e=>{let{onErrorCatch:t}=e;const{currentOrder:n}=Object(m.a)();return n&&n.currency?Object(v.jsx)(v.Fragment,{children:"fiat"===n.currency_type?Object(v.jsx)(dt,{order:n}):Object(v.jsx)(rt,{order:n,tx_path:!0})}):t()};const rt=e=>{let{order:t}=e;const{tx_path:n,currencies:a}=Object(m.a)(),{isTabletOrMovilViewport:i}=Object(p.a)();return Object(v.jsxs)(Lt,{children:[Object(v.jsx)(ct.g,{theme:"dark",size:20}),Object(v.jsxs)(Ft,{children:[Object(v.jsxs)(It,{children:[Object(v.jsx)(l.default,{className:"TitleIconOrder",size:35,icon:t.currency.currency||"cop"}),Object(v.jsxs)(St,{children:[Object(v.jsx)(ft,{className:"fuente",children:ut(n)}),Object(v.jsx)(Ct,{className:"fuente",children:t.currency.currency})]}),Object(v.jsxs)(Nt,{children:[Object(v.jsxs)(ft,{className:"fuente2",children:["#",t.id]}),Object(v.jsx)(kt,{className:"fuente2",children:ue()(t.updated_at).format("LL")})]})]}),i&&Object(v.jsx)(me,{order:t,movil:!0}),Object(v.jsx)(At,{state:t.state,children:Object(v.jsx)(u.a,{order:t,title:"".concat(mt(t)),TitleSuffix:()=>Object(v.jsx)(ht,{order:t})})}),"deposits"===n?Object(v.jsxs)(yt,{className:"crypto",children:[Object(v.jsx)(pt,{}),Object(v.jsx)(ze,{confirmations:t.confirmations,total_confirmations:a[t.currency.currency].confirmations})]}):Object(v.jsx)(on,{colorState:"gray",currentOrder:t,tx_path:n})]}),!i&&Object(v.jsx)(me,{order:t})]})},dt=e=>{let{order:t}=e;const[a,c]=Object(i.useState)(!1),[s,o]=Object(i.useState)(!1),{actions:r,tx_path:b,coinsendaServices:j}=Object(m.a)(),{isTabletOrMovilViewport:f}=Object(p.a)(),[,,x]=Object(h.a)(),[g]=Object(R.a)(),w=async e=>{if(e.target.files&&e.target.files.length>0){var a,i,s;c(!1);const l=e.target.files[0],p=await Object(V.img_compressor)(l,.25),u=await Object(V.readFile)(p);if(!Object(V.includesAnyImageMime)(u.split(",")[1]))return alert("Solo se aceptan imagenes");o(u),r.isAppLoading(!0);const{user:h}=j.globalState.modelData,m=await x(t.amount,t.currency),b=await x(d.g,t.currency);if((null===(a=h.security_center)||void 0===a||null===(i=a.transactionSecurity)||void 0===i||null===(s=i.biometric)||void 0===s?void 0:s.enabled)&&m.isGreaterThanOrEqualTo(b)){const e=await n.e(81).then(n.bind(null,489));if(!e)return;const a=e.default;return r.renderModal((()=>Object(v.jsx)(a,{orderData:{order:t,paymentProof:u}})))}let f=await j.confirmDepositOrder(t.id,u);f&&f.data||(r.isAppLoading(!1),g("El dep\xf3sito No se ha confirmado","error"),o(null))}};return console.log("|||||||||||||||| FiatOrderDespoit ::",b),Object(v.jsxs)(Lt,{children:[Object(v.jsx)(ct.g,{theme:"dark",size:20}),Object(v.jsxs)(Ft,{onDragOver:e=>{e.preventDefault(),a||c(!a)},children:[a&&!s&&"pending"===t.state&&Object(v.jsx)(lt,{dragLeave:e=>{e.preventDefault(),a&&c(!a)},goFileLoader:w}),Object(v.jsxs)(It,{children:[Object(v.jsx)(l.default,{className:"TitleIconOrder",size:35,icon:t.currency.currency||"cop"}),Object(v.jsxs)(St,{children:[Object(v.jsx)(ft,{className:"fuente",children:ut(b)}),Object(v.jsx)(Ct,{className:"fuente",children:t.currency.currency})]}),Object(v.jsxs)(Nt,{children:[Object(v.jsxs)(ft,{className:"fuente2",children:["#",t.id]}),Object(v.jsx)(kt,{className:"fuente2",children:ue()(t.updated_at).format("LL")})]})]}),f&&Object(v.jsx)(me,{order:t,movil:!0}),Object(v.jsx)(At,{state:t.state,children:Object(v.jsx)(u.a,{order:t,title:"".concat(mt(t)),TitleSuffix:()=>Object(v.jsx)(ht,{order:t})})}),"deposits"===b?Object(v.jsx)(yt,{children:Object(v.jsx)(pt,{imgSrc:s,goFileLoader:w,setImgSrc:o})}):Object(v.jsx)(on,{colorState:"gray",currentOrder:t,tx_path:b})]}),!f&&Object(v.jsx)(me,{order:t})]})},lt=e=>{let{dragLeave:t,goFileLoader:n}=e;return Object(v.jsxs)(jt,{children:[Object(v.jsx)("input",{id:"TFileUpload",type:"file",onChange:n,onDragLeave:t,capture:"user",accept:"image/*"}),Object(v.jsx)(pt,{unButtom:!0,title:"Suelta aqu\xed el archivo que quieres subir..."})]})},pt=e=>{let{unButtom:t,title:n,goFileLoader:a,imgSrc:c,...s}=e;const{currentOrder:o}=Object(m.a)(),r=Object(st.a)(!0,"TFileUpload",13,!0,"onkeyup",!0);return Object(v.jsx)(_t,{className:"".concat(c||"confirmed"===o.state?"loaded":"unload"),children:c||"confirmed"===o.state?Object(v.jsxs)(i.Fragment,{children:[Object(v.jsxs)(wt,{className:"titleSection payment fuente",children:[Object(v.jsx)(gt,{className:"titleSection",children:"Comprobante de pago"}),Object(v.jsx)("hr",{})]}),Object(v.jsx)(q,{payload:c})]}):Object(v.jsxs)(i.Fragment,{children:[Object(v.jsx)(b.e,{size:45,color:"gray"}),Object(v.jsx)(vt,{className:"fuente",children:n||"Arrastra el comprobante que quieres subir"}),!t&&Object(v.jsxs)(i.Fragment,{children:[Object(v.jsxs)(wt,{children:[Object(v.jsx)(gt,{className:"fuente",children:"o selecciona un archivo"}),Object(v.jsx)("hr",{})]}),Object(v.jsxs)(xt,{children:[Object(v.jsx)("input",{id:r,type:"file",accept:"image/png,image/jpeg",onChange:a}),Object(v.jsx)(ft,{style:{color:"white"},className:"fuente",children:"Subir comprobante"})]})]})]})})},ut=e=>"deposits"===e?"Dep\xf3sito":"Retiro",ht=e=>{let{order:t}=e;const n="pending"===t.state?"#ff8660":"#1cb179",a="pending"===t.state?b.a:"confirmed"===t.state&&(()=>Object(v.jsx)(B.default,{loader:2,color:n,justify:"center"}));return Object(v.jsx)(bt,{children:Object(v.jsx)(a,{size:25,color:n})})},mt=e=>{let{state:t,currency_type:n}=e;switch(n){case"fiat":return"pending"===t?"Pendiente":"confirmed"===t&&"fiat"===n?"Procesando...":"En proceso de aceptaci\xf3n...";case"crypto":return"pending"===t?"Pendiente":"Confirmando en blockchain..."}},bt=o.b.div(We||(We=Object(a.a)(["\n  position: relative;\n  width: 25px;\n  height: 25px;\n  display: grid;\n"]))),jt=o.b.section(Ve||(Ve=Object(a.a)(["\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  background: rgba(255, 255, 255, 0.85);\n  z-index: 3;\n  display: grid;\n  align-items: center;\n  justify-items: center;\n  ","\n\n  svg {\n    fill: #0198ff;\n  }\n  p {\n    color: #0198ff;\n  }\n"])),""),ft=o.b.p(Re||(Re=Object(a.a)(["\n  margin: 0;\n"]))),xt=o.b.div(Ke||(Ke=Object(a.a)(["\n  width: 320px;\n  height: 45px;\n  border-radius: 6px;\n  border: 2px solid #0198ff;\n  background: #0198ff;\n  display: grid;\n  align-items: center;\n  justify-items: center;\n  cursor: pointer;\n  position: relative;\n"]))),gt=Object(o.b)(ft)(qe||(qe=Object(a.a)(["\n  z-index: 2;\n  font-size: 12px;\n  width: 150px;\n  background: #eeeeee;\n  text-align: center;\n  color: gray;\n\n  &.titleSection {\n    font-size: 15px;\n    width: auto;\n    padding: 0 20px;\n    align-self: center;\n    justify-self: baseline;\n  }\n\n  &.consolidatedStyle{\n    background:white;\n    margin-left:20px;\n  }\n"]))),wt=o.b.div(He||(He=Object(a.a)(["\n  font-size: 14px;\n  position: relative;\n  display: grid;\n  width: 100%;\n  justify-items: center;\n  max-width: 320px;\n  hr{\n    position: absolute;\n    width: 100%;\n    align-self: center;\n  }\n\n  &.titleSection{\n    max-width: inherit;\n    position: absolute;\n    align-self: start;\n    hr{\n      border-top: 1px solid;\n      color: #c5c5c5;\n      position: absolute;\n      width: 80%;\n      right: 0;\n    }\n  }\n  &.payment{\n    p{\n      padding-left: 0 !important;\n    }\n    position: relative !important;\n  }\n\n  &.swaps{\n    hr{\n      width: 98%;\n    }\n  }\n}\n"]))),vt=Object(o.b)(ft)($e||($e=Object(a.a)(["\n  font-size: 16px;\n  color: gray;\n"]))),_t=o.b.section(Xe||(Xe=Object(a.a)(["\n  display: grid;\n  justify-items: center;\n  row-gap: 12px;\n  width: 100%;\n  min-height: 170px;\n  height: auto;\n  &.loaded {\n    grid-template-rows: auto 1fr;\n  }\n  &.unload {\n    grid-template-columns: 1fr;\n    max-width: 400px;\n    grid-template-rows: repeat(4, auto);\n  }\n"]))),Ot=o.b.div(Ge||(Ge=Object(a.a)([""]))),yt=Object(o.b)(Ot)(Je||(Je=Object(a.a)(["\n  height: auto;\n  display: grid;\n  justify-items: center;\n  align-items: center;\n\n  &.crypto {\n    position: relative;\n  }\n"]))),Nt=o.b.div(Ye||(Ye=Object(a.a)(["\n  display: flex;\n  grid-area: dateIdContainter;\n  "," {\n    font-size: 12px;\n    color: gray;\n  }\n"])),ft),kt=Object(o.b)(ft)(Ze||(Ze=Object(a.a)(["\n  margin-left: 9px !important;\n  padding-left: 7px;\n  border-left: 1px solid gray;\n"]))),St=o.b.div(Qe||(Qe=Object(a.a)(["\n  margin: 0;\n  display: flex;\n  align-items: center;\n  grid-area: titleContainer;\n  "," {\n    font-size: 20px;\n  }\n"])),ft),Ct=Object(o.b)(ft)(et||(et=Object(a.a)(["\n  margin-left: 7px !important;\n  text-transform: uppercase;\n"]))),At=Object(o.b)(Ot)(tt||(tt=Object(a.a)(['\n  background: white;\n  border-radius: 4px;\n  position: relative;\n  overflow: hidden;\n  ::after {\n    content: "";\n    position: absolute;\n    height: 7px;\n    background: ',";\n    top: 0;\n    width: 100%;\n    ","\n  }\n  .withTitle {\n    padding-top: 55px !important;\n  }\n"])),(e=>"pending"===e.state?"#ff8660":"#1cb179"),(e=>"confirmed"===e.state&&le.a)),It=Object(o.b)(Ot)(nt||(nt=Object(a.a)(['\n  display: grid;\n  align-items: center;\n  grid-template-rows: auto auto;\n  column-gap: 12px;\n  row-gap: 5px;\n  grid-template-columns: auto 1fr;\n  grid-template-areas:\n    "icon titleContainer"\n    "icon dateIdContainter";\n  span {\n    margin-right: 15px;\n  }\n\n  .TitleIconOrder {\n    grid-area: icon;\n  }\n']))),Ft=o.b.div(at||(at=Object(a.a)(["\n  background: #eeeeee;\n  display: grid;\n  grid-template-rows: auto 1fr auto;\n  row-gap: 30px;\n  position: relative;\n  border-top-left-radius: 6px;\n  border-bottom-left-radius: 6px;\n\n  @media "," {\n    grid-template-rows: auto auto 1fr auto;\n  }\n"])),d.eb.tablet),Lt=o.b.section(it||(it=Object(a.a)(["\n  #TFileUpload {\n    position: absolute;\n    z-index: 4;\n    width: 100%;\n    height: 100%;\n    opacity: 0;\n    cursor: pointer;\n  }\n\n  p {\n    margin: 0;\n  }\n\n  "," {\n    padding: 30px 40px;\n  }\n\n  position: relative;\n  width: 1000px;\n  height: auto;\n  min-height: 750px;\n  background: white;\n  display: grid;\n  border-radius: 6px;\n  box-shadow: 0px 0px 5px 3px rgba(0, 0, 0, 0.1);\n  grid-template-columns: 1fr 400px;\n\n  @media "," {\n    width: 100%;\n  }\n\n  @media "," {\n    grid-template-columns: 1fr;\n    position: absolute;\n    top: 10px;\n  }\n\n  @media "," {\n    "," {\n      padding: 30px 15px;\n    }\n  }\n"])),Ft,d.eb.laptop,d.eb.tabletL,d.eb.tablet,Ft);var zt,Dt,Tt,Et=n(4),Pt=n(18),Mt=n(27);const Bt=()=>{const e=Object(Et.a)((()=>Promise.resolve().then(n.bind(null,30))));return Object(v.jsx)(Pt.c,{children:Object(v.jsx)(Pt.b,{children:Object(v.jsx)(e,{color:d.I,size:40,icon:"referral"})})})},Ut=()=>{var e,t,a,i,c;const s=Object(Et.a)((()=>Promise.resolve().then(n.bind(null,30)))),{tx_path:o,order_id:r}=Object(Mt.g)(),d=Object(f.d)((e=>{let{modelData:t}=e;return t})),{withdraw_account_id:l}=d[o][r],p=(null===d||void 0===d?void 0:d.withdraw_accounts)&&(null===d||void 0===d?void 0:d.withdraw_accounts[l]);return Object(v.jsxs)(Vt,{className:"".concat(p?"":"unAvalaible"),children:[Object(v.jsx)(Wt,{children:p&&Object(v.jsx)(s,{size:45,icon:null===p||void 0===p||null===(e=p.bank_name)||void 0===e?void 0:e.value})}),Object(v.jsxs)(Rt,{children:[Object(v.jsx)("p",{className:"fuente",children:p?null===p||void 0===p||null===(t=p.bank_name)||void 0===t||null===(a=t.ui_name)||void 0===a?void 0:a.toLowerCase():"Cuenta no disponible"}),Object(v.jsx)("p",{className:"fuente accountType",children:p?null===p||void 0===p||null===(i=p.account_type)||void 0===i?void 0:i.ui_name:""}),Object(v.jsx)("p",{className:"fuente2",children:p?"No. ".concat(null===p||void 0===p||null===(c=p.account_number)||void 0===c?void 0:c.value):""})]})]})},Wt=o.b.div(zt||(zt=Object(a.a)(["\n    height:80px;\n    width:80px;\n    border-radius:6px;\n    position: relative;\n    display: grid;\n    background:#d8d8d8;\n    border-radius:6px;\n\n    .iconSty{\n        position: absolute;\n        justify-self: center;\n        align-self: center; \n    }\n  "]))),Vt=o.b.div(Dt||(Dt=Object(a.a)(["\n    width:auto;\n    height:80px;\n    display:grid;\n    grid-template-columns:auto 1fr;\n    column-gap: 12px;\n\n    &.unAvalaible{\n       ","{\n            background:#c4c4c4;\n        }\n       .fuente{\n        font-size:14px;\n       }\n    }\n  "])),Wt),Rt=o.b.div(Tt||(Tt=Object(a.a)(["\n    height:100%;\n    width:auto;\n    display: grid;\n    grid-template-rows: 20px 18px auto;\n    row-gap: 5px;\n    .accountType{\n        font-size:12px;\n    }\n    .fuente2{\n      font-size:12px;\n    }\n    p{\n      text-transform: capitalize;\n      color:gray;\n      margin:0;\n    }\n  "])));var Kt,qt,Ht,$t,Xt,Gt,Jt,Yt,Zt,Qt,en,tn,nn,an=e=>{var t;const{tx_path:n,info:a}=e,c=(null===a||void 0===a?void 0:a.is_referral)?"is_referral":null===e||void 0===e?void 0:e.currency_type,s={deposits:{is_referral:{title:"Dep\xf3sito por referido",component:Bt}},withdraws:{fiat:{title:"Informaci\xf3n cuenta de retiro",component:Ut}},swaps:{title:"",component:()=>Object(v.jsx)("div",{})}};var o;return Object(i.useEffect)((()=>{var e;const t="swaps"===n?"":(null===(e=s[n][c])||void 0===e?void 0:e.title)||"Comprobante de pago",a=document.querySelector("#titleInfoComponent");a&&(a.innerHTML=t)}),[]),"swaps"===n?null===(o=s[n])||void 0===o?void 0:o.component:(null===(t=s[n][c])||void 0===t?void 0:t.component)||q};ue.a.locale("es");t.default=()=>{const{actions:e,currentOrder:t,tx_path:n}=Object(m.a)();return t&&t.state?Object(v.jsx)(s.a,{id:"close-button-with-OtherModalLayout",onkeydown:!0,on_click:(t,n)=>{t&&(t.target.dataset.close_modal||n)&&(e.isAppLoading(!1),e.renderModal(null))},children:["accepted","rejected","canceled"].includes(t.state)?Object(v.jsx)(sn,{currentOrder:t,tx_path:n}):Object(v.jsx)(ot,{onErrorCatch:()=>(e.renderModal(null),Object(v.jsx)("div",{}))})}):(e.renderModal(null),Object(v.jsx)("div",{}))};const cn=e=>"accepted"===e?"Aceptado":"confirmed"===e?"Confirmado":"pending"===e?"Pendiente":"rejected"===e?"Rechazado":"Cancelado",sn=e=>{let{currentOrder:t,tx_path:n}=e;const{isMovilViewport:a}=Object(p.a)();if(!t)return null;const{state:i}=t,c=(e=>{var t;return(null===(t=d.M[e])||void 0===t?void 0:t.ui_name)||e})(n),s="accepted"===i?"Aceptado":"confirmed"===i?"Confirmado":"pending"===i?"Pendiente":"rejected"===i?"Rechazado":"Cancelado",o="accepted"===i?"#1cb179":"confirmed"===i?"#77b59d":"pending"===i?"#ff8660":"red",r=["accepted","rejected","canceled"].includes(i);return Object(v.jsxs)(wn,{className:"layout3 ".concat("swaps"!==n&&a&&r?"mobileInfoStyles":""),children:[Object(v.jsx)(ct.g,{theme:"dark",size:20}),Object(v.jsxs)(gn,{state:t.state,children:[Object(v.jsxs)(pn,{children:[Object(v.jsx)(mn,{className:"fa ".concat(n)}),Object(v.jsx)(l.default,{className:"TitleIconOrder",size:28,icon:t.currency&&t.currency.currency||"cop"}),Object(v.jsx)(xn,{className:"fuente",children:c}),Object(v.jsxs)(un,{className:"fuente2",children:["Actualizado ",ue()(t.updated_at).format("LL")]})]}),Object(v.jsxs)(fn,{children:[Object(v.jsx)(l.default,{size:a?25:45,icon:"accepted"===i?"accepted2":i,color:o}),Object(v.jsx)("p",{className:"fuente",style:{color:"".concat(o)},children:s})]}),Object(v.jsx)(jn,{children:Object(v.jsx)(bn,{})})]}),Object(v.jsx)(u.a,{order:t,title:"Resumen del ".concat(c)}),Object(v.jsx)(on,{colorState:o,currentOrder:t,tx_path:n})]})},on=e=>{var t;let{currentOrder:n,tx_path:a,colorState:i}=e;const{currencies:c}=Object(m.a)(),s=a.includes("withdraw")&&(null===n||void 0===n?void 0:n.amount_neto)?null===n||void 0===n?void 0:n.amount_neto:null===n||void 0===n?void 0:n.amount,[o]=Object(h.a)(s||n.bought,n.currency||(null===n||void 0===n?void 0:n.to_buy_currency)),{isMovilViewport:r}=Object(p.a)(),l=((e,t)=>{const n=d.T[e];return n&&(n[null===t||void 0===t?void 0:t.state]||(null===n||void 0===n?void 0:n.ui_name))||"Cantidad"})(a,n),u="swaps"===a?c[n.to_buy_currency.currency]:c[n.currency.currency],b=an({...n,tx_path:a}),j=["accepted","rejected","canceled"].includes(n.state);return Object(v.jsxs)(ln,{children:[Object(v.jsxs)(wt,{className:"titleSection payment fuente ".concat(a),children:[Object(v.jsx)(gt,{id:"titleInfoComponent",className:"titleSection ".concat(j?"consolidatedStyle":"")}),Object(v.jsx)("hr",{})]}),Object(v.jsxs)(dn,{consolidatedOrder:j||"",isMovilViewport:r||"",children:[Object(v.jsx)(b,{}),Object(v.jsxs)(rn,{color:i,className:"".concat(n.state),children:[Object(v.jsx)("p",{className:"fuente saldo",children:l}),Object(v.jsxs)("p",{className:"fuente2 amount",children:["fiat"===n.currency_type&&"$ ",o," ",u&&Object(v.jsx)("span",{className:"fuente",children:null===u||void 0===u||null===(t=u.code)||void 0===t?void 0:t.toUpperCase()})]})]})]})]})},rn=o.b.div(Kt||(Kt=Object(a.a)(["\n  width: auto;\n  height: 70px;\n  justify-self: end;\n  align-self: end;\n\n  &.rejected,\n  &.canceled {\n    .amount {\n      text-decoration: line-through;\n    }\n  }\n\n  p {\n    color: ",";\n    margin: 0;\n    text-align: right;\n  }\n  & > p {\n    margin-bottom: 10px;\n  }\n  .amount {\n    font-size: 30px;\n    span {\n      font-size: 18px;\n    }\n  }\n  .saldo {\n    font-size: 16px;\n  }\n"])),(e=>e.color)),dn=o.b.div(qt||(qt=Object(a.a)(["\n  width: ",";\n  padding: ",";\n  height: 100%;\n  display: grid;\n  grid-template-columns: ",";\n  grid-template-rows: ",";\n"])),(e=>e.consolidatedOrder?"calc(100% - 60px)":"100%"),(e=>e.consolidatedOrder?"0 30px":"0"),(e=>e.isMovilViewport?"1fr":"auto 1fr"),(e=>e.isMovilViewport?"auto auto":"1fr")),ln=o.b.section(Ht||(Ht=Object(a.a)(["\n  height: calc(200px - 40px);\n  width: 100%;\n  padding: 20px 0;\n  display: grid;\n  grid-template-rows: auto 1fr;\n  row-gap: 20px;\n"]))),pn=o.b.div($t||($t=Object(a.a)(['\n  display: grid;\n  .TitleIconOrder {\n    grid-area: IconSwitch;\n  }\n  align-items: center;\n  column-gap: 15px;\n  row-gap: 4px;\n  align-self: center;\n  position: absolute;\n  left: 30px;\n  grid-template-columns: 25px 25px minmax(100px, 200px);\n  grid-template-areas:\n    "OrderIcon IconSwitch Title"\n    "OrderIcon IconSwitch DateTitle";\n']))),un=o.b.p(Xt||(Xt=Object(a.a)(["\n  font-size: 12px;\n  color: white;\n  grid-area: DateTitle;\n  margin: 0;\n  padding: 0;\n  text-align: left;\n  display: grid;\n  margin-left: 4px;\n"]))),hn=o.b.i(Gt||(Gt=Object(a.a)([""]))),mn=Object(o.b)(hn)(Jt||(Jt=Object(a.a)(['\n    margin-right: 10px;\n    font-size: 22px;\n    grid-area: OrderIcon;\n    color: white;\n    margin: 0;\n    display: grid !important;\n    justify-items: center;\n\n    &.swaps:before{\n       content: "\f079";\n      }\n    }\n    &.withdraws:before{\n       content: "\f062";\n      }\n    }\n    &.deposits:before{\n       content: "\f063";\n      }\n    }\n\n  '],['\n    margin-right: 10px;\n    font-size: 22px;\n    grid-area: OrderIcon;\n    color: white;\n    margin: 0;\n    display: grid !important;\n    justify-items: center;\n\n    &.swaps:before{\n       content: "\\f079";\n      }\n    }\n    &.withdraws:before{\n       content: "\\f062";\n      }\n    }\n    &.deposits:before{\n       content: "\\f063";\n      }\n    }\n\n  ']))),bn=o.b.div(Yt||(Yt=Object(a.a)(["\n  width: 120%;\n  height: 120%;\n  position: absolute;\n  background-image: url(/static/media/back.fe9a1b62.png);\n  background-size: contain;\n  background-repeat: repeat;\n  background-position: right;\n  opacity: 0.05 !important;\n  animation: ",";\n  animation-duration: 80s;\n  animation-iteration-count: infinite;\n  transform: scale(1.5);\n"])),r.a),jn=o.b.div(Zt||(Zt=Object(a.a)(["\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  overflow: hidden;\n"]))),fn=o.b.div(Qt||(Qt=Object(a.a)(["\n  display: grid;\n  align-items: center;\n  justify-content: center;\n  justify-self: end;\n  width: 90px;\n  height: 90px;\n  background: white;\n  border-radius: 50%;\n  align-self: flex-end;\n  position: relative;\n  transform: translate(-30px, 45px) !important;\n\n  p {\n    position: absolute;\n    margin: 0;\n    bottom: -3px;\n    font-size: 14px;\n    justify-self: center;\n  }\n\n  @media "," {\n    width: 60px;\n    height: 60px;\n    transform: translate(-20px, 45px) !important;\n    p {\n      bottom: -8px;\n    }\n  }\n"])),d.eb.tablet),xn=o.b.h3(en||(en=Object(a.a)(["\n  text-align: left;\n  color: white;\n  margin: 0;\n  grid-area: Title;\n  font-size: 22px;\n  margin-left: 4px;\n"]))),gn=o.b.section(tn||(tn=Object(a.a)(["\n  background: ",";\n  width: 100%;\n  height: 100%;\n  display: grid;\n  position: relative;\n  border-top-right-radius: 6px;\n  border-top-left-radius: 6px;\n"])),(e=>e.state?d.hb[e.state]:"gray")),wn=o.b.div(nn||(nn=Object(a.a)(["\n  width: 100%;\n  max-width: 550px;\n  height: auto;\n  min-height: 650px;\n  background: white;\n  display: grid;\n  align-items: center;\n  justify-items: center;\n  -webkit-transition: 0.3s;\n  transition: 0.3s;\n  border-radius: 11px;\n  position: relative;\n  grid-template-rows: 115px 1fr auto;\n\n  &.mobileInfoStyles{\n    grid-template-rows: 115px 1fr 300px;\n  }\n\n  -webkit-animation: "," 1s\n    cubic-bezier(0.175, 0.885, 0.32, 1.275) both;\n  animation: "," 1s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    both;\n"])),r.m,r.m)},522:function(e,t,n){"use strict";n.d(t,"c",(function(){return m})),n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return j}));var a=n(2),i=n(61),c=n(89),s=n(50),o=n(444),r=n(474),d=n(1);var l=e=>{const{items:t,update_service_mode:n,service_mode:i,buttonActive:s,create_deposit_order:l,title:p}=e;let u=window.innerWidth<768;const[h]=Object(o.a)({items:t,loader:!1,uniqueIdForElement:"modality-item-",modalRestriction:!1});return Object(a.useEffect)((()=>{n("Sucursal virtual","app")}),[]),Object(d.jsxs)("div",{className:"DLstep modality",children:[Object(d.jsx)("div",{className:"DLcontain",style:{alignSelf:"baseline",marginTop:"15px"},children:Object(d.jsx)("p",{className:"fuente DLtitle2",children:p})}),Object(d.jsx)("div",{className:"".concat(window.innerWidth>768?"DLItemSelectionContainer":"ItemSelectionContainerMovil"),children:Object(d.jsx)("div",{className:"".concat(window.innerWidth>768?"DLcontainerItems":"containerItems"," chooseMethod"),children:t.map(((e,t)=>Object(a.createElement)(r.a,{setCurrentSelection:h,focusedId:"modality-item-".concat(t),number:t,handleClick:l,primarySelect:u,actualizarEstado:n,actives:i===e.code&&!0,...e,key:e.id})))})}),Object(d.jsx)(c.b,{type:"primary",active:s,siguiente:l,children:"Crear orden"})]})},p=n(454),u=n(21),h=n(458);n(530),n(491);const m=e=>{const{deposit_way:t,deposit_service:n,step:a,buttonActive:i,update_service_mode:c,service_mode:o,create_deposit_order:r,idForAcceptButtonInDepositView:p}=e;return Object(d.jsxs)("section",{className:"DepositLayout",children:[3===a&&"bankaccount"===t&&Object(d.jsx)(l,{title:"Elige el medio de pago",items:s.i,update_service_mode:c,service_mode:o,buttonActive:i,deposit_service:n,create_deposit_order:r}),4===a&&"bankaccount"===t&&Object(d.jsx)(j,{idForAcceptButtonInDepositView:p,...e})]})},b=e=>{const{deposit_way:t,short_bank_name:n,deposit_service:a,step:i,update_local_state:c,buttonActive:o,create_deposit_order:r,idForAcceptButtonInDepositView:p}=e;return Object(d.jsxs)("section",{className:"DepositLayout",children:[3===i&&"cash"===t&&Object(d.jsx)(l,{title:"Elige el medio de pago:",items:s.b,update_service_mode:c,service_mode:n,buttonActive:o,deposit_service:a,create_deposit_order:r}),4===i&&"cash"===t&&Object(d.jsx)(j,{idForAcceptButtonInDepositView:p,...e})]})},j=e=>{var t,n,s,o,r,l,m,b,j,f,x,g,w,v,_,O,y,N;const{loader:k,deposit_way:S,finalizar:C,final:A,finalButton:I,step:F,new_ticket:L,depositProvData:z}=e;return Object(d.jsx)("div",{id:"DLstep2",className:"DLstep ".concat(4===F||4===F&&"cash"===S?"DLstep2":""),children:k?Object(d.jsxs)(a.Fragment,{children:[Object(d.jsx)("div",{}),Object(d.jsx)(i.SimpleLoader,{label:"Creando orden de dep\xf3sito"})]}):Object(d.jsxs)(a.Fragment,{children:[Object(d.jsxs)("div",{className:"succ nWCabeza ".concat(A?"desaparece1":""),children:[Object(d.jsx)("div",{className:"icon icon--order-success svg",children:Object(d.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"72px",height:"72px",alt:"",children:Object(d.jsxs)("g",{fill:"none",stroke:"white",strokeWidth:"3",children:[Object(d.jsx)("circle",{cx:"36",cy:"36",r:"35"}),Object(d.jsx)("path",{className:"check",d:"M17.417,37.778l9.93,9.909l25.444-25.393"})]})})}),Object(d.jsx)("p",{className:"titleWhite fuente",children:"Dep\xf3sito creado exitosamente"})]}),Object(d.jsxs)("div",{className:"asaras",children:[Object(d.jsx)("div",{style:{marginTop:"-20%",zIndex:999},className:"".concat(A?"apareces1":""," nWbody2 Fbody2 FlowCont fuente DLmessage"),children:Object(d.jsxs)("div",{className:"FolowTexts",children:[Object(d.jsx)("p",{className:"fuente Fimportant",children:"IMPORTANTE!"}),Object(d.jsxs)("p",{className:"Ftexto fuente ",children:["Una vez realizada la consignaci\xf3n, debes confirmar el dep\xf3sito subiendo una fotograf\xeda del ",Object(d.jsx)("strong",{children:" COMPROBANTE DE PAGO "})]}),Object(d.jsx)("img",{className:"tocatoca",src:"".concat(Object(u.b)("assets"),"proof.png"),alt:"",width:"34%"})]})}),Object(d.jsxs)("div",{className:"bodyTcket nWbody2 Fbody2 eya fuente ".concat(A?"desaparece1":""),children:[z&&Object(d.jsx)(h.BankDataContainer,{accountData:{title:"Datos para hacer el dep\xf3sito",bankUiName:null===z||void 0===z?void 0:z.name,accountType:null===z||void 0===z||null===(t=z.account)||void 0===t||null===(n=t.type)||void 0===n?void 0:n.type,accountIdUiName:null===z||void 0===z||null===(s=z.account)||void 0===s||null===(o=s.account_id)||void 0===o?void 0:o.ui_name,accountId:null===z||void 0===z||null===(r=z.account)||void 0===r||null===(l=r.account_id)||void 0===l?void 0:l.account_id,bussinesNameUiName:null===z||void 0===z||null===(m=z.account)||void 0===m||null===(b=m.bussines_name)||void 0===b?void 0:b.ui_name,bussinesName:null===z||void 0===z||null===(j=z.account)||void 0===j||null===(f=j.bussines_name)||void 0===f?void 0:f.bussines_name,nitUiName:null===z||void 0===z||null===(x=z.account)||void 0===x||null===(g=x.nit)||void 0===g?void 0:g.ui_name,nit:null===z||void 0===z||null===(w=z.account)||void 0===w||null===(v=w.nit)||void 0===v?void 0:v.nit,dvUiName:null===z||void 0===z||null===(_=z.account)||void 0===_||null===(O=_.dv)||void 0===O?void 0:O.ui_name,dv:null===z||void 0===z||null===(y=z.account)||void 0===y||null===(N=y.dv)||void 0===N?void 0:N.dv}}),L&&Object(d.jsx)(p.a,{order:L,theme:"darkTheme"})]})]}),Object(d.jsx)("div",{id:"nWcta",className:"nWcta",children:I?Object(d.jsx)(c.h,{id:"accept-deposit-view-modal",toggleModal:C,children:"Finalizar"}):Object(d.jsx)(c.g,{id:"accept-deposit-view-modal",toggleModal:C,children:"Finalizar"})})]})})}},528:function(e,t,n){"use strict";var a=n(2),i=n(451),c=n(44),s=(n(504),n(1));t.a=e=>{const[t,n]=Object(a.useState)(),[o,r]=Object(a.useState)(),[d,l]=Object(a.useState)(),[p,u]=Object(a.useState)(),[h,m]=Object(a.useState)(),[b,j]=Object(a.useState)(),[f,,x]=Object(c.a)(),g=t=>{setTimeout((()=>{e.toggle_anim&&e.toggle_anim(),j(e.toggle_anim&&!0)}),1200),setTimeout((()=>{e.authenticated&&e.authenticated(t)}),1500)},{label:w,handleFocus:v,handleBlur:_,disabled:O}=e;return Object(s.jsx)("div",{id:"authReq",className:"".concat(b?"desaparece":""),children:Object(s.jsx)(i.c,{disabled:O,type:"number",label:w,placeholder:"CODIGO 2FA",name:"auth",actualizarEstado:async t=>{const{value:a}=t.target;if(a.length>5){if(r(!0),n(!1),l("Verificando..."),e.isWithdraw2fa)return g(a);let t;return x.isAppLoading(!0),t=e.isTryToDisable2fa?await f.disableTransactionSecutiry("2fa",a):await f.addNewTransactionSecurity("2fa",a),x.isAppLoading(!1),t?((e,t)=>(n(!0),l("Verificado con \xc9xito"),u(!1),r(!1),m(e),g(t)))(a,t):(l("El c\xf3digo de verificaci\xf3n es incorrecto"),u(!0),r(!1))}l(""),n(!1),r(!1),u(!1)},active:t,verifying:o,value:h,status:d,error:p,handleFocus:v,handleBlur:_})})}},530:function(e,t,n){},565:function(e,t,n){"use strict";var a,i,c,s,o,r,d,l,p,u,h=n(5),m=(n(2),n(144)),b=n(6),j=n(39),f=n(528),x=n(30),g=n(45),w=n(442),v=n(1);t.a=e=>{let{callback:t,isWithdraw2fa:n,cancelAction:a}=e;const i=Object(g.a)(),c=(e,t)=>{(t||!e||e.target.dataset&&e.target.dataset.close_modal)&&(i.renderModal(null),a&&a())};return Object(v.jsx)(m.a,{on_click:c,children:Object(v.jsxs)(F,{children:[Object(v.jsx)(w.g,{theme:"dark",size:20}),Object(v.jsxs)(I,{children:[Object(v.jsx)(A,{className:"fuente",children:"Autenticaci\xf3n de retiro"}),Object(v.jsxs)(C,{children:[Object(v.jsx)("div",{className:"wavExpansive in"}),Object(v.jsx)(x.default,{size:60,icon:"twofa"})]}),Object(v.jsx)(O,{children:Object(v.jsx)(_,{className:"backTopSection"})})]}),Object(v.jsxs)(S,{children:[Object(v.jsxs)(k,{children:[Object(v.jsxs)("p",{className:"fuente",children:["Digita el c\xf3digo ",Object(v.jsx)("span",{className:"fuente2",children:"2FA"})," para continuar."]}),Object(v.jsx)(y,{children:Object(v.jsx)(f.a,{isWithdraw2fa:n,authenticated:t})})]}),Object(v.jsx)(N,{onClick:()=>c(!1,!0),children:"Cancelar"})]})]})})};const _=b.b.div(a||(a=Object(h.a)(["\n  opacity: 0.05 !important;\n  animation: ",";\n  animation-duration: 30s;\n  animation-iteration-count: infinite;\n"])),j.a),O=b.b.div(i||(i=Object(h.a)(["\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  overflow: hidden;\n"]))),y=b.b.div(c||(c=Object(h.a)(["\n  width: 100%;\n  position: relative;\n  height: 70px;\n"]))),N=b.b.div(s||(s=Object(h.a)(["\n  padding: 8px 15px 8px 15px;\n  background: #e6e6e6;\n  display: grid;\n  width: auto;\n  min-width: 200px;\n  height: 35px;\n  display: grid;\n  align-items: center;\n  border-radius: 6px;\n  align-self: center;\n  margin-bottom: 20px;\n  justify-items: center;\n  cursor: pointer;\n  -webkit-transition: 0.15s;\n  transition: 0.15s;\n  color: #888888;\n\n  &:hover {\n    background: #0198ff;\n    color: white;\n  }\n"]))),k=b.b.div(o||(o=Object(h.a)(["\n  width: 80%;\n  position: relative;\n  display: grid;\n  justify-items: center;\n  align-items: center;\n  height: 111px;\n  span {\n    margin: 0 7px;\n  }\n"]))),S=b.b.div(r||(r=Object(h.a)(["\n  width: 100%;\n  display: grid;\n  justify-items: center;\n  position: relative;\n  padding-top: 0px;\n  /* grid-template-rows: repeat(3, auto); */\n  grid-template-rows: 1fr auto;\n  align-items: center;\n  height: 100%;\n  grid-row-gap: 10px;\n  row-gap: 10px;\n"]))),C=b.b.div(d||(d=Object(h.a)(["\n  display: grid;\n  align-items: center;\n  justify-content: center;\n  width: 130px;\n  height: 130px;\n  background: white;\n  border-radius: 50%;\n  justify-self: center;\n  align-self: flex-end;\n  position: relative;\n\n  animation: ",";\n  animation-duration: 0.35s;\n  animation-delay: 0.25s;\n  animation-fill-mode: forwards;\n  transform: translateY(15px) scale(0);\n"])),j.l),A=b.b.h3(l||(l=Object(h.a)(["\n  text-align: center;\n  color: white;\n  margin: 30px 0 10px 0;\n"]))),I=b.b.section(p||(p=Object(h.a)(["\n  background: linear-gradient(to bottom right, #0175c3, #039aff);\n  width: 100%;\n  height: 100%;\n  display: grid;\n  position: relative;\n  border-top-right-radius: 6px;\n  border-top-left-radius: 6px;\n"]))),F=b.b.div(u||(u=Object(h.a)(["\n  width: 100%;\n  max-width: 410px;\n  height: 460px;\n  background: white;\n  display: grid;\n  align-items: center;\n  justify-items: center;\n  -webkit-transition: 0.3s;\n  transition: 0.3s;\n  border-radius: 11px;\n  position: relative;\n  grid-template-rows: 30% 70%;\n\n  -webkit-animation: "," 1s\n    cubic-bezier(0.175, 0.885, 0.32, 1.275) both;\n  animation: "," 1s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    both;\n"])),j.m,j.m)},569:function(e,t,n){"use strict";var a=n(2),i=n(570),c=n(451),s=n(89),o=n(9),r=n(50),d=n(24),l=n(19),p=n(61),u=n(66),h=n(14),m=(n(241),n(1));class b extends a.Component{constructor(){super(...arguments),this.state={placeholder:"coins"===this.props.type?"ej: Bitcoin":"ej: Bancolombia",selected:this.props.selected,coincidencia:"",items:this.props.items},this.load_items=async e=>{let t;"coins"===e&&(t=this.props.coins?this.props.coins:await this.props.coinsendaServices.fetchAllCurrencies()),"banks"===e&&(t=r.a),"remittance"===e&&(t=r.h),this.setState({items:t})},this.buscarResultados=e=>{this.buscarItemStore(e);let t={name:"",code:""};this.props.search.length<2&&this.state.items.filter((n=>{let a=e.toLowerCase();return!!n.name.toLowerCase().includes(a)&&(this.setState({selected:!0,coincidencia:n.name.toLowerCase()}),t=n)}));const{current:n}=this.props,a={target:{name:"wallets"===n?"currency":"bank"===n?"bank_name":"deposit_service",value:t.name.toLowerCase(),short_name:t.code.toLowerCase()}};this.props.actualizarEstado(a)},this.actualizar=e=>{const t=e.target.value;Object(h.debounce)(this.buscarResultados,250)(t)},this.buscarItemStore=(e,t)=>{this.props.action.Search(e,this.props.current,this.state.items,t),this.props.update_control_form(e)},this.seleccionarItem=(e,t)=>{this.setState({coincidencia:e,selected:!0});const{current:n}=this.props,a={target:{name:"wallets"===n?"currency":"bank"===n||"withdraw"===n?"bank_name":"deposit_service",value:e,short_name:t}};this.buscarItemStore(e,!0),this.props.actualizarEstado(a)},this.close=()=>(this.props.clearItem&&this.props.clearItem(),this.setState({selected:!1,placeholder:"coins"===this.props.type?"ej: Bitcoin":"ej: Bancolombia"}),this.buscarItemStore(""))}componentDidMount(){const{items:e}=this.state;if(e)return!1;this.load_items(this.props.type)}render(){const{search:e,buttonActive:t,itemSelect:n,label:o}=this.props,{items:r}=this.state;return Object(m.jsxs)("section",{className:"ItemSelectionContainers",id:"itemSelect",children:[this.state.selected?Object(m.jsx)(s.j,{close:this.close,label:o,active:n||e.length,value:n||e.length&&e[0].currency,children:this.state.coincidencia||n||e.length&&e[0].currency}):Object(m.jsx)(c.e,{type:"text",autoFocus:this.props.autoFocus,label:o,placeholder:this.state.placeholder,name:"currency",actualizarEstado:this.actualizar,active:t}),Object(m.jsx)("div",{className:"ItemSelectionContainer",children:this.state.items?Object(m.jsx)("div",{className:"containerItems",children:e.length>0?e.length<2?e.map((e=>Object(a.createElement)(i.a,{itemType:this.props.type,actualizarEstado:this.seleccionarItem,actives:!0,...e,key:e.id,format:this.props.format}))):e.map((e=>Object(a.createElement)(i.a,{actualizarEstado:this.seleccionarItem,...e,key:e.id,format:this.props.format}))):r.map((e=>Object(a.createElement)(i.a,{actualizarEstado:this.seleccionarItem,...e,key:e.id,format:this.props.format})))}):Object(m.jsx)(p.default,{})})]})}}t.a=Object(o.b)((function(e,t){const{form_control_deposit:n,form_deposit:a,current:i,search_coin:c,search_bank:s,form_wallet:o,form_bank:r,form_control_wallet:d,form_control_bank:l,search_deposit:p}=e.form,{currencies:u}=e.modelData;return{search:"wallets"===i?c:"bank"===i||"withdraw"===i?s:p,form:"wallets"===i?o:"bank"===i||"withdraw"===i?r:a,buttonActive:"wallets"===i?d:"bank"===i||"withdraw"===i?l:n,selected:"wallets"===i?1===c.length:"bank"===i||"withdraw"===i?1===s.length:1===p.length,current:i,coins:u}}),(function(e){return{action:Object(l.bindActionCreators)(d.a,e)}}))(Object(u.a)(b))},570:function(e,t,n){"use strict";var a=n(2),i=n(4),c=n(21),s=(n(241),n(1));const o=Object(i.a)((()=>Promise.resolve().then(n.bind(null,30))));t.a=function(e){const t=()=>{const{name:t,code:n,currency_type:a,pair_id:i,actualizarEstado:c}=e;c&&c(t,n,a,i)};Object(a.useEffect)((()=>{e.actives&&t()}),[e.actives]);const{type:n,actives:i,name:r,code:d,placeholder:l,primarySelect:p,format:u,itemType:h}=e;return console.log("|||||||||||||||  ItemLayout ==> ",n),Object(s.jsxs)("div",{id:"".concat(p?"primarySelect":""),className:"".concat("payment_method"===n?"ILtuvieja":""," "),children:[Object(s.jsxs)("div",{className:"item ".concat(i?"itemSelection":""),onClick:i&&"banks"!==h?null:t,children:[u?Object(s.jsx)(o,{icon:d,size:45}):"coins"===n||"payment_method"===n||"service_mode"===n?i?Object(s.jsxs)("div",{title:r,id:d,children:["bank"===n&&Object(s.jsx)("img",{className:"itemSobre activaos",src:"".concat(Object(c.b)("assets"),"coins/").concat(d,".png"),alt:"",width:"60"}),Object(s.jsx)("img",{className:"itemSobre activaos",src:"".concat(Object(c.b)("assets")).concat(n,"/").concat(d,"2.png"),alt:"",width:"60"})]}):Object(s.jsxs)("div",{title:r,id:d,children:[Object(s.jsx)("img",{className:"itemFuera",src:"".concat(Object(c.b)("assets")).concat(n,"/").concat(d,".png"),width:"60",alt:"",id:d,title:r}),Object(s.jsx)("img",{className:"itemSobre",src:"".concat(Object(c.b)("assets")).concat(n,"/").concat(d,"2.png"),width:"60",alt:"",id:d,title:r})]}):Object(s.jsx)("img",{className:"banquis ".concat(i?"itemVisible":""),src:"".concat(Object(c.b)("assets")).concat(n,"/").concat(d,".png"),alt:"",id:d,title:r,width:"85"}),p?Object(s.jsxs)("div",{id:"primarySelectText",className:"primarySelectText",children:[Object(s.jsx)("p",{title:r,children:r}),l&&l.map((e=>Object(s.jsx)("p",{id:"ILplaceholder2",className:"fuente",children:e.name},e.id)))]}):Object(s.jsx)("p",{title:r,children:r})]}),l&&!p&&Object(s.jsx)("div",{className:"placeHoldCont",children:l.map((e=>Object(s.jsx)("p",{className:"ILplaceholder fuente",children:e.name},e.id)))})]})}},591:function(e,t,n){"use strict";var a=n(2),i=n(89),c=n(30),s=n(451),o=n(14),r=(n(491),n(1));class d extends a.Component{constructor(){super(...arguments),this.state={statusInput:"",ui_currency_name:"",minAmount:this.props.min_amount||2e4},this.handleKeyPress=e=>{let t=Object(o.handleKeyPress)(e);return this.setState({statusInput:t})},this.getMinAmount=async()=>{var e,t;const{withdrawProviders:n,withdraw_account_list:a}=this.props;let i,c,s;if(!n)return this.state.minAmount;if(await n.forEach((e=>{"bank"===e.provider_type&&(i=e)})),c=(null===(e=i)||void 0===e||null===(t=e.provider)||void 0===t?void 0:t.min_amount)||"50000",!i||!a)return c;await a.forEach((e=>{var t;i.name.includes(null===e||void 0===e||null===(t=e.bank_name)||void 0===t?void 0:t.value)&&(s=i.provider.costs.same_bank.fixed)})),s||(s=i.provider.costs.pp.fixed);return parseInt(c)+parseInt(s)},this.init_config=async()=>{const{currency:e}=this.props;let t=Object(o.get_ui_name_currency)(e);const n=await this.getMinAmount();this.setState({ui_currency_name:t,minAmount:n})},this.actualizarAmount=e=>{let{target:t}=e,n=t.value.replace(/\D/g,"");console.log("actualizarAmount",n),this.props.updateAmountOnState(n)},this.load_amount=()=>{const{operation_type:e,available:t}=this.props;this.props.updateAmountOnState("deposit"===e?2e4:t)}}componentDidMount(){this.init_config()}componentWillUnmount(){}render(){var e,t;const{operation_type:n,currency:d,available:l,amount:p,handleSubmit:u}=this.props,{statusInput:h,minAmount:m}=this.state,b={icon:d,size:80},j="withdraw"!==n||(null===(e=this.props)||void 0===e||null===(t=e.withdrawProviders)||void 0===t?void 0:t.length);return Object(r.jsx)("div",{className:"viewAmount DLstep",children:d&&Object(r.jsxs)(a.Fragment,{children:[Object(r.jsx)("div",{className:"DLcontain",children:Object(r.jsxs)("p",{className:"fuente DLtitle2",children:["Escribe la cantidad a ","deposit"===n?"depositar":"retirar"]})}),Object(r.jsxs)("div",{className:"DLcontain2",children:[Object(r.jsx)(c.default,{...b}),Object(r.jsx)(s.a,{value:p,autoFocus:!0,actualizar:this.actualizarAmount,name:"amount",handleKeyPress:this.handleKeyPress,service:o.number_format,minAmountLabel:m&&"Retiro Minimo: $".concat(Object(o.number_format)(m)," ").concat(d.toUpperCase())}),Object(r.jsxs)("div",{className:"DLstatus",children:[Object(r.jsx)("p",{id:"DLcop2",className:"fuente2 DLstitle DLcop DLcop2",onClick:this.load_amount,children:"deposit"===n?"Cantidad minima: $ ".concat(Object(o.number_format)(m)," ").concat(d.toUpperCase()):("withdraw"===n&&parseFloat(l),"Disponible: $".concat(Object(o.number_format)(l)," ").concat(d.toUpperCase()))}),Object(r.jsx)("p",{className:"textStatus",children:h})]})]}),Object(r.jsx)(i.b,{_id:this.props.mainCtaId,type:"primary",active:j&&("deposit"===n?parseFloat(p)>=parseFloat(m):parseFloat(p)>=parseFloat(m)&&parseFloat(p)<=parseFloat(l)&&parseFloat(p)>0),siguiente:u,children:"Continuar"})]})})}}t.a=d},592:function(e,t,n){"use strict";n(2),n(241);var a=n(1);t.a=e=>{const{Anim2:t,color:n}=e;let i={transform:t?"scale(1)":"scale(0)",animationDelay:t?".12s":"",background:"green"===n?"linear-gradient(to right, #11998e, #38ef7d)":"red"===n?"linear-gradient(to right, #ab2f26, #ff1100)":"linear-gradient(to right, #377FD7, #00D2FF)"},c={animationDelay:t?".15s":"",background:"green"===n?"#3be18545":"red"===n?"rgba(255, 17, 0, 0.3)":"#109cd04f"};return Object(a.jsxs)("div",{className:"active_account",title:"Cuenta Habilitada",children:[Object(a.jsx)("div",{className:"bigEgg",style:c}),Object(a.jsx)("div",{className:"egg",style:i})]})}},593:function(e,t,n){},594:function(e,t,n){},618:function(e,t,n){"use strict";n.r(t);n(2);var a=n(4),i=n(89),c=n(43),s=n(458),o=n(454),r=(n(594),n(1));const d=Object(a.a)((()=>Promise.resolve().then(n.bind(null,30))));t.default=function(e){var t,n,a,l;const p=Object(c.a)(!0,"cancel-button-ticket",8,!1,"onkeyup",!0),u=Object(c.a)(!0,"finalizar-button-ticket",13,!1,"onkeyup",!0),{finishAction:h,cta_primary_label:m,cta_secondary:b,cta_secondary_label:j,cta_secondary_action:f,wAccount:x,order:g,title:w}=e;return Object(r.jsx)("div",{className:"finalTicket TicketDetail _wAccountSuccess",children:Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("div",{className:"finalTicket ticketHeader wAccountSuccess",children:[Object(r.jsx)(d,{icon:"success",size:75,color:"white"}),Object(r.jsx)("h1",{className:"fuente finalTicket TicketTitle",children:"".concat(w||"Cuenta de retiro creada exitosamente")})]}),Object(r.jsx)("div",{className:"finalTicket contenidoTicket wAccountSuccess",children:Object(r.jsxs)(s.BankData,{children:[Object(r.jsxs)(s.TitleContainer,{className:"__titleCont",children:[Object(r.jsx)("p",{className:"fuente",children:"Datos de tu cuenta de retiro"}),Object(r.jsx)("div",{className:"__line__"})]}),Object(r.jsxs)(s.CorpAccountContainer,{className:"corpAccountContainer",children:[Object(r.jsx)(s.IconContainer,{className:"_corpAccIcon",children:Object(r.jsx)(d,{size:45,icon:null===x||void 0===x||null===(t=x.info)||void 0===t?void 0:t.bank_name})}),Object(r.jsxs)(s.DetailAccountProv,{children:[Object(r.jsx)("h3",{className:"fuente",children:(e=>{var t,n;if("string"!==typeof e)return e;const a=null===e||void 0===e||null===(t=e.split("_"))||void 0===t?void 0:t.join(" ");return null===a||void 0===a?void 0:a.replace(null===e||void 0===e?void 0:e.charAt(0),null===e||void 0===e||null===(n=e.charAt(0))||void 0===n?void 0:n.toUpperCase())})(null===x||void 0===x||null===(n=x.info)||void 0===n?void 0:n.bank_name)}),Object(r.jsx)("p",{className:"fuente",children:"cuenta_ahorro"===(null===x||void 0===x||null===(a=x.info)||void 0===a?void 0:a.account_type)?"Cuenta de ahorros":"Cuenta corriente"}),Object(r.jsx)("p",{className:"fuente",children:"N\xfamero de cuenta:"}),Object(r.jsx)("p",{className:"fuente2",children:null===x||void 0===x||null===(l=x.info)||void 0===l?void 0:l.account_number})]})]}),g&&Object(r.jsx)(r.Fragment,{children:Object(r.jsx)(o.a,{title:"Detalle del retiro",order:g,theme:"darkTheme"})})]})}),Object(r.jsxs)("div",{className:"nWcta2",style:{gridTemplateColumns:b?"repeat(2, 1fr)":"1fr",width:b?"400px":"auto"},children:[b&&Object(r.jsx)(i.g,{id:p,cta_secondary:!0,toggleModal:f,children:j||"Cancelar"}),Object(r.jsx)(i.g,{id:u,toggleModal:h,children:m||"Finalizar"})]})]})})}},621:function(e,t,n){"use strict";n.r(t);var a=n(2),i=n(4),c=n(61),s=n(50),o=n(89),r=n(451),d=n(1);var l=e=>{const{elements:t,label:n,open:a,active:i,placeholder:c}=e;return Object(d.jsxs)("div",{className:"containerInputComponent",children:[Object(d.jsx)("p",{className:"labelText fuente",children:n}),Object(d.jsx)("div",{className:"inputContainer2 ".concat(i?"inputActivado":""),children:Object(d.jsxs)("div",{className:"InputDropDown ".concat(i?"activeText":""),onClick:e.abrir,children:[c,Object(d.jsx)("div",{className:"InputDesplegable ".concat(a?"Idesplegado":""),style:{height:a?"".concat(45*t.length,"px"):"0px"},children:t.map(((t,n)=>Object(d.jsxs)("p",{"data-value":t.value,"data-ui_name":t.ui_name,onClick:e.selectItem,children:[t.ui_name," "]},n)))})]})})]})};n(473);class p extends a.Component{constructor(){super(...arguments),this.state={elements:this.props.elements,open:!1,placeHolder:this.props.placeholder},this.abrir=e=>{this.setState({open:!this.state.open})},this.selectItem=e=>{let t;console.log("_________________________________________________________selectItem",this.state.elements,e.target.dataset),e.target.dataset.value||("Cuenta corriente"===e.target.dataset.ui_name&&(t="cuenta_corriente"),"Cuenta de ahorros"===e.target.dataset.ui_name&&(t="cuenta_ahorro"),"Dep\xf3sito electr\xf3nico"===e.target.dataset.ui_name&&(t="deposito_electronico"));const n={target:{name:this.props.name,value:e.target.dataset.value||t}};this.setState({placeHolder:e.target.dataset.ui_name}),this.props.actualizarEstado(n)}}componentDidMount(){if(this.props.selected&&this.props.elements){const e=this.props.elements.findIndex((e=>e.value===this.props.selected));this.setState({placeHolder:this.props.elements[e].ui_name})}}render(){const{label:e,active:t}=this.props;return Object(d.jsx)(l,{elements:this.state.elements,open:this.state.open,abrir:this.abrir,placeholder:this.state.placeHolder,selectItem:this.selectItem,label:e,active:t})}}var u=p,h=n(569),m=n(570),b=n(21),j=n(9),f=n(19),x=n(24),g=n(14),w=n(40),v=n(484);class _ extends a.Component{constructor(){super(...arguments),this.state={banks:null,cities:null,loader:!1},this.initComponent=async()=>{const{withdraw_providers_list:e}=this.props;this.setState({loader:!0});let t=e;if(!t||t&&!t.length)return;let n=t&&t[0].info_needed.bank_name,a=await Object(g.serveBankOrCityList)(n,"bank"),i=await Object(g.addIndexToRootObject)(t&&t[0].info_needed.id_type),c=await Object(g.objectToArray)(i),s=await Object(g.addIndexToRootObject)(t&&t[0].info_needed.account_type),o=await Object(g.objectToArray)(s);console.log("|||||||||||||||||||||||||| \xb0\xb0\xb0\xb0\xb0\xb0\xb0\xb0\xb0\xb0\xb0\xb0\xb0\xb0\xb0\xb0\xb0\xb0\xb0\xb0\xb0\xb0\xb0\xb0\xb0\xb0\xb0\xb0\xb0\xb0| account_type_list |",o),await this.props.actualizarEstado({target:{name:"currency",value:t[0].currency}}),this.setState({banks:a,id_types:c,account_types:o,loader:!1})},this.update_city=e=>{let t={target:{name:"city",value:e.code}};this.props.actualizarEstado(t)}}componentDidMount(){this.initComponent(),this.props.actualizarEstado({target:{name:"provider_type",value:"bank"}})}componentDidUpdate(e){if(e!==this.props&&this.props.short_name&&this.props.withdraw_providers_list&&this.props.withdraw_providers_list[0]){const e={...this.props.withdraw_providers_list&&this.props.withdraw_providers_list[0].info_needed},t=this.props.short_name,n=e.bank_name[t]&&e.bank_name[t].compatible_account_types.map((t=>e.account_type[t]));console.log("===================================0 accountTypes ",n,e),n&&this.setState({account_types:n})}}render(){const{statusInput:e,handleKeyPress:t,short_name:n,siguiente:i,update_control_form:s,handleSubmit:l,account_number:p,account_type:j,bank_name:f,step:x,search:g,actualizarEstado:w,final_step_create_account:v,idAccept:_}=this.props,{banks:O,loader:y}=this.state;return console.log("|||||| step::",x),Object(d.jsxs)(a.Fragment,{children:[2===x&&Object(d.jsxs)("div",{className:"nBstep1 fuente",children:[Object(d.jsxs)("div",{className:"titleNewAccount",children:[Object(d.jsx)("img",{src:"".concat(Object(b.b)("assets"),"bank.png"),alt:"",height:"70"}),Object(d.jsx)("p",{style:{fontWeight:"bold"},children:"Crea una cuenta de retiro"})]}),Object(d.jsx)("p",{className:"nBtextInit fuente",children:"Son las cuentas a las que env\xedas COP desde Coinsenda. Por ejemplo: Tu cuenta bancaria."}),Object(d.jsx)("div",{id:"bankChooseButton",children:Object(d.jsx)(o.b,{_id:_,type:"primary",active:!0,siguiente:i,children:"OK, comencemos"})})]}),3===x&&Object(d.jsx)("div",{className:"step1",children:Object(d.jsxs)("form",{onSubmit:l,className:"NWithdrawAccountFlow",children:[Object(d.jsx)("div",{className:"titleAccountFlow",children:Object(d.jsx)("h1",{className:"DLtitles2 fuente",children:"Elige la entidad de la cuenta que quieres agregar"})}),y?Object(d.jsx)(c.default,{label:"Cargando..."}):Object(d.jsx)(h.a,{type:"banks",autoFocus:!0,items:O,format:"svg",itemSelect:f,actualizarEstado:w,handleSubmit:l,update_control_form:s}),Object(d.jsx)("div",{id:"bankChooseButton",children:Object(d.jsx)(o.i,{id:_,preventSubmit:!0,label:"Continuar",type:"primary",active:1===g.length&&""!==f})})]})}),(4===x||5===x)&&Object(d.jsx)("div",{className:"step2",children:Object(d.jsxs)("div",{id:"contMsg",className:"contMsg",style:{gridTemplateRows:4===x?"auto 1fr 15vh":x>=5?"auto 1fr":""},children:[Object(d.jsx)("div",{className:"nBcontBank",children:Object(d.jsx)(m.a,{format:"svg",actives:!0,type:"bank",code:n,name:f})}),4===x&&Object(d.jsxs)("form",{className:"formAccountFlow",onSubmit:async e=>{await l(e),v(e)},children:[Object(d.jsxs)("div",{className:"contForminputsAccount",children:[Object(d.jsx)(u,{placeholder:"Tipo de cuenta",elements:this.state.account_types,label:"Elige el tipo de cuenta:",actualizarEstado:w,name:"account_type",selected:j,active:j&&p}),Object(d.jsx)(r.b,{type:"text",label:"Escribe el n\xfamero de tu cuenta",placeholder:"Ej: 1123321...",name:"account_number",autoFocus:!0,actualizarEstado:w,active:j&&p,value:p,handleKeyPress:t,status:e})]}),Object(d.jsx)("div",{id:"bankChooseButton",className:"contbuttonAccount",children:Object(d.jsx)(o.i,{id:_,preventSubmit:!0,label:"Continuar",type:"primary",active:j&&p})})]})]})})]})}}const O=Object(w.a)([e=>e.modelData.user.withdrawProviders,e=>e.modelData.withdrawProviders],((e,t)=>{const n=[];return e&&e.map((e=>"bank"===t[e].provider_type&&n.push(t[e]))),n}));var y=Object(j.b)((function(e){const{user:t}=e.modelData;return{withdraw_providers_list:O(e),user:t,current:e.form.current}}),(function(e){return{action:Object(f.bindActionCreators)(x.a,e)}}))(Object(v.a)(_));n(593),n(243);const N=Object(i.a)((()=>n.e(99).then(n.bind(null,619)))),k=Object(i.a)((()=>Promise.all([n.e(4),n.e(3),n.e(2),n.e(18),n.e(78)]).then(n.bind(null,618)))),S=Object(i.a)((()=>n.e(137).then(n.bind(null,726))));var C=e=>{const{siguiente:t,step:n,select_withdraw_way:i,withdraw_way:o,ticket:r,finalizar:l,eventName:p}=e;return Object(d.jsxs)("div",{className:"containerFormWallet",children:[1===n&&Object(d.jsx)(a.Fragment,{children:Object(d.jsx)(N,{title:"En esta cuenta deseas",subtitle:"efectuar los retiros por:",items:s.g,select_method:i,item_active:o,siguiente:t,withdraw:!0})}),n>=2&&"bankaccount"===o&&Object(d.jsx)(y,{eventName:p,...e}),n>=2&&"cash"===o&&Object(d.jsx)(S,{...e}),6===n&&Object(d.jsx)(a.Fragment,{children:r?Object(d.jsx)(k,{finishAction:l,wAccount:r,ticket_type:"withdraw_form"}):Object(d.jsx)(c.default,{label:"Creando Cuenta de retiro"})})]})},A=n(27),I=n(66);class F extends a.Component{constructor(){super(...arguments),this.state={name:this.props.user.name,surname:this.props.user.surname,bank_name:this.props.form_bank.bank_name,account_type:this.props.form_bank.account_type,account_number:this.props.form_bank.account_number,short_name:this.props.form_bank.short_name,id_type:null,statusInput:"",withdraw_way:"bankaccount",provider_type:"",id_number:"",city:"medellin",email:this.props.user.email,currency:null,ticket:null},this.update_control_form=e=>{switch((!e||this.props.search.length>1)&&this.props.action.UpdateFormControl("bank",!1),this.props.step){case 3:1===this.props.search.length&&this.props.action.UpdateFormControl("bank",!0);break;case 5:""!==this.state.account_type&&""!==this.state.account_number&&this.props.action.UpdateFormControl("bank",!0);break;default:console.log("")}},this.select_withdraw_way=async(e,t)=>{await this.setState({withdraw_way:t,provider_type:"bankaccount"===t?"bank":""}),this.update_form()},this.handleKeyPress=e=>{var t=window.event?window.event.keyCode:e.which;return t<48||t>57?(this.setState({statusInput:"Solo se aceptan n\xfameros en este campo"}),!0):(this.setState({statusInput:""}),/\d/.test(String.fromCharCode(t)))},this.handleSubmit=async e=>{e.preventDefault(),this.actualizarEstado(e),await this.siguiente()},this.final_step_create_account=async e=>{await this.handleSubmit(e),this.crearCuenta()},this.crearCuenta=async()=>{const{withdraw_accounts:e}=this.props;if(this.props.action.isAppLoading(!0),e){if(Object.values(e).filter((e=>e.info.bank_name===this.state.bank_name&&e.info.account_number===this.state.account_number)).length)return this.props.action.ReduceStep(this.props.current,2),this.props.toastMessage("La cuenta de retiro ya existe","error"),this.props.action.isAppLoading(!1)}let t=await this.props.coinsendaServices.addNewWithdrawAccount(this.state);return t?(await this.props.coinsendaServices.fetchWithdrawAccounts(),this.props.withdraw_flow?this.props.withdraw_flow_action(t):(await this.setState({ticket:t}),this.props.action.success_sound(),this.update_form(),this.props.action.isAppLoading(!1),void this.props.action.ModalView("modalSuccess"))):(this.props.action.ReduceStep(this.props.current,2),this.props.toastMessage("No es posible crear la cuenta ahora.","error"),this.props.action.isAppLoading(!1))},this.actualizarEstado=async e=>{e.persist&&e.persist(),e.target&&e.target.short_name&&this.setState({short_name:e.target.short_name});const t=e.target.name;let n=e.target.value;console.log("|||||||||||||||||||||||||||||||||||||||||||  actualizarEstado  ===>",e.target,this.state),window.requestAnimationFrame((()=>{let e=!1,a=50;if(t&&"id_number"===t)if(e=!0,"pasaporte"===this.state.id_type){if(n&&!/^[a-zA-Z0-9]{1,20}$/g.test(n))return}else if("nit"===this.state.id_type)a=11,n=n.replace(/(\d{9})(\d{1})/,"$1-$2");else if(n&&!/^[0-9]{1,12}$/g.test(n))return;t&&"account_number"===t&&(n=n.replace(/[^0-9]/g,""),e=!0,a=20),"nequi"===this.state.short_name&&(a=10),"bancolombia"===this.state.bank_name&&(a=11),e&&n.length>a&&(n=n.slice(0,a)),t&&this.setState({[t]:n}),this.update_control_form(n),this.update_form()}))},this.update_form=()=>{this.props.action.UpdateForm("bank",this.state)},this.siguiente=async()=>(1===this.props.step&&await this.cleanSearch(),this.props.action.IncreaseStep(this.props.current)),this.finalizar=e=>{this.props.action.CleanForm("bank"),this.props.action.CleanForm("withdraw")},this.cleanSearch=()=>{this.setState({bank_name:""}),this.props.action.UpdateFormControl("bank",!1),this.props.action.cleanSearch("bank")}}componentDidMount(){setTimeout((()=>{this.props.history.push("?form=wa_terms")}),100);const{withdraw_flow:e}=this.props;if(e)return this.props.action.CurrentForm("withdraw");this.props.action.CurrentForm("bank")}componentDidUpdate(e){if(e.step===this.props.step)return;let t;2===this.props.step&&(t="?form=wa_terms"),3===this.props.step&&(t="?form=wa_choose_bank"),4===this.props.step&&(t="?form=wa_enter_bank_details"),5===this.props.step&&(t="?form=wa_id_type"),6===this.props.step&&(t="?form=wa_opening_city"),7===this.props.step&&(t="?form=wa_success"),setTimeout((()=>{this.props.history.push(t)}),100)}render(){const{step:e,search:t,withdraw_flow:n,withdraw_flow_action:a,eventName:i="onkeyup"}=this.props;return Object(d.jsx)(C,{withdraw_flow:n,withdraw_flow_action:a,statusInput:this.state.statusInput,handleKeyPress:this.handleKeyPress,crearCuenta:this.crearCuenta,siguiente:this.siguiente,actualizarEstado:this.actualizarEstado,handleSubmit:this.handleSubmit,update_control_form:this.update_control_form,buttonActive:this.props.buttonActive,loader:this.props.loader,finalizar:this.finalizar,step:e,select_withdraw_way:this.select_withdraw_way,cleanSearch:this.cleanSearch,initPrevKeyActions:this.props.initPrevKeyActions,search:t,final_step_create_account:this.final_step_create_account,eventName:i,...this.state})}}const L=Object(w.a)([e=>e.modelData.user.withdrawProviders,e=>e.modelData.withdrawProviders],((e,t)=>e&&e.map((e=>t[e]))));t.default=Object(A.h)(Object(j.b)((function(e,t){const{withdraw_flow:n}=t,{user:a,withdraw_accounts:i}=e.modelData;return{search:e.form.search_bank,withdrawProviders:L(e),form_bank:e.form.form_bank,buttonActive:e.form.form_control_bank,loader:e.isLoading.loader,current:e.form.current,step:n?e.form.form_withdraw.step:e.form.form_bank.step,user:a,withdraw_accounts:i}}),(function(e){return{action:Object(f.bindActionCreators)(x.a,e)}}))(Object(I.a)(F)))},695:function(e,t,n){},696:function(e,t,n){},697:function(e,t,n){},698:function(e,t,n){},699:function(e,t,n){},731:function(e,t,n){"use strict";n.r(t);var a=n(2),i=n(9),c=n(19),s=n(24),o=(n(695),n(1));class r extends a.Component{constructor(){super(...arguments),this.state={behavior:this.props.behavior},this.update_view=e=>{this.setState({behavior:e}),setTimeout((()=>{this.props.action.FlowAnimationLayoutAction(""),this.setState({behavior:""})}),300)}}componentWillReceiveProps(e){let{behavior:t}=e;if(t===this.state.behavior)return!1;this.update_view(t)}componentWillUnmount(){this.props.action.FlowAnimationOff()}render(){const{children:e}=this.props,{behavior:t}=this.state;return Object(o.jsx)("section",{className:"FlowAnimationLayout ".concat(t),children:e})}}var d=Object(i.b)((function(e,t){return{behavior:e.ui.flowAnimationLayout}}),(function(e){return{action:Object(c.bindActionCreators)(s.a,e)}}))(r),l=n(591),p=n(4),u=n(592),h=n(30);n(696);class m extends a.Component{componentDidMount(){}render(){const{limit:e,orders:t}=this.props;return Object(o.jsxs)("section",{className:"LimitTermometer",children:[t>1&&Object(o.jsx)("div",{className:"flag",title:"Cantidad de ordenes",children:Object(o.jsxs)("div",{className:"contFlag",children:[Object(o.jsx)(h.default,{icon:"tag",size:35,color:"#ff1100"}),Object(o.jsx)("p",{className:"fuentePrin",children:t})]})}),Object(o.jsx)(j,{amount:e})]})}}var b=m;const j=e=>{const{amount:t}=e;return Object(o.jsx)("div",{className:"OLlimit",style:{height:"".concat(t>100?"100":t,"%")},children:Object(o.jsx)("div",{className:"OrderLimit"})})};var f=n(14),x=n(147),g=n(444);n(697);const w=Object(p.a)((()=>Promise.resolve().then(n.bind(null,30))));var v=function(e){const[t]=Object(a.useState)(0),[n,i]=Object(a.useState)(null);Object(a.useEffect)((()=>{c()}),[e]);const c=()=>{const{preferential_accounts:t,account:n}=e;if(!t)return!1;let a=t.find((e=>e===n.id));i(a)},{account:s,addElement:r,action:d,amount:l}=e,p=d||(()=>{const{account:t,amount:n}=e,{provider_max_amount:a}=t;let i=100*n/a,c=100*n/a>100,s={withdraw_provider:t.withdraw_provider,withdraw_account:t.id};e.new_withdraw_order(s,i,c)}),[h]=Object(g.b)({...e,uniqid:e.account&&e.account.id},{suprKeyAction:()=>!1,enterKeyAction:p},!1);let m=e.account&&e.account.currency_type;const j={icon:r?"add_account":s&&s.bank_name.value,size:50,color:"gray"};let v,_=!r&&(n===s.id&&"preferential"),O=parseFloat(l);s&&s.cost&&s.provider_min_amount&&(v=parseFloat(s.cost)+parseFloat(s.provider_min_amount));let y=O<v?"need_more":O>=v&&"satisfy";return Object(o.jsxs)("div",{onClick:"need_more"===y?()=>Object(f.mensaje)("Fondos insuficientes","error"):p,className:"AccountItemList ".concat(h&&"item-selected"," ").concat(_," ").concat(r?"addElement":"noAddElement"," ").concat(y),children:[Object(o.jsx)("div",{className:"backgroundAccount ".concat(y),children:Object(o.jsx)(x.f,{"aria-label":"itemFromList",name:"itemFromList",autoComplete:"off",id:e.focusedId})}),Object(o.jsx)("div",{className:"limitComp ".concat(y),style:{display:r?"none":"block"},children:Object(o.jsx)(b,{amount:t,max_amount:7,limit:r?null:s.percent,orders:r?null:s.orders})}),Object(o.jsx)("div",{className:"contLogoAIL",children:Object(o.jsxs)("div",{className:"logoAIL ".concat(r?"addElement":"noAddElement"," ").concat(y),children:[Object(o.jsx)("div",{className:"backLogoAil ".concat(m," ").concat(y)}),Object(o.jsx)(w,{...j})]})}),r?Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("p",{className:"AILadd fuente",children:"A\xf1ade una nueva cuenta de retiro"}),Object(o.jsx)("div",{className:"poisonEve",children:Object(o.jsx)(w,{icon:"withdraw2",size:60,color:"gray"})})]}):Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)("div",{className:"infoAIL",children:[Object(o.jsxs)("div",{className:"infoAILItem ".concat(_," ").concat(y),children:[_&&Object(o.jsx)(w,{icon:_&&_,size:18}),Object(o.jsxs)("p",{className:"infoAILItem name ".concat(_," ").concat(y),children:[s.bank_name.ui_name,s.cost?Object(o.jsxs)("span",{className:"costStyle fuente2  ".concat(y),children:["| $",Object(f.number_format)(s.cost)]}):""]})]}),Object(o.jsx)("p",{className:"infoAILItem account_type ".concat(y),children:"need_more"===y?"Fondos insuficientes":s.account_type.ui_name}),Object(o.jsxs)("div",{className:"AILAnumber",children:[Object(o.jsx)(w,{icon:"root",size:16,color:"#5999f1"}),Object(o.jsx)("span",{className:"infoAILItem account_number fuente2 ".concat(y),children:"need_more"===y?"Cantidad minima: $".concat(Object(f.number_format)(v)):"No.: ".concat(s.account_number.value)})]})]}),Object(o.jsx)("div",{className:"optionsALI ".concat(n," ").concat(y),children:Object(o.jsxs)("div",{className:"controlDespegable",children:[Object(o.jsx)("div",{className:"forroDesp ".concat(y),children:Object(o.jsx)("div",{className:"contDesp",children:Object(o.jsx)(w,{icon:"arrow_right",size:25,color:"".concat("need_more"===y?"#d42215":"#38ef7d")})})}),Object(o.jsx)("div",{className:"contActiveItem",children:Object(o.jsx)(u.a,{Anim2:!0,color:"".concat("need_more"===y?"red":"green")})})]})})]})]})},_=n(61),O=(n(698),n(40));const y=Object(O.a)((e=>e.modelData.withdraw_accounts),(e=>e.modelData.user),((e,t)=>t),((e,t,n)=>{const{currency_type:a,inherit_account_list:i}=n;let c=i;return c||t.withdraw_accounts.map((t=>!(e[t].currency_type!==a||!e[t].visible||"rejected"===e[t].state)&&c.push(e[t]))),c}));var N=Object(i.b)((function(e,t){return{withdraw_accounts:y(e,t)}}),(function(e){return{action:Object(c.bindActionCreators)(s.a,e)}}))((function(e){const[t,n]=Object(a.useState)(null),[i,c]=Object(a.useState)(),[s]=Object(g.a)({items:t,loader:!1,uniqueIdForElement:"withdrawAccountItem",modalRestriction:!1,next:40,prev:38,default:1,originalLength:!0});Object(a.useEffect)((()=>{d()}),[]);const r=e=>{let t=e/100,n=2;for(let a=0;a<n;a++){if(t<=1)return 1;if(t<=n)return n;n++}},d=async()=>{const{withdrawProviders:t,withdraw_accounts:a,amount:i}=e;if(!t&&!i)return!1;let s,o=await Object(f.withdrawProvidersByType)(t),d=await a.map((e=>{let t=o[e.provider_type].provider.max_amount,n=100*i/t;return{...e,orders:r(parseInt(n)),percent:parseInt(n),limit:parseFloat(i)>=parseFloat(o[e.provider_type].provider.max_amount)&&!0}})),l=[];if(await t.forEach((e=>{"bank"===e.provider_type&&(s=e)})),!s||!d)return this.state.minAmount;if(await d.forEach((e=>{var t;s.name.includes(null===e||void 0===e||null===(t=e.bank_name)||void 0===t?void 0:t.value)&&l.push(e)})),l.length>0){let e=[...l];await d.map((async t=>{await Object(f.matchItem)(l,{primary:t.id},"id")||e.push(t)}));let t=await l.map((e=>e.id));return n(e),void c(t)}n(d)};return Object(o.jsxs)("section",{className:"WithdrawAccountList",children:[Object(o.jsx)("div",{className:"seccionPrinWA",children:Object(o.jsx)(v,{setCurrentSelection:s,number:0,focusedId:"withdrawAccountItem".concat(0),action:()=>{const{withdraw_flow:t,new_account_method:n}=e;if(t)return n()},addElement:!0})}),Object(o.jsx)("div",{className:"listWA",children:t?t.map(((t,n)=>Object(o.jsx)(v,{setCurrentSelection:s,number:n+1,focusedId:"withdrawAccountItem".concat(n+1),amount:e.amount,account:t,new_withdraw_order:e.new_withdraw_order,preferential_accounts:i},t.id))):Object(o.jsx)(_.SimpleLoader,{})})]})})),k=n(621),S=n(89),C=n(618),A=n(565),I=n(66),F=(n(699),n(484));class L extends a.Component{constructor(){super(...arguments),this.state={amount:"",withdrawProviders:null,need_new_acount:null,show_list_accounts:!1,finish_step:!1,ticket:null,ticket_label_loader:"Creando orden de retiro",color_loader:"blue",new_order:null,addNotification:!1,min_amount:0,provider_type:"bank",withdraw_account_list_update:[],twoFaToken:null},this.updateTimes=0,this.init_config=()=>{const{currency_type:e,withdrawProviders:t,have_withdraw_accounts:n}=this.props;n||this.setState({need_new_acount:!0});let a=[];if(t&&t.map((t=>!(t.currency_type!==e||!t.enabled)&&a.push(t))),a.length<1)return!1;let i=[];"bank"===this.state.provider_type&&this.props.withdraw_account_list&&(i=this.get_cost_struct(a)),this.setState({withdraw_account_list_update:i}),this.setState({withdrawProviders:a,min_amount:parseInt(a[0].provider.min_amount)})},this.get_cost_struct=(e,t)=>{let n=Object(f.withdrawProvidersByType)(e||this.props.withdrawProviders),a=[],i=t||this.props.withdraw_account_list;return i&&i.map((e=>{var t,i;if("crypto"===e.currency_type)return!1;let c,s=e.provider_type;c=(null===(t=n[s])||void 0===t||null===(i=t.provider)||void 0===i?void 0:i.name.includes(e.provider_name))?"same_bank":"pp";let o={...e,cost_struct:n[s].provider.costs[c],cost:n[s].provider.costs[c]&&n[s].provider.costs[c].fixed};return a.push(o)})),a},this.new_account_and_withdraw=async e=>{console.log("=======> new_account",e);const{withdrawProviders:t,form_withdraw:n}=this.props;let a=await Object(f.withdrawProvidersByType)(t);const{provider_type:i}=e,{amount:c}=n,{min_amount:s}=this.state;let o=await this.props.coinsendaServices.fetchWithdrawAccounts(),r=this.get_cost_struct(null,o);this.setState({withdraw_account_list_update:r});let d=await Object(f.matchItem)(r,{primary:e.id},"id");console.log("=======> new account_update",d);let l=parseFloat(s)+parseFloat(d[0].cost);if(parseFloat(c)<l)return setTimeout((async()=>{this.props.action.addNotification("withdraw_accounts",{account_id:e.id},1),this.props.toastMessage("Nueva cuenta de retiro creada","success"),this.props.action.CleanForm("bank")}),500),await this.setState({show_list_accounts:!1,need_new_acount:null}),await this.volver(1),await this.props.action.isAppLoading(!1),this.props.toastMessage("Minimo de retiro por esta cuenta es de: $".concat(Object(f.number_format)(l)),"error");await this.setState({addNotification:!0}),await this.new_withdraw_order({withdraw_account:e.id,withdraw_provider:a[i].id})},this.setTowFaToken=async e=>{this.setState({twoFaToken:e}),this.props.action.renderModal(null);const{state_data:t,limit:n,limit_supered:a}=this.state;this.new_withdraw_order(t,n,a)},this.new_withdraw_order=async(e,t,n)=>{if(this.props.user.security_center.authenticator.withdraw&&!this.state.twoFaToken)return this.setState({state_data:e,limit:t,limit_supered:n}),this.props.action.renderModal((()=>Object(o.jsx)(A.a,{cancelAction:()=>this.close2FaModal(),isWithdraw2fa:!0,callback:this.setTowFaToken})));this.props.action.isAppLoading(!0),await this.setState({finish_step:!n,limit_supered_component:!!n,need_new_acount:!1}),this.props.action.FlowAnimationLayoutAction("nextV","next","withdraw");const{withdraw_account:a,withdraw_provider:i}=e,{amount:c}=this.props.form_withdraw,{account_id:s}=this.props;await this.props.action.UpdateForm("withdraw",{withdraw_account:a,withdraw_provider:i});let r=await this.props.coinsendaServices.addWithdrawOrder({data:{amount:c,account_id:s,withdraw_provider_id:i,withdraw_account_id:a,country:this.props.user.country}},this.state.twoFaToken);if(!r)return this.setState({finish_step:!1,limit_supered_component:!1,need_new_acount:!0,twoFaToken:null}),this.props.action.FlowAnimationLayoutAction("backV","back","withdraw",1),this.props.action.isAppLoading(!1),this.handleError("La orden no ha podido ser creada");const{data:d}=r;return this.setState({new_order:d}),this.props.action.isAppLoading(!1),this.create_order(r)},this.new_acount=async()=>{await this.setState({need_new_acount:!0,finish_step:!1}),this.siguiente()},this.updateFormDebounced=Object(f.debounce)(this.props.action.UpdateForm,100),this.updateAmountOnState=e=>{this.setState({amount:e},(()=>{this.updateFormDebounced("withdraw",{amount:e})}))},this.create_order=async e=>{let{data:t}=e;this.props.action.success_sound(),await this.props.action.ModalView("modalSuccess"),this.setState({ticket:t})},this.confirmar=async()=>{await this.setState({ticket:null,color_loader:"white",ticket_label_loader:"Confirmando orden de retiro"});let e=await this.props.coinsendaServices.addUpdateWithdraw(this.state.new_order.id,"confirmed");if(!e||465===e)return this.setState({finish_step:!1,limit_supered_component:!1,need_new_acount:!0}),this.props.action.ModalView("modalView"),this.props.action.FlowAnimationLayoutAction("backV","back","withdraw",1),this.props.action.isAppLoading(!1),this.handleError("La orden no ha podido ser confirmada");const{new_order:t}=this.state;await this.props.action.toggleModal(),this.props.action.CleanForm("deposit"),this.props.action.CleanForm("withdraw"),this.props.action.CleanForm("bank"),this.state.addNotification&&setTimeout((async()=>{this.props.action.addNotification("withdraw_accounts",{account_id:t.withdraw_account_id},1),this.props.toastMessage("Nueva cuenta de retiro creada","success"),await this.setState({addNotification:!1})}),2e3),setTimeout((async()=>{await this.props.coinsendaServices.manageBalance(this.props.account_id,"reduce",t.amount)}),1e3)},this.handleError=e=>this.props.toastMessage(e,"error"),this.siguiente=e=>{const{step:t}=this.props,{need_new_acount:n}=this.state;return 1!==t||n?this.props.action.FlowAnimationLayoutAction("nextV","next","withdraw"):this.setState({show_list_accounts:!0})},this.volver=e=>this.props.action.FlowAnimationLayoutAction("backV","back","withdraw",e),this.backAmount=()=>this.setState({show_list_accounts:!1,need_new_acount:!1}),this.cancelWithdrawOrder=async()=>{await this.props.action.ModalView("modalView"),this.setState({ticket_label_loader:"Cancelando orden",ticket:null}),this.props.action.isAppLoading(!0),await this.volver(1),this.props.action.isAppLoading(!1),this.setState({ticket_label_loader:"Creando orden de retiro",show_list_accounts:!0})}}componentDidMount(){this.props.action.CurrentForm("withdraw"),this.init_config(),this.props.history.push("?form=withdraw_amount")}componentWillUnmount(){this.props.history.push(window.location.pathname)}componentDidUpdate(e){let t;if(1===e.step&&this.state.show_list_accounts&&this.updateTimes<1)return t="?form=withdraw_select_account",this.updateTimes++,this.props.history.push(t);1===e.step&&!this.state.show_list_accounts&&this.updateTimes>0&&(t="?form=withdraw_amount",this.updateTimes--,this.props.history.push(t)),e.step!==this.props.step&&(this.props.step>=2&&(this.updateTimes--,t="?form=withdraw_order_created"),this.props.history.push(t))}close2FaModal(){this.state.need_new_acount&&(this.setState({need_new_acount:!1,show_list_accounts:!0}),this.props.action.isAppLoading(!1),this.volver(1))}render(){const{currency:e,available:t,step:n,idAccept:i,withdraw_order:{withdraw_account:c}}=this.props,{amount:s,withdrawProviders:r,need_new_acount:p,show_list_accounts:u,finish_step:h,ticket:m,ticket_label_loader:b,color_loader:j,min_amount:f,withdraw_account_list_update:x}=this.state;return Object(o.jsx)("section",{className:"WFC DepositLayout",children:Object(o.jsxs)(d,{children:[1===n&&!u&&Object(o.jsx)(l.a,{currency:e,mainCtaId:i,amount:s,updateAmountOnState:this.updateAmountOnState,operation_type:"withdraw",available:t,handleSubmit:this.siguiente,min_amount:f,...this.props}),1===n&&u&&(r?Object(o.jsxs)("div",{className:"WA",children:[Object(o.jsx)(S.c,{color:"gray",volver:this.backAmount,children:window.innerWidth>768&&"volver"}),Object(o.jsx)("div",{className:"DLcontain",children:Object(o.jsx)("p",{className:"fuente DLtitle2",children:"Elige la cuenta donde recibir\xe1s tu retiro"})}),Object(o.jsx)(N,{currency_type:"fiat",withdraw_flow:!0,new_withdraw_order:this.new_withdraw_order,new_account_method:this.new_acount,back:this.volver,amount:s,withdrawProviders:r,inherit_account_list:x})]}):Object(o.jsx)(_.SimpleLoader,{label:"Cargando"})),n>=2&&p&&!h&&Object(o.jsx)(k.default,{withdraw_flow:!0,eventName:"onkeydown",initPrevKeyActions:()=>this.keyActions(),withdraw_flow_action:this.new_account_and_withdraw,toastMessage:this.props.toastMessage}),n>=2&&!p&&h&&Object(o.jsx)(a.Fragment,{children:m?Object(o.jsx)(C.default,{finishAction:this.confirmar,wAccount:c,order:m,title:"Retiro creado exitosamente",cta_primary_label:"Confirmar",cta_secondary:!0,cta_secondary_label:"Cancelar",cta_secondary_action:this.cancelWithdrawOrder}):Object(o.jsx)(_.SimpleLoader,{label:b,color:j})})]})})}}const z=Object(O.a)([e=>e.modelData.user.withdrawProviders,e=>e.modelData.withdrawProviders],((e,t)=>e?e.map((e=>t[e])):[])),D=Object(O.a)([e=>e.modelData.user.withdraw_accounts,e=>e.modelData.withdraw_accounts],((e,t)=>{const n=[];return e&&e.map((e=>!("fiat"!==t[e].currency_type||!t[e].visible||"rejected"===t[e].state)&&n.push(t[e]))),{withdraw_account_list:n.length>0&&n,have_withdraw_accounts:n.length>0}}));t.default=Object(i.b)((function(e,t){const{params:n}=t.match,{withdraw_accounts:a,user:i,withdrawProviders:c,wallets:s,withdraws:o,balances:r}=e.modelData,d=s[n.account_id],{withdraw_provider:l,withdraw_account:p}=e.form.form_withdraw;return{withdraw_order:{account_from:s[n.account_id],withdraw_account:p&&a[p],withdraw_provider:l&&c[l]},account_id:n.account_id,withdraws:o,currency_type:d&&d.currency_type,user:i,country:i.country,currency:d&&d.currency.currency,available:d&&r&&r[d.id].available,current:e.form.current,step:e.form.form_withdraw.step,form_withdraw:e.form.form_withdraw,withdrawProviders:z(e),wallets:s,...D(e)}}),(function(e){return{action:Object(c.bindActionCreators)(s.a,e)}}))(Object(I.a)(Object(F.a)(L)))}}]);
//# sourceMappingURL=73.fbb703af.chunk.js.map