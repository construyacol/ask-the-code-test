(this["webpackJsonpcoinsenda-app"]=this["webpackJsonpcoinsenda-app"]||[]).push([[30,14,38,52,54],{339:function(t,e,n){"use strict";n.d(e,"c",(function(){return u})),n.d(e,"d",(function(){return h})),n.d(e,"b",(function(){return m})),n.d(e,"e",(function(){return j})),n.d(e,"a",(function(){return f}));var a=n(2),i=n(53),s=n(11),c=n(332),r=n(15),o=n(331),d=(n(352),n(14));const l=Object(i.a)((()=>Promise.resolve().then(n.bind(null,330)))),{CountryUrl:p}=(Object(i.a)((()=>n.e(25).then(n.bind(null,368)))),r.a),u=t=>{const{clase:e,disabled:n,address:a,focusAction:i,status:s,addressVerify:c,unFocusAction:r,state_item:o,autoFocus:p}=t;return Object(d.jsxs)("div",{className:"".concat(e||"containerInputComponent"),children:[Object(d.jsx)("p",{className:"labelText fuente",style:{display:t.label?"initial":"none"},children:t.label}),Object(d.jsxs)("div",{className:"inputContainer ".concat(t.active?"inputActivado":""," ").concat(o),children:[Object(d.jsx)("input",{className:"inputElement ".concat(t.active?"inputActivado":""," ").concat(c),type:t.type,placeholder:t.placeholder,onChange:t.actualizarEstado,onFocus:i,onBlur:r,name:t.name,value:t.value,onKeyPress:"account_number"===t.name?t.handleKeyPress:null,disabled:n,autoFocus:p,autoComplete:"off"}),a&&Object(d.jsx)("div",{className:"contIconAddress",children:Object(d.jsx)(l,{icon:"Verify"===c?"verify":"wallet",color:"Verify"===c?"#4caf50":"gray",size:25})})]}),("number"===t.type||"password"===t.type)&&Object(d.jsx)("p",{className:"statusInput",children:s})]})},h=t=>{const{clase:e,label:n,active:a,type:i,placeholder:s,actualizarEstado:r,name:o,value:l,handleKeyPress:p,status:u,verifying:h,error:m,handleFocus:b,handleBlur:j,disabled:f}=t;return Object(d.jsxs)("div",{className:"".concat(e||"containerInputComponent AuthInputComp"),children:[Object(d.jsx)("p",{className:"labelText fuente",style:{display:n?"initial":"none"},children:n}),Object(d.jsx)("div",{className:"inputContainer inputAuths",style:{border:h&&!a?"1px solid #039aff":a?"1px solid #59b200":m?"1px solid red":"1px solid #50667a61"},children:h?Object(d.jsx)("div",{className:"AuthLoader",children:Object(d.jsx)(c.SimpleLoader,{})}):Object(d.jsx)("input",{className:"inputElement TwoFactorTypo fuente2",style:{color:a?"#59b200":"gray"},type:i,placeholder:s,onChange:r,name:o,defaultValue:l,onKeyPress:"account_number"===o?p:null,onFocus:b||null,onBlur:j||null,disabled:f,autoFocus:!0})}),Object(d.jsxs)("p",{className:"statusInput fuente",style:{color:h&&!a?"#039aff":a?"#59b200":m?"red":"#50667a61"},children:[Object(d.jsx)("i",{className:"fas fa-check",style:{display:a?"initial":"none"}}),u]})]})};a.Component;class m extends a.Component{constructor(){super(...arguments),this.state={placeHolder:window.innerWidth>768?"Escribe la cantidad":"Cantidad",finalValue:""}}componentDidMount(){this.setState({finalValue:this.state.placeHolder})}componentWillReceiveProps(t){const{value:e}=t;e?this.setState({finalValue:Object(s.number_format)(e)}):this.setState({finalValue:this.state.placeHolder})}render(){const{actualizar:t,handleKeyPress:e,value:n,name:a,autoFocus:i}=this.props,{finalValue:s}=this.state,c={fontSize:s.length<10?"90px":s.length<15?"60px":"40px"};return Object(d.jsx)("div",{className:"containerInputComponent with-adapt",children:Object(d.jsx)("input",{className:"inputElement2 signoPesos fuente2 width-adapt-child",type:"text",style:c,placeholder:"$ ".concat(s),onChange:t,name:a,autoFocus:i,value:n?"$ ".concat(s):"",onKeyPress:e})})}}const b=t=>{const{toggleSection:e,search_result:n,open:a,update:i,clean_search_result:s,autoFocus:c}=t;return Object(d.jsxs)("div",{className:"PhoneamEsta ".concat(a?"openS":""),onClick:a?null:e,children:[Object(d.jsxs)("div",{className:"inputPhone",children:[n&&Object(d.jsx)("img",{src:"".concat(p).concat(n.flag),alt:"",className:"PhoneamEsta_img",width:20,height:20}),Object(d.jsxs)("p",{className:"fuentePrin PhoneamEsta_p",children:["+ ",n?n.prefix[0]:"--"]}),Object(d.jsx)("div",{className:"inputComponentPhone ".concat(a?"openS":""," ").concat(n?"search_result":""),children:n?Object(d.jsxs)("p",{className:"search_result_kyc ".concat(a?"openS":""),children:[n.name,Object(d.jsx)("i",{className:"fas fa-times cerratelo",onClick:s})]}):Object(d.jsx)("input",{type:"text",className:"inputElement3",autoFocus:c,placeholder:"Escribe el pa\xeds del indicativo.",onChange:i,name:"country_prefix"})})]}),Object(d.jsx)("i",{className:"fas fa-chevron-down PhoneamEsta_icon ".concat(a?"anim":""),onClick:e}),Object(d.jsx)("span",{className:"linePhone"})]})},j=t=>{const{kyc:e,update:n,handleSubmit:a,state:i,step:s,toggleSection:c,_onFocus:r,search_results:o,clean_search_result:l}=t;let p=Array.isArray(o)&&o[0];return Object(d.jsxs)("div",{id:"kycPrime",className:"containerInputComponent2 ".concat(i.open_sect?"openS":""),children:[Object(d.jsx)("div",{className:"inputLabelsCont",children:Object(d.jsx)("div",{className:"InputCarous",style:{top:"-".concat(40*(s-1),"px")},children:e.map((t=>Object(d.jsx)("p",{className:"labelText2 fuente",children:t.label},t.id)))})}),Object(d.jsxs)("div",{className:"inputContainer3 ".concat(i.active?"inputActivado":""),children:[e.map((e=>{let c={};"date"===i.ui_type&&(console.log("|||||||||||| isDateInput ====> ",i),c={min:"1940-01-01",max:"2003-12-12",pattern:/\d{4}-\d{2}-\d{2}/,autoFocus:!0});const o="inputElement3 ".concat(i.active?"inputActivado":""," ").concat("phone"===i.ui_type?"phone":"");return s===e.id&&Object(d.jsxs)("form",{onSubmit:a,id:"".concat("phone"===i.ui_type?"phone":""),children:["phone"===i.ui_type&&Object(d.jsx)(b,{open:i.open_sect,autoFocus:!0,search_result:p,...t}),p&&"select"===i.ui_type?Object(d.jsxs)("p",{className:"search_result_kyc openS",children:[p.name,Object(d.jsx)("i",{className:"fas fa-times cerratelo",onClick:l})]}):Object(d.jsx)("input",{autoFocus:!0,className:o,type:"phone"===i.ui_type||"select"===i.ui_type?"text":i.ui_type,placeholder:i.data_state[e.name]?i.data_state[e.name]:e.placeholder,onChange:n,name:e.name,value:i.data_state[e.name],onFocus:r,...c},e.id)]},e.id)})),Object(d.jsx)("div",{className:"InputProgressBar",children:Object(d.jsx)("div",{className:"InputProgressed",style:{width:s<2?0:"".concat(100*s/e.length,"%")}})}),Object(d.jsx)("div",{className:"ctaInputKyc ".concat(i.open_sect?"openPhone":""),onClick:i.open_sect?c:a,children:Object(d.jsxs)("div",{className:"contCtaKyc",children:[Object(d.jsx)("i",{className:"fas fa-arrow-right arrowcito backInputKyc"}),Object(d.jsx)("i",{className:" ".concat("phone"===i.ui_type?"fas fa-mobile-alt":"fas fa-check"," frontInputKyc")})]})})]}),Object(d.jsxs)("div",{className:"InputContainerT",children:[Object(d.jsx)("p",{className:"fuente Inputmsg",style:{color:"".concat(i.colorMessage)},children:i.message}),Object(d.jsxs)("p",{className:"fuente2 InputStep",children:[s,"/",e.length]})]})]})},f=t=>{const{handleSubmit:e,update_country:n,country_match:a,reset_data:i,disabled:s,active:r,loader:p}=t,u=Object(o.a)(!0,"id-next-subfix-button",13,!1,"onkeydown");return Object(d.jsxs)("div",{id:"kycPrime",className:"containerInputComponent3",children:[Object(d.jsx)("div",{className:"inputLabelsCont",children:Object(d.jsx)("div",{className:"InputCarous",children:Object(d.jsx)("p",{className:"labelText3 fuente ",children:"Elige el pa\xeds desde el que operar\xe1s"})})}),Object(d.jsxs)("div",{className:"inputContainer3 ".concat(r?"inputActivado":""),children:[p&&Object(d.jsx)("div",{className:"inputCountryLoader",children:Object(d.jsx)(c.SimpleLoader,{loader:2})}),a?Object(d.jsxs)("div",{className:"country_selected",children:[Object(d.jsx)(l,{icon:a.value,size:25}),Object(d.jsx)("p",{className:"fuente",children:a.ui_name}),Object(d.jsx)("i",{className:"fas fa-times cerratelo",onClick:i})]}):Object(d.jsx)("form",{onSubmit:e,children:Object(d.jsx)("input",{className:"inputElement3 ".concat(r?"inputActivado":""),type:"text",placeholder:"Ej: Colombia",onChange:n,name:"country",disabled:s})}),Object(d.jsx)("div",{className:"InputProgressBar countryppp",children:Object(d.jsx)("div",{className:"InputProgressed",style:{width:a?"100%":"0"}})}),Object(d.jsx)("i",{id:u,className:"fas fa-arrow-right arrowcito2 ".concat(a?"aparecer":""),onClick:a?e:null})]}),Object(d.jsx)("div",{className:"InputContainerT"})]})};e.f=u},341:function(t,e,n){"use strict";n.d(e,"a",(function(){return c})),n.d(e,"b",(function(){return r}));var a=n(2),i=n(98);const s={modalRestriction:!0,prev:37,next:39,default:0,originalLength:!1};function c(t){const e={...s,...t},{modalRestriction:n,uniqueIdForElement:c,loader:r,items:o}=e,[d,l]=Object(a.useState)(-1);let p=n&&Object(i.d)((t=>t.form.isModalVisible)),u=n&&Object(i.d)((t=>t.ui.modal.render));Object(a.useEffect)((()=>{if(o&&o.length>0&&!r){if(p)return;const t=document.getElementById("".concat(c).concat(e.default));t&&t.focus()}}),[o,r]),Object(a.useEffect)((()=>{n&&(u||p)&&l(-1)}),[u,p]),Object(a.useEffect)((()=>window.innerWidth<900?(window.KEY_CODES_META=null,window.onkeydown=null,window.onkeyup=null,window.onkeypress=null,()=>null):(window.onkeydown=t=>{if(!u&&!p&&o&&o.length>0){if(p)return;const n=e.originalLength?o.length:o.length-1,a=d<0;let i=0,s=null;t.keyCode===e.prev&&(i=a?n:d-1,s=document.getElementById("".concat(c).concat(Math.max(0,i)))),t.keyCode===e.next&&(i=a?0:d+1,s=document.getElementById("".concat(c).concat(Math.min(n,i)))),13===t.keyCode&&(i=a?0:d,s=document.getElementById("".concat(c).concat(Math.min(n,i)))),s&&s.focus()}},()=>{window.onkeydown=!1})),[window.onkeydown,p,o,r,u,d]);return[t=>{d!==t&&l(t)}]}function r(t,e){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const{suprKeyAction:s,enterKeyAction:c}=e,[r,o]=Object(a.useState)(!1),d=n&&Object(i.d)((t=>t.form.isModalVisible)),l=n&&Object(i.d)((t=>t.ui.modal.render));Object(a.useEffect)((()=>{if(window.innerWidth<900)return window.KEY_CODES_META=null,window.onkeydown=null,window.onkeyup=null,window.onkeypress=null,()=>null;{const e=document.getElementById(t.focusedId);e&&(e.onfocus=()=>{o(!0),t.setCurrentSelection(t.number)},e.onblur=()=>{o(!1)},e.onkeydown=t=>{e.blur(),d||l||(46===t.keyCode&&(t.stopPropagation(),s((()=>e.focus()))),13===t.keyCode&&(c(),t.stopPropagation(),t.preventDefault()))})}}),[d,t.uniqid]);const p=()=>{const e=document.getElementById(t.focusedId);e&&e.focus()};return[r,p]}},352:function(t,e,n){},355:function(t,e,n){"use strict";var a,i,s,c,r,o,d,l,p=n(327),u=n(2),h=n(328),m=n(343),b=n(342),j=n(356),f=n(381),x=n(1),g=n(344),w=n.n(g),_=(n(349),n(14));w.a.locale("es");e.a=t=>{let{order:e,title:n,TitleSuffix:a,theme:i}=t;const[s,c]=Object(u.useState)([]),{deposit_providers:r,tx_path:o}=Object(b.a)(),[,d]=Object(j.a)(),l=async t=>{switch(console.log(t,o),t[0]){case"to_spend_currency":return["Moneda gastada:",t[1].currency];case"to_buy_currency":return["Moneda adquirida:",t[1].currency];case"currency":return["Divisa:",t[1].currency];case"spent":return["Cantidad gastada:",await d(e.spent,e.to_spend_currency)];case"bought":return["Cantidad adquirida:",await d(e.bought,e.to_buy_currency)];case"state":return["Estado:",Object(f.getState)(t[1])];case"price_percent":return["Comisi\xf3n:",t[1]];case"id":return["N\xfamero de orden:",t[1]];case"created_at":return["Creado en:",w()(t[1]).format("LL")];case"updated_at":return["Actualizado en:",w()(t[1]).format("LL")];case"expiration_date":return["Expira en:",w()(t[1]).format("LL")];case"amount":return["Cantidad:",await d(e.amount,e.currency)];case"confirmations":return["Confirmations:",e.confirmations];case"cost":return["Costo ".concat("withdraws"===o?"retiro":"dep\xf3sito",":"),e.cost];case"sent":return["Operaci\xf3n:",t[1]?"Debitado":"-- Sin debitar --"];case"referral":case"amount_neto":case"to_buy_symbol":case"to_spend_symbol":case"need_referral_process":case"referrer_payment_info":case"fee":case"tax":case"withdraw_provider":case"withdraw_account":case"metadata":case"withdraw_account_id":case"withdraw_provider_id":case"account_to":case"account_from":case"type":case"pair_id":case"taged":case"action_price":case"country":case"userId":case"user":case"cost_struct":case"fee_struct":case"info":case"tax_struct":case"account_id":case"locked":case"currency_type":case"cost_id":case"deposit_provider_id":case"type_order":case"activeTrade":case"paymentProof":case"withdraw_proof":case"requestedFundsOrigin":case"proof":case"comment":case"provider_type":case"visible":case"inscribed":case"inscriptions":case"used_counter":return;default:return t}};return Object(u.useEffect)((()=>{if(!e)return;(async()=>{if(("pending"===e.state||"confirmed"===e.state)&&"deposits"===o)return await(async t=>{switch(t.currency_type){case"fiat":let e=[];if(r&&r[t.deposit_provider_id]){const n=r[t.deposit_provider_id];e=[["Entidad de dep\xf3sito:","".concat(n.depositAccount.ui_name)],["".concat(n.depositAccount.account.type.ui_name),"".concat(n.depositAccount.account.type.type)],["".concat(n.depositAccount.account.account_id.ui_name),"".concat(n.depositAccount.account.account_id.account_id)],["".concat(n.depositAccount.account.bussines_name.ui_name),"".concat(n.depositAccount.account.bussines_name.bussines_name)],["".concat(n.depositAccount.account.nit.ui_name),"".concat(n.depositAccount.account.nit.nit)]]}const n=await d(t.amount,t.currency);c([...e,["Cantidad acreditada:","~ $".concat(n)],["Total a depositar:","~ $".concat(n)]]);break;case"crypto":c([["N\xfamero de orden:",t.id],["Estado:",Object(f.getState)(t.state)],["Divisa:","".concat(t.currency.currency)],["Orden creada en:",w()(t.created_at).format("LL")],["Confirmaciones:",t.confirmations],["Cantidad acreditada:",await d(t.amount,t.currency)],["Costo de operaci\xf3n:",t.cost],["Total dep\xf3sito:",await d(t.amount_neto,t.currency)]])}})(e);const t=[];for(let n of Object.entries(e)){const e=await l(n);e&&t.push(e)}c(t)})()}),[r]),Object(_.jsxs)(A,{className:"".concat(n?"withTitle":""," ").concat(i),children:[n&&Object(_.jsxs)(y,{className:"".concat(a?"titleSuffix":""," ").concat(e.state),children:[Object(_.jsx)(v,{className:"fuente",children:n}),a&&Object(_.jsx)(a,{})]}),s&&s.length?s.map(((t,n)=>Object(_.jsxs)(C,{className:"".concat(s.length===n+1&&e.state&&"deposits"===o&&e.state),children:[Object(_.jsx)(N,{className:"fuente",children:t[0]}),Object(_.jsx)(S,{}),Object(_.jsx)(k,{className:"fuente2",children:t[1]})]},n))):new Array(10).fill("1").map(((t,e)=>Object(_.jsxs)(C,{className:"skeleton",children:[Object(_.jsx)(N,{children:"skeleton --"}),Object(_.jsx)(S,{}),Object(_.jsx)(k,{children:"skeleton -------- "})]},e)))]})};const O=h.b.p(a||(a=Object(p.a)(["\n  width: auto;\n  margin: 0;\n  font-size: 14px;\n"]))),y=h.b.div(i||(i=Object(p.a)(["\n  display: flex;\n  &.titleSuffix {\n    justify-content: space-between;\n  }\n  &.pending p {\n    color: #ff8660;\n  }\n  &.confirmed p {\n    color: #1cb179;\n  }\n"]))),v=Object(h.b)(O)(s||(s=Object(p.a)(["\n  font-size: 17px;\n  font-weight: bold;\n"]))),k=Object(h.b)(O)(c||(c=Object(p.a)(["\n  text-align: right;\n  padding-left: 15px;\n  text-transform: capitalize;\n  white-space: nowrap;\n  max-width: 350px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n"]))),N=Object(h.b)(O)(r||(r=Object(p.a)(["\n  text-align: left;\n  padding-right: 15px;\n  font-weight: bold;\n"]))),S=h.b.span(o||(o=Object(p.a)(["\n  border-bottom: 1px dotted;\n  opacity: 0.15;\n"]))),C=h.b.div(d||(d=Object(p.a)(["\n  width: 100%;\n  height: 20px;\n  display: grid;\n  grid-template-columns: auto 1fr auto;\n\n  &.skeleton {\n    ","\n    ",", "," {\n      background: gray;\n      height: 16px;\n      border-radius: 3px;\n      opacity: 0.5;\n    }\n  }\n\n  &.pending,\n  &.confirmed {\n    height: 50px;\n    margin-top: 10px;\n    border-top: 1px solid #bfbfbf;\n    align-items: center;\n    ",", "," {\n      font-size: 18px;\n      color: #383838;\n    }\n    "," {\n      font-size: 20px;\n      font-weight: bold;\n    }\n  }\n"])),m.a,k,N,k,N,k),A=h.b.section(l||(l=Object(p.a)(["\n  width: calc(100% - 70px);\n  height: calc(100% - 50px);\n  display: grid;\n  grid-template-rows: repeat(auto-fill, 20px);\n  row-gap: 7px;\n  padding: 25px 35px;\n\n  @media "," {\n    padding: 25px 20px;\n    width: calc(100% - 40px);\n  }\n\n  &.withTitle {\n    height: calc(100% - 95px);\n    padding-top: 70px;\n    grid-template-rows: 70px repeat(auto-fill, 20px);\n  }\n\n  ",", "," {\n    color: gray;\n  }\n\n  &.darkTheme {\n    p {\n      color: white;\n    }\n  }\n"])),x.W.tablet,O,S)},361:function(t,e,n){},362:function(t,e,n){},363:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));n(2);var a=n(331),i=n(14);function s(t){return function(e){const n=Object(a.a)(!0,"cancel-button-".concat(e.eventName),8,!0,e.eventName,!0),s=Object(a.a)(!0,"accept-button-".concat(e.eventName),13,!1,e.eventName,!0);return Object(i.jsx)(t,{idCancel:n,idAccept:s,...e})}}},364:function(t,e,n){"use strict";var a=n(2),i=n(339),s=n(333),c=n(370),r=(n(361),n(14));e.a=t=>{var e;const[n,o]=Object(a.useState)(),[d,l]=Object(a.useState)(),[p,u]=Object(a.useState)(),[h,m]=Object(a.useState)(),[b,j]=Object(a.useState)(),[f,x]=Object(a.useState)(),[g,w,_]=Object(s.a)();Object(a.useEffect)((()=>{Object(c.b)(w.modelData)}),[null===w||void 0===w||null===(e=w.modelData)||void 0===e?void 0:e.user]);const O=e=>{setTimeout((()=>{t.toggle_anim&&t.toggle_anim(),x(t.toggle_anim&&!0)}),1200),setTimeout((()=>{t.authenticated&&t.authenticated(e)}),1500)},{label:y,handleFocus:v,handleBlur:k,disabled:N}=t;return Object(r.jsx)("div",{id:"authReq",className:"".concat(f?"desaparece":""),children:Object(r.jsx)(i.d,{disabled:N,type:"number",label:y,placeholder:"CODIGO 2FA",name:"auth",actualizarEstado:async e=>{const{value:n}=e.target;if(n.length>5){if(l(!0),o(!1),u("Verificando..."),t.isWithdraw2fa)return O(n);let e;return _.isAppLoading(!0),e=t.isTryToDisable2fa?await g.disableTransactionSecutiry("2fa",n):await g.addNewTransactionSecurity("2fa",n),_.isAppLoading(!1),e?((t,e)=>(o(!0),u("Verificado con \xc9xito"),m(!1),l(!1),j(t),O(e)))(n,e):(u("El c\xf3digo de verificaci\xf3n es incorrecto"),m(!0),l(!1))}u(""),o(!1),l(!1),m(!1)},active:n,verifying:d,value:b,status:p,error:h,handleFocus:v,handleBlur:k})})}},377:function(t,e,n){},378:function(t,e,n){},380:function(t){t.exports=JSON.parse('{"deposits":{"created":{"completed":false,"ui_text":"Dep\xf3sito creado"},"pending":{"completed":false,"ui_text":{"crypto":"Dep\xf3sito agregado en blockchain","fiat":"Confirmando dep\xf3sito"}},"confirmed":{"completed":false,"ui_text":{"crypto":"Confirmando en blockchain","fiat":"Aceptando prueba de dep\xf3sito"}},"accepted":{"completed":false,"ui_text":"Dep\xf3sito aceptado"}},"withdraws":{"created":{"completed":false,"ui_text":"Retiro creado"},"pending":{"completed":false,"ui_text":{"crypto":"Retiro procesado en coinsenda","fiat":"Confirmando retiro"}},"confirmed":{"completed":false,"ui_text":{"crypto":"Creando transacci\xf3n en blockchain","fiat":"Procesando orden de retiro"}},"accepted":{"completed":false,"ui_text":"Retiro aceptado"}},"orderStatus":{"deposits":{"pending":{"fiat":{"title":"Orden pendiente de confirmaci\xf3n","description":"Sube una fotograf\xeda o captura del comprobante de pago para continuar..."}},"confirmed":{"fiat":{"title":"Tu dep\xf3sito est\xe1 en revisi\xf3n","description":"Estamos verificando el comprobante de pago..."},"crypto":{"title":"Tu dep\xf3sito est\xe1 siendo confirmado","description":"Alcanzando 6 confirmaciones en blockchain tu saldo ser\xe1 acreditado en coinsenda..."}}},"withdraws":{"pending":{"fiat":{"title":"--","description":"--"}},"confirmed":{"fiat":{"title":"Estamos procesando tu retiro.","description":"Pronto podr\xe1s disponer de tu dinero..."},"crypto":{"title":"Tu retiro est\xe1 siendo procesado","description":"Blockchain est\xe1 generando el TxId de tu retiro..."}}}}}')},381:function(t,e,n){"use strict";n.r(e),n.d(e,"getState",(function(){return He})),n.d(e,"Layout",(function(){return ln}));var a=n(327),i=n(2),s=n.n(i),c=n(350),r=n(328),o=n(353),d=n(1),l=n(330),p=n(340),u=n(355),h=n(356),m=n(342),b=n(345),j=n(334),f=n(98),x=n(27),g=n(99),w=n(407),_=(n(377),n(14));function O(t){let{...e}=t;return Object(_.jsx)("input",{type:"range",...e})}var y=n(387);function v(t){let{image:e,onCropComplete:n}=t;const[a,s]=Object(i.useState)({x:0,y:0}),[c,r]=Object(i.useState)(1),[o,d]=Object(i.useState)(360);return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("div",{className:"crop-container",children:Object(_.jsx)(w.a,{image:e,style:{cropAreaStyle:{minWidth:256,minHeight:192}},rotation:o,onRotationChange:d,crop:a,aspect:1.3333333333333333,zoom:c,onCropChange:s,onZoomChange:r,onCropComplete:(t,e)=>n(e,o)})}),Object(_.jsxs)("div",{className:"crop-controls",children:[Object(_.jsxs)("div",{children:[Object(_.jsx)(b.c,{color:"gray",size:20,onClick:()=>c>.1&&r(c-.3)}),Object(_.jsx)(O,{value:c,onChange:t=>r(t.currentTarget.value),step:.05,min:.5,max:3}),Object(_.jsx)(y.a,{color:"gray",size:20,onClick:()=>c<7&&r(c+.3)})]}),Object(_.jsx)("div",{children:Object(_.jsx)(y.b,{color:"gray",size:20,onClick:()=>{const t=o-90;d(t<0?360:t)}})})]})]})}n(378);function k(t){return t*Math.PI/180}const N=t=>new Promise(((e,n)=>{const a=new Image;a.addEventListener("load",(()=>e(a))),a.addEventListener("error",(t=>n(t))),a.setAttribute("crossOrigin","anonymous"),a.src=t}));var S=n(363);class C extends s.a.Component{constructor(){super(...arguments),this.state={imageSrc:this.props.imageSrc||null,crop:{x:0,y:0},zoom:1,aspect:4/3,croppedAreaPixels:null,imgRotation:0,croppedImage:null},this.onCropChange=t=>{this.setState({crop:t})},this.onCropComplete=(t,e)=>{this.setState({croppedAreaPixels:t,imgRotation:e})},this.onZoomChange=t=>{let e=this.state.zoom;t>e&&t<=3?e+=.06:e=t,this.setState({zoom:e})},this.showCroppedImage=async(t,e,n)=>{await this.props.action.isAppLoading(!0);const a=await async function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const a=await N(t),i=document.createElement("canvas"),s=i.getContext("2d");if(!s)return null;const c=Math.max(a.width,a.height)/2*Math.sqrt(2)*2;i.width=c,i.height=c,s.translate(c/2,c/2),s.rotate(k(n)),s.translate(-c/2,-c/2),s.drawImage(a,c/2-.5*a.width,c/2-.5*a.height);const r=s.getImageData(0,0,c,c);i.width=e.width,i.height=e.height,s.putImageData(r,0-c/2+.5*a.width-e.x,0-c/2+.5*a.height-e.y);const o=new Promise(((t,e)=>{i.toBlob((e=>{t(URL.createObjectURL(e))}),"image/jpeg")}));return{base64:i.toDataURL("image/jpeg"),urlImg:o}}(this.state.imageSrc,this.state.croppedAreaPixels,this.state.imgRotation);if(!a)return this.props.action.isAppLoading(!1);const{urlImg:i}=a;await this.setState({croppedImage:i}),this.props.subirImg(a)},this.cancelCroppedImg=()=>{this.setState({croppedImage:null}),this.props.cancelarSubidaImg()}}componentWillReceiveProps(t){this.setState({imageSrc:t.imageSrc})}render(){return Object(_.jsx)("div",{className:"App",children:this.state.imageSrc&&Object(_.jsxs)(i.Fragment,{children:[Object(_.jsx)(v,{onCropComplete:this.onCropComplete,image:this.state.imageSrc}),Object(_.jsxs)("div",{className:"ImgCropcontrols",children:[Object(_.jsx)(j.b,{_id:this.props.idCancel,active:!0,type:"secundary",siguiente:this.cancelCroppedImg,children:"Cancelar"}),Object(_.jsx)(j.b,{_id:this.props.idAccept,active:!0,type:"primary",siguiente:this.showCroppedImage,children:"Guardar"})]})]})})}}Object(f.b)(null,(function(t){return{action:Object(x.bindActionCreators)(g.a,t)}}))(Object(S.a)(C));var A,I,L,F,z,E,T,D,P=n(365),M=n.n(P),W=n(332),B=n(374),R=n(371),V=n(11),K=n(338),U=n(408);n(402);r.b.section(A||(A=Object(a.a)(["\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  z-index: 3;\n  display: grid;\n  overflow: hidden;\n\n  @media (max-width: 768px) {\n    height: 100vh;\n  }\n"]))),r.b.div(I||(I=Object(a.a)(["\n  padding: 50px;\n  background: #232c35;\n  transition: 0.3s;\n  transform: translateX(100%);\n  display: grid;\n  grid-template-rows: 1fr;\n  row-gap: 20px;\n  justify-items: center;\n\n  .App {\n    height: 100% !important;\n    width: 100%;\n  }\n\n  .ImgCropcontrols {\n    background: transparent !important;\n  }\n\n  &.activated {\n    animation-name: activated;\n    animation-duration: 0.8s;\n    animation-fill-mode: forwards;\n  }\n\n  @keyframes activated {\n    0% {\n      transform: translateX(100%);\n    }\n    50% {\n      transform: translateX(100%);\n    }\n    100% {\n      transform: translateX(0%);\n    }\n  }\n"])));const q=t=>{let{payload:e}=t;const{coinsendaServices:n,actions:a,currencies:s,currentOrder:c,loader:r,tx_path:o}=Object(m.a)(),[d,l]=Object(i.useState)(e),[p,u]=Object(i.useState)(),[h,b]=Object(i.useState)(),j=async t=>{if(t.paymentProof){const{proof_of_payment:e}=t.paymentProof;l("fiat"===t.currency_type?"data:image/png;base64, ".concat(e.raw):await M.a.toDataURL("".concat(s[t.currency.currency].node_url,"tx/").concat(e.proof))),"crypto"===t.currency_type&&(u(e.proof),b("".concat(s[t.currency.currency].node_url,"tx/").concat(e.proof)))}else t.proof&&(l(await M.a.toDataURL("".concat(s[t.currency.currency].node_url,"tx/").concat(t.proof))),u(t.proof),b("".concat(s[t.currency.currency].node_url,"tx/").concat(t.proof)))};Object(i.useEffect)((()=>{if(c.paymentProof||"pending"===c.state||"deposits"!==o)j(c);else{(async()=>{const t=await n.getDepositById(c.id);if(!t)return;let e={[t.id]:{...t}};a.update_item_state(e,"deposits"),j(t)})()}}),[]),Object(i.useEffect)((()=>{d!==e&&l(e)}),[e]);return Object(_.jsx)(_.Fragment,{children:Object(_.jsxs)(H,{className:"".concat(c.currency_type," ").concat(c.state),children:[(!d||r)&&Object(_.jsx)(X,{children:Object(_.jsx)(W.default,{loader:2,justify:"center",color:"#206f65"})}),d&&Object(_.jsxs)(Z,{children:[Object(_.jsx)(U.a,{children:Object(_.jsx)("img",{src:d,width:"100%",height:"90px",alt:""})}),"crypto"===c.currency_type&&Object(_.jsxs)(G,{children:[Object(_.jsxs)(J,{className:"tooltip","data-copy":p,onClick:V.copy,children:[Object(_.jsx)(B.a,{size:16}),Object(_.jsx)("span",{className:"tooltiptext fuente",children:"Copiar"})]}),Object(_.jsxs)(J,{className:"tooltip",onClick:()=>{window.open(h,"_blank")},children:[Object(_.jsx)(R.f,{size:20}),Object(_.jsx)("span",{className:"tooltiptext fuente",children:"Ver en Blockchain"})]})]})]})]})})},$=r.b.div(L||(L=Object(a.a)(["\n  position: absolute;\n  width: calc(100% - 20px);\n  height: ",";\n  background: #eeeeee;\n  top: 10px;\n  justify-self: center;\n  border-radius: 3px;\n  display: none;\n"])),(t=>"confirmed"===t.state?"calc(100% - 230px)":"calc(100% - 170px)")),H=r.b.div(F||(F=Object(a.a)(["\n  width: 100px;\n  height: 100px;\n  border-radius: 4px;\n  align-self: center;\n  display: grid;\n  align-items: center;\n  justify-items: center;\n  max-height: 100px;\n  max-width: 110px;\n  position: relative;\n  justify-self: start;\n\n  img {\n    border-radius: 3px;\n    max-width: 100px;\n    min-width: 90%;\n  }\n  &.accepted,\n  &.confirmed {\n    background: #206f65;\n    padding: 0 5px;\n  }\n  &.rejected,\n  &.canceled {\n    background: gray;\n    opacity: 0.5;\n  }\n\n  &.fiat.accepted:hover\n    ~ ",",\n    &.fiat.confirmed:hover\n    ~ "," {\n    display: grid;\n  }\n\n  &.fiat {\n    cursor: pointer;\n  }\n"])),$,$),X=r.b.div(z||(z=Object(a.a)(["\n  width: 90%;\n  height: 90%;\n  background: white;\n  opacity: 0.6;\n  border-radius: 3px;\n  display: grid;\n  align-items: center;\n  justify-items: center;\n  position: absolute;\n  justify-self: center;\n  align-self: center;\n  z-index: 1;\n"]))),G=r.b.div(E||(E=Object(a.a)(["\n  position: absolute;\n  height: 100%;\n  width: calc(100% - 20px);\n  top: 0;\n  transition: 0.15s !important;\n  align-items: baseline;\n  display: grid;\n  padding: 0 10px;\n  justify-items: center;\n  grid-template-columns: repeat(2, 1fr);\n  transform: translateX(100%);\n"]))),Z=r.b.div(T||(T=Object(a.a)(["\n  width: 100%;\n  height: 100%;\n  position: relative;\n  display: grid;\n  align-items: center;\n  justify-items: center;\n\n  :hover "," {\n    opacity: 1;\n  }\n  button {\n    cursor: pointer;\n  }\n"])),G),J=r.b.div(D||(D=Object(a.a)(['\n  cursor: pointer;\n  width: 30px;\n  height: 30px;\n  border-radius: 3px;\n  border: 1px solid gray;\n  display: grid !important;\n  align-items: center;\n  justify-items: center;\n  position: relative;\n  align-self: flex-start;\n\n  ::after {\n    content: "";\n    width: 100%;\n    height: 100%;\n    position: absolute;\n    left: 0;\n    top: 0;\n  }\n\n  .tooltiptext {\n    padding-left: 4px !important;\n    padding-right: 4px !important;\n    width: auto !important;\n    min-width: 60px !important;\n  }\n\n  i,\n  svg {\n    color: gray;\n  }\n\n  :hover {\n    i,\n    svg {\n      color: #0c96fa;\n    }\n  }\n'])));var Y,Q,tt,et,nt,at,it,st,ct,rt,ot,dt=n(380),lt=n(343),pt=n(344),ut=n.n(pt);n(349);ut.a.locale("es");const ht=t=>{let{className:e,state:n,order:a,active:i,skeleton:s}=t;const c=i&&i.toString();return Object(_.jsxs)(wt,{className:"status ".concat(e),children:[Object(_.jsx)(_t,{className:e}),Object(_.jsx)(Ot,{children:s?Object(_.jsx)(yt,{}):Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(vt,{className:"fuente",active:c,children:n[1].ui_text[a.currency_type]||n[1].ui_text}),Object(_.jsx)(kt,{className:"fuente2",active:c,children:i&&"pending"===a.state?"Pendiente":i?"En proceso...":"created"===n[0]?ut()(a.created_at).format("LL"):"pending"===n[0]||"confirmed"===n[0]&&"confirmed"===a.state?ut()(a.updated_at).format("LL"):""})]})})]})};var mt=t=>{let{order:e,movil:n}=t;const[a,s]=Object(i.useState)(),{currentOrder:c,tx_path:r}=Object(m.a)(),o=new Array(4).fill(["created"]);return Object(i.useEffect)((()=>{let t={};for(let e in dt[r])t={...t,[e]:{...dt[r][e],completed:c.state===e}};s(Object.entries(t))}),[c.state]),Object(_.jsxs)(jt,{children:[Object(_.jsxs)(ft,{children:[Object(_.jsx)(bt,{className:"fuente",children:dt.orderStatus[r][e.state][e.currency_type].title}),Object(_.jsx)(xt,{className:"fuente",children:dt.orderStatus[r][e.state][e.currency_type].description})]}),!n&&Object(_.jsx)(gt,{children:a?a.map(((t,e)=>Object(_.jsx)(ht,{state:t,order:c,active:t[1].completed,className:"\n                  ".concat(a.length===e+1?"statusStep finalStep":"statusStep","\n                  ").concat(t[1].completed?"activeStep":"","\n                  ")},e))):o.map(((t,e)=>Object(_.jsx)(ht,{state:t,className:"".concat(o.length===e+1?"statusStep finalStep":"statusStep"," skeleton"),skeleton:!0},e)))})]})};const bt=r.b.p(Y||(Y=Object(a.a)(["\n  margin: 0;\n"]))),jt=r.b.div(Q||(Q=Object(a.a)(["\n  background: #f5f5f5;\n  box-shadow: 0px 0px 5px 3px rgba(0, 0, 0, 0.05);\n  display: grid;\n  grid-template-rows: auto 1fr;\n  row-gap: 25px;\n  padding: 30px 40px;\n  border-top-right-radius: 6px;\n  border-bottom-right-radius: 6px;\n\n  @media "," {\n    grid-template-rows: 1fr;\n    padding: 25px 20px;\n  }\n"])),d.W.tablet),ft=r.b.div(tt||(tt=Object(a.a)(["\n  display: grid;\n  row-gap: 10px;\n  height: auto;\n"]))),xt=Object(r.b)(bt)(et||(et=Object(a.a)(["\n  font-size: 13px;\n  color: gray;\n"]))),gt=r.b.div(nt||(nt=Object(a.a)(["\n  padding: 45px 0;\n  display: grid;\n  grid-template-rows: repeat(auto-fill, 70px);\n  row-gap: 10px;\n"]))),wt=r.b.div(at||(at=Object(a.a)(["\n  height: 70px;\n  padding: 0 20px;\n  display: grid;\n  align-items: center;\n  grid-template-columns: 20px 1fr;\n\n  &.activeStep ~ .status .statusStep {\n    background: #dadada;\n    ::after {\n      background: #dadada;\n    }\n  }\n\n  &.activeStep .statusStep {\n    ::after {\n      background: #dadada;\n    }\n  }\n"]))),_t=r.b.div(it||(it=Object(a.a)(['\n  justify-self: center;\n  width: 14px;\n  height: 14px;\n  background: #0198ff;\n  border-radius: 50%;\n  position: relative;\n  z-index: 2;\n  display: grid;\n  align-items: center;\n  justify-items: center;\n  border: 2px solid #f5f5f5;\n\n  &.activeStep {\n    width: 14px;\n    height: 14px;\n    border: 2px solid #0198ff;\n    background: transparent !important;\n    position: relative;\n    ::after {\n      top: 16px !important;\n    }\n    ::before {\n      content: "";\n      width: 6px;\n      height: 6px;\n      background: #0198ff;\n      border-radius: 50%;\n    }\n  }\n\n  &.statusStep::after {\n    content: "";\n    width: 2px;\n    height: 64px;\n    background: #0198ff;\n    position: absolute;\n    -webkit-align-self: center;\n    align-self: start;\n    top: 14px;\n    z-index: 1;\n  }\n\n  &.statusStep.finalStep::after {\n    display: none;\n  }\n\n  &.skeleton {\n    background: #c1c1c1;\n    ::after {\n      background: #c1c1c1;\n    }\n  }\n']))),Ot=r.b.div(st||(st=Object(a.a)(["\n  padding-left: 20px;\n  display: grid;\n  row-gap: 5px;\n  p {\n    margin: 0;\n  }\n"]))),yt=r.b.div(ct||(ct=Object(a.a)(["\n  width: 100%;\n  height: 16px;\n  background: #c1c1c1;\n  border-radius: 3px;\n  ","\n"])),lt.a),vt=Object(r.b)(bt)(rt||(rt=Object(a.a)(["\n  font-size: 14px;\n  color: ",";\n"])),(t=>"true"===t.active?"#0198FF":"gray")),kt=Object(r.b)(bt)(ot||(ot=Object(a.a)(["\n  font-size: 12px;\n  color: ",";\n"])),(t=>"true"===t.active?"#0198FF":"#adadad"));var Nt,St,Ct,At,It,Lt,Ft;class zt extends i.Component{constructor(){super(...arguments),this.state={ctx:null,total:6,loader:!0,color:"#159e8c"},this.draw=async t=>{await this.setState({loader:!1});let e=document.getElementById("myCanvas");if(!e)return!1;const n=e.getContext("2d");clearInterval(this.draw_interval);let a=100*t/this.state.total;n.beginPath(),n.arc(150,63,58,0,2*Math.PI/100*a),n.lineWidth=2,n.strokeStyle="#1cb179",n.stroke()}}async componentDidUpdate(t){this.props.confirmations!==t.confirmations&&(await this.setState({loader:!0}),this.draw(this.props.confirmations))}async componentDidMount(){await this.setState({loader:!0}),this.draw_interval=setInterval((()=>{this.draw(this.props.confirmations)}),250)}render(){const{confirmations:t,total_confirmations:e}=this.props;return Object(_.jsx)(Tt,{children:Object(_.jsx)(Dt,{children:Object(_.jsx)(Et,{children:Object(_.jsxs)(Wt,{children:[Object(_.jsx)(Pt,{children:Object(_.jsx)(Mt,{children:Object(_.jsxs)("p",{className:"fuente2",children:[t,Object(_.jsxs)("span",{children:["/ ",e||"6"]})]})})}),!this.state.loader&&Object(_.jsx)(Bt,{id:"myCanvas",width:"300",height:"125"})]})})})})}}const Et=r.b.div(Nt||(Nt=Object(a.a)(["\n  position: absolute;\n"]))),Tt=Object(r.b)(Et)(St||(St=Object(a.a)(["\n  right: 0;\n  transform: scale(0.9);\n"]))),Dt=r.b.div(Ct||(Ct=Object(a.a)(["\n  width: 130px;\n  height: 170px;\n  position: relative;\n  display: grid;\n  align-items: center;\n  justify-items: center;\n"]))),Pt=r.b.div(At||(At=Object(a.a)(["\n  width: 80px;\n  height: 50%;\n  position: absolute;\n  align-self: center;\n  justify-self: center;\n  display: grid;\n  align-items: center;\n  justify-items: center;\n  p {\n    font-size: 30px;\n    margin: 0;\n  }\n"]))),Mt=r.b.div(It||(It=Object(a.a)(["\n  width: 80px;\n  height: 50%;\n  position: absolute;\n  align-self: center;\n  justify-self: center;\n  display: grid;\n  align-items: center;\n  justify-items: center;\n  p {\n    font-size: 30px;\n    color: #1cb179;\n    margin: 0;\n  }\n  span {\n    color: #1cb179;\n    margin-left: 5px;\n    font-size: 18px;\n  }\n"]))),Wt=r.b.section(Lt||(Lt=Object(a.a)(["\n  width: 100%;\n  height: 100%;\n  position: relative;\n  display: grid;\n  align-items: center;\n  justify-items: center;\n"]))),Bt=r.b.canvas(Ft||(Ft=Object(a.a)(["\n  transform: rotate(-90deg);\n  transition: 0.3s;\n"])));var Rt,Vt,Kt,Ut,qt,$t,Ht,Xt,Gt,Zt,Jt,Yt,Qt,te,ee,ne,ae,ie,se=n(335),ce=n(331);ut.a.locale("es");var re=t=>{let{onErrorCatch:e}=t;const{currentOrder:n}=Object(m.a)();return n&&n.currency?Object(_.jsx)(_.Fragment,{children:"fiat"===n.currency_type?Object(_.jsx)(de,{order:n}):Object(_.jsx)(oe,{order:n})}):e()};const oe=t=>{let{order:e}=t;const{tx_path:n,currencies:a}=Object(m.a)(),{isTabletOrMovilViewport:i}=Object(p.a)();return Object(_.jsxs)(Fe,{children:[Object(_.jsx)(se.g,{theme:"dark",size:20}),Object(_.jsxs)(Le,{children:[Object(_.jsxs)(Ie,{children:[Object(_.jsx)(l.default,{className:"TitleIconOrder",size:35,icon:e.currency.currency||"cop"}),Object(_.jsxs)(Se,{children:[Object(_.jsx)(fe,{className:"fuente",children:ue(n)}),Object(_.jsx)(Ce,{className:"fuente",children:e.currency.currency})]}),Object(_.jsxs)(ke,{children:[Object(_.jsxs)(fe,{className:"fuente2",children:["#",e.id]}),Object(_.jsx)(Ne,{className:"fuente2",children:ut()(e.updated_at).format("LL")})]})]}),i&&Object(_.jsx)(mt,{order:e,movil:!0}),Object(_.jsx)(Ae,{state:e.state,children:Object(_.jsx)(u.a,{order:e,title:"".concat(me(e)),TitleSuffix:()=>Object(_.jsx)(he,{order:e})})}),Object(_.jsxs)(ve,{className:"crypto",children:[Object(_.jsx)(pe,{}),"deposits"===n&&Object(_.jsx)(zt,{confirmations:e.confirmations,total_confirmations:a[e.currency.currency].confirmations})]})]}),!i&&Object(_.jsx)(mt,{order:e})]})},de=t=>{let{order:e}=t;const[a,s]=Object(i.useState)(!1),[c,r]=Object(i.useState)(!1),{actions:o,tx_path:b,coinsendaServices:j}=Object(m.a)(),{isTabletOrMovilViewport:f}=Object(p.a)(),[,,x]=Object(h.a)(),[g]=Object(K.a)(),w=async t=>{if(t.target.files&&t.target.files.length>0){var a,i,c;s(!1);const l=t.target.files[0],p=await Object(V.img_compressor)(l,.25),u=await Object(V.readFile)(p);if(!Object(V.includesAnyImageMime)(u.split(",")[1]))return alert("Solo se aceptan imagenes");r(u),o.isAppLoading(!0);const{user:h}=j.globalState.modelData,m=await x(e.amount,e.currency),b=await x(d.g,e.currency);if((null===(a=h.security_center)||void 0===a||null===(i=a.transactionSecurity)||void 0===i||null===(c=i.biometric)||void 0===c?void 0:c.enabled)&&m.isGreaterThanOrEqualTo(b)){const t=await n.e(40).then(n.bind(null,686));if(!t)return;const e=t.default;return o.renderModal((()=>Object(_.jsx)(e,{})))}let f=await j.confirmDepositOrder(e.id,u);f&&f.data||(o.isAppLoading(!1),g("El dep\xf3sito No se ha confirmado","error"),r(null))}};return Object(_.jsxs)(Fe,{children:[Object(_.jsx)(se.g,{theme:"dark",size:20}),Object(_.jsxs)(Le,{onDragOver:t=>{t.preventDefault(),a||s(!a)},children:[a&&!c&&"pending"===e.state&&Object(_.jsx)(le,{dragLeave:t=>{t.preventDefault(),a&&s(!a)},goFileLoader:w}),Object(_.jsxs)(Ie,{children:[Object(_.jsx)(l.default,{className:"TitleIconOrder",size:35,icon:e.currency.currency||"cop"}),Object(_.jsxs)(Se,{children:[Object(_.jsx)(fe,{className:"fuente",children:ue(b)}),Object(_.jsx)(Ce,{className:"fuente",children:e.currency.currency})]}),Object(_.jsxs)(ke,{children:[Object(_.jsxs)(fe,{className:"fuente2",children:["#",e.id]}),Object(_.jsx)(Ne,{className:"fuente2",children:ut()(e.updated_at).format("LL")})]})]}),f&&Object(_.jsx)(mt,{order:e,movil:!0}),Object(_.jsx)(Ae,{state:e.state,children:Object(_.jsx)(u.a,{order:e,title:"".concat(me(e)),TitleSuffix:()=>Object(_.jsx)(he,{order:e})})}),Object(_.jsx)(ve,{children:Object(_.jsx)(pe,{imgSrc:c,goFileLoader:w,setImgSrc:r})})]}),!f&&Object(_.jsx)(mt,{order:e})]})},le=t=>{let{dragLeave:e,goFileLoader:n}=t;return Object(_.jsxs)(je,{children:[Object(_.jsx)("input",{id:"TFileUpload",type:"file",onChange:n,onDragLeave:e,capture:"user",accept:"image/*"}),Object(_.jsx)(pe,{unButtom:!0,title:"Suelta aqu\xed el archivo que quieres subir..."})]})},pe=t=>{let{unButtom:e,title:n,goFileLoader:a,imgSrc:s}=t;const{currentOrder:c}=Object(m.a)(),r=Object(ce.a)(!0,"TFileUpload",13,!0,"onkeyup",!0);return Object(_.jsx)(Oe,{className:"".concat(s||"confirmed"===c.state?"loaded":"unload"),children:s||"confirmed"===c.state?Object(_.jsxs)(i.Fragment,{children:[Object(_.jsxs)(we,{className:"titleSection payment fuente",children:[Object(_.jsx)(ge,{className:"titleSection",children:"Comprobante de pago"}),Object(_.jsx)("hr",{})]}),Object(_.jsx)(q,{payload:s})]}):Object(_.jsxs)(i.Fragment,{children:[Object(_.jsx)(b.e,{size:45,color:"gray"}),Object(_.jsx)(_e,{className:"fuente",children:n||"Arrastra el archivo que quieres subir"}),!e&&Object(_.jsxs)(i.Fragment,{children:[Object(_.jsxs)(we,{children:[Object(_.jsx)(ge,{className:"fuente",children:"o selecciona un archivo"}),Object(_.jsx)("hr",{})]}),Object(_.jsxs)(xe,{children:[Object(_.jsx)("input",{id:r,type:"file",accept:"image/png,image/jpeg",onChange:a}),Object(_.jsx)(fe,{style:{color:"white"},className:"fuente",children:"Subir comprobante"})]})]})]})})},ue=t=>"deposits"===t?"Dep\xf3sito":"Retiro",he=t=>{let{order:e}=t;const n="pending"===e.state?"#ff8660":"#1cb179",a="pending"===e.state?b.a:"confirmed"===e.state&&(()=>Object(_.jsx)(W.default,{loader:2,color:n,justify:"center"}));return Object(_.jsx)(be,{children:Object(_.jsx)(a,{size:25,color:n})})},me=t=>{let{state:e,currency_type:n}=t;switch(n){case"fiat":return"pending"===e?"Pendiente":"confirmed"===e&&"fiat"===n?"Procesando...":"En proceso de aceptaci\xf3n...";case"crypto":return"pending"===e?"Pendiente":"Confirmando en blockchain..."}},be=r.b.div(Rt||(Rt=Object(a.a)(["\n  position: relative;\n  width: 25px;\n  height: 25px;\n  display: grid;\n"]))),je=r.b.section(Vt||(Vt=Object(a.a)(["\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  background: rgba(255, 255, 255, 0.85);\n  z-index: 3;\n  display: grid;\n  align-items: center;\n  justify-items: center;\n  ","\n\n  svg {\n    fill: #0198ff;\n  }\n  p {\n    color: #0198ff;\n  }\n"])),""),fe=r.b.p(Kt||(Kt=Object(a.a)(["\n  margin: 0;\n"]))),xe=r.b.div(Ut||(Ut=Object(a.a)(["\n  width: 320px;\n  height: 45px;\n  border-radius: 6px;\n  border: 2px solid #0198ff;\n  background: #0198ff;\n  display: grid;\n  align-items: center;\n  justify-items: center;\n  cursor: pointer;\n  position: relative;\n"]))),ge=Object(r.b)(fe)(qt||(qt=Object(a.a)(["\n  z-index: 2;\n  font-size: 12px;\n  width: 150px;\n  background: #eeeeee;\n  text-align: center;\n  color: gray;\n\n  &.titleSection {\n    font-size: 15px;\n    width: auto;\n    padding: 0 20px;\n    align-self: center;\n    justify-self: baseline;\n  }\n"]))),we=r.b.div($t||($t=Object(a.a)(["\n  font-size: 14px;\n  position: relative;\n  display: grid;\n  width: 100%;\n  justify-items: center;\n  max-width: 320px;\n  hr{\n    position: absolute;\n    width: 100%;\n    align-self: center;\n  }\n\n  &.titleSection{\n    max-width: inherit;\n    position: absolute;\n    align-self: start;\n    hr{\n      border-top: 1px solid;\n      color: #c5c5c5;\n    }\n  }\n  &.payment{\n    p{\n      padding-left: 0 !important;\n    }\n    position: relative !important;\n  }\n}\n"]))),_e=Object(r.b)(fe)(Ht||(Ht=Object(a.a)(["\n  font-size: 16px;\n  color: gray;\n"]))),Oe=r.b.section(Xt||(Xt=Object(a.a)(["\n  display: grid;\n  justify-items: center;\n  row-gap: 12px;\n  width: 100%;\n  min-height: 170px;\n  height: auto;\n  &.loaded {\n    grid-template-rows: auto 1fr;\n  }\n  &.unload {\n    grid-template-columns: 1fr;\n    max-width: 400px;\n    grid-template-rows: repeat(4, auto);\n  }\n"]))),ye=r.b.div(Gt||(Gt=Object(a.a)([""]))),ve=Object(r.b)(ye)(Zt||(Zt=Object(a.a)(["\n  height: auto;\n  display: grid;\n  justify-items: center;\n  align-items: center;\n\n  &.crypto {\n    position: relative;\n  }\n"]))),ke=r.b.div(Jt||(Jt=Object(a.a)(["\n  display: flex;\n  grid-area: dateIdContainter;\n  "," {\n    font-size: 12px;\n    color: gray;\n  }\n"])),fe),Ne=Object(r.b)(fe)(Yt||(Yt=Object(a.a)(["\n  margin-left: 9px !important;\n  padding-left: 7px;\n  border-left: 1px solid gray;\n"]))),Se=r.b.div(Qt||(Qt=Object(a.a)(["\n  margin: 0;\n  display: flex;\n  align-items: center;\n  grid-area: titleContainer;\n  "," {\n    font-size: 20px;\n  }\n"])),fe),Ce=Object(r.b)(fe)(te||(te=Object(a.a)(["\n  margin-left: 7px !important;\n  text-transform: uppercase;\n"]))),Ae=Object(r.b)(ye)(ee||(ee=Object(a.a)(['\n  background: white;\n  border-radius: 4px;\n  position: relative;\n  overflow: hidden;\n  ::after {\n    content: "";\n    position: absolute;\n    height: 7px;\n    background: ',";\n    top: 0;\n    width: 100%;\n    ","\n  }\n  .withTitle {\n    padding-top: 55px !important;\n  }\n"])),(t=>"pending"===t.state?"#ff8660":"#1cb179"),(t=>"confirmed"===t.state&&lt.a)),Ie=Object(r.b)(ye)(ne||(ne=Object(a.a)(['\n  display: grid;\n  align-items: center;\n  grid-template-rows: auto auto;\n  column-gap: 12px;\n  row-gap: 5px;\n  grid-template-columns: auto 1fr;\n  grid-template-areas:\n    "icon titleContainer"\n    "icon dateIdContainter";\n  span {\n    margin-right: 15px;\n  }\n\n  .TitleIconOrder {\n    grid-area: icon;\n  }\n']))),Le=r.b.div(ae||(ae=Object(a.a)(["\n  background: #eeeeee;\n  display: grid;\n  grid-template-rows: auto 1fr auto;\n  row-gap: 30px;\n  position: relative;\n  border-top-left-radius: 6px;\n  border-bottom-left-radius: 6px;\n\n  @media "," {\n    grid-template-rows: auto auto 1fr auto;\n  }\n"])),d.W.tablet),Fe=r.b.section(ie||(ie=Object(a.a)(["\n  #TFileUpload {\n    position: absolute;\n    z-index: 4;\n    width: 100%;\n    height: 100%;\n    opacity: 0;\n    cursor: pointer;\n  }\n\n  p {\n    margin: 0;\n  }\n\n  "," {\n    padding: 30px 40px;\n  }\n\n  position: relative;\n  width: 1000px;\n  height: auto;\n  min-height: 750px;\n  background: white;\n  display: grid;\n  border-radius: 6px;\n  box-shadow: 0px 0px 5px 3px rgba(0, 0, 0, 0.1);\n  grid-template-columns: 1fr 400px;\n\n  @media "," {\n    width: 100%;\n  }\n\n  @media "," {\n    grid-template-columns: 1fr;\n    position: absolute;\n    top: 10px;\n  }\n\n  @media "," {\n    "," {\n      padding: 30px 15px;\n    }\n  }\n"])),Le,d.W.laptop,d.W.tabletL,d.W.tablet,Le);var ze,Ee,Te,De,Pe,Me,We,Be,Re,Ve,Ke,Ue,qe,$e;ut.a.locale("es");e.default=()=>{const{actions:t,currentOrder:e}=Object(m.a)();return e&&e.state?Object(_.jsx)(c.a,{id:"close-button-with-OtherModalLayout",onkeydown:!0,on_click:(e,n)=>{e&&(e.target.dataset.close_modal||n)&&(t.isAppLoading(!1),t.renderModal(null))},children:["accepted","rejected","canceled"].includes(e.state)?Object(_.jsx)(Xe,{}):Object(_.jsx)(re,{onErrorCatch:()=>(t.renderModal(null),Object(_.jsx)("div",{}))})}):(t.renderModal(null),Object(_.jsx)("div",{}))};const He=t=>"accepted"===t?"Aceptado":"confirmed"===t?"Confirmado":"pending"===t?"Pendiente":"rejected"===t?"Rechazado":"Cancelado",Xe=()=>{const{tx_path:t,currentOrder:e}=Object(m.a)(),{isMovilViewport:n}=Object(p.a)();if(!e)return null;const{state:a}=e,i="deposits"===t?"Deposito":"withdraws"===t?"Retiro":"swaps"===t&&"Intercambio",s="accepted"===a?"Aceptado":"confirmed"===a?"Confirmado":"pending"===a?"Pendiente":"rejected"===a?"Rechazado":"Cancelado",c="accepted"===a?"#1cb179":"confirmed"===a?"#77b59d":"pending"===a?"#ff8660":"red";return Object(_.jsxs)(ln,{className:"layout3",children:[Object(_.jsx)(se.g,{theme:"dark",size:20}),Object(_.jsxs)(dn,{state:e.state,children:[Object(_.jsxs)(tn,{children:[Object(_.jsx)(an,{className:"fa ".concat(t)}),Object(_.jsx)(l.default,{className:"TitleIconOrder",size:28,icon:e.currency&&e.currency.currency||"cop"}),Object(_.jsx)(on,{className:"fuente",children:i}),Object(_.jsxs)(en,{className:"fuente2",children:["Actualizado ",ut()(e.updated_at).format("LL")]})]}),Object(_.jsxs)(rn,{children:[Object(_.jsx)(l.default,{size:n?25:45,icon:"accepted"===a?"accepted2":a,color:c}),Object(_.jsx)("p",{className:"fuente",style:{color:"".concat(c)},children:s})]}),Object(_.jsx)(cn,{children:Object(_.jsx)(sn,{})})]}),Object(_.jsx)(u.a,{order:e,title:"Detalle del ".concat(i)}),Object(_.jsx)(Ge,{colorState:c})]})},Ge=t=>{let{colorState:e}=t;const{currentOrder:n,tx_path:a,currencies:i}=Object(m.a)(),[s]=Object(h.a)(n.amount||n.bought,n.currency),c="swaps"===a&&"accepted"===n.state?"Saldo adquirido:":"accepted"===n.state?"Saldo acreditado:":"Saldo SIN acreditar:",r="swaps"===a?i[n.to_buy_currency.currency]:i[n.currency.currency],o="withdraws"===a&&"fiat"===n.currency_type;return Object(_.jsxs)(Qe,{children:[Object(_.jsxs)(Ye,{children:[Object(_.jsx)("hr",{}),"swaps"!==a&&Object(_.jsx)("p",{className:"fuente",children:"Comprobante de pago"})]}),Object(_.jsxs)(Je,{children:["swaps"===a||o?Object(_.jsx)("div",{}):Object(_.jsx)(q,{}),Object(_.jsxs)(Ze,{color:e,className:"".concat(n.state),children:[Object(_.jsx)("p",{className:"fuente saldo",children:c}),Object(_.jsxs)("p",{className:"fuente2 amount",children:["fiat"===n.currency_type&&"$ ",s," ",r&&Object(_.jsx)("span",{className:"fuente",children:r.code})]})]})]})]})},Ze=r.b.div(ze||(ze=Object(a.a)(["\n  width: auto;\n  height: 70px;\n  justify-self: end;\n  align-self: end;\n\n  &.rejected,\n  &.canceled {\n    .amount {\n      text-decoration: line-through;\n    }\n  }\n\n  p {\n    color: ",";\n    margin: 0;\n    text-align: right;\n  }\n  & > p {\n    margin-bottom: 10px;\n  }\n  .amount {\n    font-size: 30px;\n    span {\n      font-size: 18px;\n    }\n  }\n  .saldo {\n    font-size: 16px;\n  }\n"])),(t=>t.color)),Je=r.b.div(Ee||(Ee=Object(a.a)(["\n  width: calc(100% - 60px);\n  padding: 0 30px;\n  height: 100%;\n  display: grid;\n  grid-template-columns: 100px 1fr;\n"]))),Ye=r.b.div(Te||(Te=Object(a.a)(["\n  display: grid;\n  position: relative;\n  justify-items: center;\n  hr {\n    width: 98%;\n    opacity: 0.35;\n  }\n  p {\n    color: gray;\n    margin: 0;\n    background-color: white;\n    position: absolute;\n    left: 20px;\n    padding: 0 10px;\n    align-self: self-end;\n    font-size: 14px;\n    font-weight: bold;\n  }\n"]))),Qe=r.b.section(De||(De=Object(a.a)(["\n  height: calc(200px - 40px);\n  width: 100%;\n  padding: 20px 0;\n  display: grid;\n  grid-template-rows: auto 1fr;\n  row-gap: 20px;\n"]))),tn=r.b.div(Pe||(Pe=Object(a.a)(['\n  display: grid;\n  .TitleIconOrder {\n    grid-area: IconSwitch;\n  }\n  align-items: center;\n  column-gap: 15px;\n  row-gap: 4px;\n  align-self: center;\n  position: absolute;\n  left: 30px;\n  grid-template-columns: 25px 25px minmax(100px, 200px);\n  grid-template-areas:\n    "OrderIcon IconSwitch Title"\n    "OrderIcon IconSwitch DateTitle";\n']))),en=r.b.p(Me||(Me=Object(a.a)(["\n  font-size: 12px;\n  color: white;\n  grid-area: DateTitle;\n  margin: 0;\n  padding: 0;\n  text-align: left;\n  display: grid;\n  margin-left: 4px;\n"]))),nn=r.b.i(We||(We=Object(a.a)([""]))),an=Object(r.b)(nn)(Be||(Be=Object(a.a)(['\n    margin-right: 10px;\n    font-size: 22px;\n    grid-area: OrderIcon;\n    color: white;\n    margin: 0;\n    display: grid !important;\n    justify-items: center;\n\n    &.swaps:before{\n       content: "\f079";\n      }\n    }\n    &.withdraws:before{\n       content: "\f062";\n      }\n    }\n    &.deposits:before{\n       content: "\f063";\n      }\n    }\n\n  '],['\n    margin-right: 10px;\n    font-size: 22px;\n    grid-area: OrderIcon;\n    color: white;\n    margin: 0;\n    display: grid !important;\n    justify-items: center;\n\n    &.swaps:before{\n       content: "\\f079";\n      }\n    }\n    &.withdraws:before{\n       content: "\\f062";\n      }\n    }\n    &.deposits:before{\n       content: "\\f063";\n      }\n    }\n\n  ']))),sn=r.b.div(Re||(Re=Object(a.a)(["\n  width: 120%;\n  height: 120%;\n  position: absolute;\n  background-image: url(/static/media/back.fe9a1b62.png);\n  background-size: contain;\n  background-repeat: repeat;\n  background-position: right;\n  opacity: 0.05 !important;\n  animation: ",";\n  animation-duration: 80s;\n  animation-iteration-count: infinite;\n  transform: scale(1.5);\n"])),o.a),cn=r.b.div(Ve||(Ve=Object(a.a)(["\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  overflow: hidden;\n"]))),rn=r.b.div(Ke||(Ke=Object(a.a)(["\n  display: grid;\n  align-items: center;\n  justify-content: center;\n  justify-self: end;\n  width: 90px;\n  height: 90px;\n  background: white;\n  border-radius: 50%;\n  align-self: flex-end;\n  position: relative;\n  transform: translate(-30px, 45px) !important;\n\n  p {\n    position: absolute;\n    margin: 0;\n    bottom: -3px;\n    font-size: 14px;\n    justify-self: center;\n  }\n\n  @media "," {\n    width: 60px;\n    height: 60px;\n    transform: translate(-20px, 45px) !important;\n    p {\n      bottom: -8px;\n    }\n  }\n"])),d.W.tablet),on=r.b.h3(Ue||(Ue=Object(a.a)(["\n  text-align: left;\n  color: white;\n  margin: 0;\n  grid-area: Title;\n  font-size: 22px;\n  margin-left: 4px;\n"]))),dn=r.b.section(qe||(qe=Object(a.a)(["\n  background: ",";\n  width: 100%;\n  height: 100%;\n  display: grid;\n  position: relative;\n  border-top-right-radius: 6px;\n  border-top-left-radius: 6px;\n"])),(t=>t.state?d.Z[t.state]:"gray")),ln=r.b.div($e||($e=Object(a.a)(["\n  width: 100%;\n  max-width: 550px;\n  height: auto;\n  min-height: 650px;\n  background: white;\n  display: grid;\n  align-items: center;\n  justify-items: center;\n  -webkit-transition: 0.3s;\n  transition: 0.3s;\n  border-radius: 11px;\n  position: relative;\n  grid-template-rows: 115px 1fr auto;\n\n  -webkit-animation: "," 1s\n    cubic-bezier(0.175, 0.885, 0.32, 1.275) both;\n  animation: "," 1s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    both;\n"])),o.m,o.m)},389:function(t,e,n){"use strict";n.r(e);var a=n(2),i=n(53),s=n(15),c=(n(362),n(14));const r=Object(i.a)((()=>Promise.resolve().then(n.bind(null,330))));e.default=function(t){const e=()=>{const{name:e,code:n,currency_type:a,pair_id:i,actualizarEstado:s}=t;s&&s(e,n,a,i)};Object(a.useEffect)((()=>{t.actives&&e()}),[t.actives]);const{type:n,actives:i,name:o,code:d,placeholder:l,primarySelect:p,format:u,itemType:h}=t;return console.log("|||||||||||||||  ItemLayout ==> ",n),Object(c.jsxs)("div",{id:"".concat(p?"primarySelect":""),className:"".concat("payment_method"===n?"ILtuvieja":""," "),children:[Object(c.jsxs)("div",{className:"item ".concat(i?"itemSelection":""),onClick:i&&"banks"!==h?null:e,children:[u?Object(c.jsx)(r,{icon:d,size:45}):"coins"===n||"payment_method"===n||"service_mode"===n?i?Object(c.jsxs)("div",{title:o,id:d,children:["bank"===n&&Object(c.jsx)("img",{className:"itemSobre activaos",src:"".concat(Object(s.b)("assets"),"coins/").concat(d,".png"),alt:"",width:"60"}),Object(c.jsx)("img",{className:"itemSobre activaos",src:"".concat(Object(s.b)("assets")).concat(n,"/").concat(d,"2.png"),alt:"",width:"60"})]}):Object(c.jsxs)("div",{title:o,id:d,children:[Object(c.jsx)("img",{className:"itemFuera",src:"".concat(Object(s.b)("assets")).concat(n,"/").concat(d,".png"),width:"60",alt:"",id:d,title:o}),Object(c.jsx)("img",{className:"itemSobre",src:"".concat(Object(s.b)("assets")).concat(n,"/").concat(d,"2.png"),width:"60",alt:"",id:d,title:o})]}):Object(c.jsx)("img",{className:"banquis ".concat(i?"itemVisible":""),src:"".concat(Object(s.b)("assets")).concat(n,"/").concat(d,".png"),alt:"",id:d,title:o,width:"85"}),p?Object(c.jsxs)("div",{id:"primarySelectText",className:"primarySelectText",children:[Object(c.jsx)("p",{title:o,children:o}),l&&l.map((t=>Object(c.jsx)("p",{id:"ILplaceholder2",className:"fuente",children:t.name},t.id)))]}):Object(c.jsx)("p",{title:o,children:o})]}),l&&!p&&Object(c.jsx)("div",{className:"placeHoldCont",children:l.map((t=>Object(c.jsx)("p",{className:"ILplaceholder fuente",children:t.name},t.id)))})]})}},398:function(t,e,n){"use strict";var a,i,s,c,r,o,d,l,p,u,h=n(327),m=(n(2),n(350)),b=n(328),j=n(353),f=n(364),x=n(330),g=n(337),w=n(335),_=n(14);e.a=t=>{let{callback:e,isWithdraw2fa:n,cancelAction:a}=t;const i=Object(g.a)(),s=(t,e)=>{(e||!t||t.target.dataset&&t.target.dataset.close_modal)&&(i.renderModal(null),a&&a())};return Object(_.jsx)(m.a,{on_click:s,children:Object(_.jsxs)(L,{children:[Object(_.jsx)(w.g,{theme:"dark",size:20}),Object(_.jsxs)(I,{children:[Object(_.jsx)(A,{className:"fuente",children:"Autenticaci\xf3n de retiro"}),Object(_.jsxs)(C,{children:[Object(_.jsx)("div",{className:"wavExpansive in"}),Object(_.jsx)(x.default,{size:60,icon:"twofa"})]}),Object(_.jsx)(y,{children:Object(_.jsx)(O,{className:"backTopSection"})})]}),Object(_.jsxs)(S,{children:[Object(_.jsxs)(N,{children:[Object(_.jsxs)("p",{className:"fuente",children:["Digita el c\xf3digo ",Object(_.jsx)("span",{className:"fuente2",children:"2FA"})," para continuar."]}),Object(_.jsx)(v,{children:Object(_.jsx)(f.a,{isWithdraw2fa:n,authenticated:e})})]}),Object(_.jsx)(k,{onClick:()=>s(!1,!0),children:"Cancelar"})]})]})})};const O=b.b.div(a||(a=Object(h.a)(["\n  opacity: 0.05 !important;\n  animation: ",";\n  animation-duration: 30s;\n  animation-iteration-count: infinite;\n"])),j.a),y=b.b.div(i||(i=Object(h.a)(["\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  overflow: hidden;\n"]))),v=b.b.div(s||(s=Object(h.a)(["\n  width: 100%;\n  position: relative;\n  height: 70px;\n"]))),k=b.b.div(c||(c=Object(h.a)(["\n  padding: 8px 15px 8px 15px;\n  background: #e6e6e6;\n  display: grid;\n  width: auto;\n  min-width: 200px;\n  height: 35px;\n  display: grid;\n  align-items: center;\n  border-radius: 6px;\n  align-self: center;\n  margin-bottom: 20px;\n  justify-items: center;\n  cursor: pointer;\n  -webkit-transition: 0.15s;\n  transition: 0.15s;\n  color: #888888;\n\n  &:hover {\n    background: #0198ff;\n    color: white;\n  }\n"]))),N=b.b.div(r||(r=Object(h.a)(["\n  width: 80%;\n  position: relative;\n  display: grid;\n  justify-items: center;\n  align-items: center;\n  height: 111px;\n  span {\n    margin: 0 7px;\n  }\n"]))),S=b.b.div(o||(o=Object(h.a)(["\n  width: 100%;\n  display: grid;\n  justify-items: center;\n  position: relative;\n  padding-top: 0px;\n  /* grid-template-rows: repeat(3, auto); */\n  grid-template-rows: 1fr auto;\n  align-items: center;\n  height: 100%;\n  grid-row-gap: 10px;\n  row-gap: 10px;\n"]))),C=b.b.div(d||(d=Object(h.a)(["\n  display: grid;\n  align-items: center;\n  justify-content: center;\n  width: 130px;\n  height: 130px;\n  background: white;\n  border-radius: 50%;\n  justify-self: center;\n  align-self: flex-end;\n  position: relative;\n\n  animation: ",";\n  animation-duration: 0.35s;\n  animation-delay: 0.25s;\n  animation-fill-mode: forwards;\n  transform: translateY(15px) scale(0);\n"])),j.l),A=b.b.h3(l||(l=Object(h.a)(["\n  text-align: center;\n  color: white;\n  margin: 30px 0 10px 0;\n"]))),I=b.b.section(p||(p=Object(h.a)(["\n  background: linear-gradient(to bottom right, #0175c3, #039aff);\n  width: 100%;\n  height: 100%;\n  display: grid;\n  position: relative;\n  border-top-right-radius: 6px;\n  border-top-left-radius: 6px;\n"]))),L=b.b.div(u||(u=Object(h.a)(["\n  width: 100%;\n  max-width: 410px;\n  height: 460px;\n  background: white;\n  display: grid;\n  align-items: center;\n  justify-items: center;\n  -webkit-transition: 0.3s;\n  transition: 0.3s;\n  border-radius: 11px;\n  position: relative;\n  grid-template-rows: 30% 70%;\n\n  -webkit-animation: "," 1s\n    cubic-bezier(0.175, 0.885, 0.32, 1.275) both;\n  animation: "," 1s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    both;\n"])),j.m,j.m)},405:function(t,e,n){"use strict";var a=n(2),i=n(389),s=n(339),c=n(334),r=n(98),o=n(54),d=n(99),l=n(27),p=n(332),u=n(348),h=n(11),m=(n(362),n(14));class b extends a.Component{constructor(){super(...arguments),this.state={placeholder:"coins"===this.props.type?"ej: Bitcoin":"ej: Bancolombia",selected:this.props.selected,coincidencia:"",items:this.props.items},this.load_items=async t=>{let e;"coins"===t&&(e=this.props.coins?this.props.coins:await this.props.coinsendaServices.fetchAllCurrencies()),"banks"===t&&(e=o.a),"remittance"===t&&(e=o.h),this.setState({items:e})},this.buscarResultados=t=>{this.buscarItemStore(t);let e={name:"",code:""};this.props.search.length<2&&this.state.items.filter((n=>{let a=t.toLowerCase();return!!n.name.toLowerCase().includes(a)&&(this.setState({selected:!0,coincidencia:n.name.toLowerCase()}),e=n)}));const{current:n}=this.props,a={target:{name:"wallets"===n?"currency":"bank"===n?"bank_name":"deposit_service",value:e.name.toLowerCase(),short_name:e.code.toLowerCase()}};this.props.actualizarEstado(a)},this.actualizar=t=>{const e=t.target.value;Object(h.debounce)(this.buscarResultados,250)(e)},this.buscarItemStore=(t,e)=>{this.props.action.Search(t,this.props.current,this.state.items,e),this.props.update_control_form(t)},this.seleccionarItem=(t,e)=>{this.setState({coincidencia:t,selected:!0});const{current:n}=this.props,a={target:{name:"wallets"===n?"currency":"bank"===n||"withdraw"===n?"bank_name":"deposit_service",value:t,short_name:e}};this.buscarItemStore(t,!0),this.props.actualizarEstado(a)},this.close=()=>(this.props.clearItem&&this.props.clearItem(),this.setState({selected:!1,placeholder:"coins"===this.props.type?"ej: Bitcoin":"ej: Bancolombia"}),this.buscarItemStore(""))}componentDidMount(){const{items:t}=this.state;if(t)return!1;this.load_items(this.props.type)}render(){const{search:t,buttonActive:e,itemSelect:n,label:r}=this.props,{items:o}=this.state;return Object(m.jsxs)("section",{className:"ItemSelectionContainers",id:"itemSelect",children:[this.state.selected?Object(m.jsx)(c.j,{close:this.close,label:r,active:n||t.length,value:n||t.length&&t[0].currency,children:this.state.coincidencia||n||t.length&&t[0].currency}):Object(m.jsx)(s.f,{type:"text",autoFocus:this.props.autoFocus,label:r,placeholder:this.state.placeholder,name:"currency",actualizarEstado:this.actualizar,active:e}),Object(m.jsx)("div",{className:"ItemSelectionContainer",children:this.state.items?Object(m.jsx)("div",{className:"containerItems",children:t.length>0?t.length<2?t.map((t=>Object(a.createElement)(i.default,{itemType:this.props.type,actualizarEstado:this.seleccionarItem,actives:!0,...t,key:t.id,format:this.props.format}))):t.map((t=>Object(a.createElement)(i.default,{actualizarEstado:this.seleccionarItem,...t,key:t.id,format:this.props.format}))):o.map((t=>Object(a.createElement)(i.default,{actualizarEstado:this.seleccionarItem,...t,key:t.id,format:this.props.format})))}):Object(m.jsx)(p.default,{})})]})}}e.a=Object(r.b)((function(t,e){const{form_control_deposit:n,form_deposit:a,current:i,search_coin:s,search_bank:c,form_wallet:r,form_bank:o,form_control_wallet:d,form_control_bank:l,search_deposit:p}=t.form,{currencies:u}=t.modelData;return{search:"wallets"===i?s:"bank"===i||"withdraw"===i?c:p,form:"wallets"===i?r:"bank"===i||"withdraw"===i?o:a,buttonActive:"wallets"===i?d:"bank"===i||"withdraw"===i?l:n,selected:"wallets"===i?1===s.length:"bank"===i||"withdraw"===i?1===c.length:1===p.length,current:i,coins:u}}),(function(t){return{action:Object(l.bindActionCreators)(d.a,t)}}))(Object(u.a)(b))},418:function(t,e,n){},465:function(t,e,n){"use strict";var a=n(2),i=n(334),s=n(330),c=n(339),r=n(11),o=(n(418),n(14));class d extends a.Component{constructor(){super(...arguments),this.state={statusInput:"",ui_currency_name:"",minAmount:this.props.min_amount||2e4},this.handleKeyPress=t=>{let e=Object(r.handleKeyPress)(t);return this.setState({statusInput:e})},this.init_config=()=>{const{currency:t}=this.props;let e=Object(r.get_ui_name_currency)(t);this.setState({ui_currency_name:e})},this.actualizarAmount=t=>{let{target:e}=t,n=e.value.replace(/\D/g,"");0!==n&&"0"!==n&&(n=n.substring(0,15),this.props.updateAmountOnState(n))},this.load_amount=()=>{const{operation_type:t,available:e}=this.props;this.props.updateAmountOnState("deposit"===t?2e4:e)}}componentDidMount(){this.init_config()}componentWillUnmount(){}render(){const{operation_type:t,currency:e,available:n,amount:d,handleSubmit:l}=this.props,{statusInput:p,ui_currency_name:u,minAmount:h}=this.state,m={icon:e,size:80};return Object(o.jsx)("div",{className:"viewAmount DLstep",children:e&&Object(o.jsxs)(a.Fragment,{children:[Object(o.jsxs)("div",{className:"DLcontain",children:[Object(o.jsxs)("p",{className:"fuente DLtitle2",children:["Quiero ","deposit"===t?"depositar":"retirar"]}),Object(o.jsx)("p",{className:"fuente DLstitle",children:"La cantidad de"})]}),Object(o.jsxs)("div",{className:"DLcontain2",children:[Object(o.jsx)(s.default,{...m}),Object(o.jsx)(c.b,{value:d,autoFocus:!0,actualizar:this.actualizarAmount,name:"amount",handleKeyPress:this.handleKeyPress,service:r.number_format}),Object(o.jsxs)("div",{className:"DLstatus",children:[Object(o.jsx)("p",{id:"DLcop2",className:"fuente2 DLstitle DLcop DLcop2",onClick:this.load_amount,children:"deposit"===t?"Cantidad minima: $ ".concat(Object(r.number_format)(h)," ").concat(e.toUpperCase()):"withdraw"===t&&parseFloat(n)>h?"Disponible: ~$".concat(Object(r.number_format)(n)," ").concat(e.toUpperCase()):"Disponible: ~$".concat(Object(r.number_format)(n)," ").concat(e.toUpperCase()," | Minima: ~$").concat(Object(r.number_format)(h)," ").concat(e.toUpperCase())}),Object(o.jsx)("p",{className:"fuente DLstitle DLcop",children:u}),Object(o.jsx)("p",{className:"textStatus",children:p})]})]}),Object(o.jsx)(i.b,{_id:this.props.mainCtaId,type:"primary",active:"deposit"===t?parseFloat(d)>=parseFloat(h):parseFloat(d)>=parseFloat(h)&&parseFloat(d)<=parseFloat(n)&&parseFloat(d)>0,siguiente:l,children:"Continuar"})]})})}}e.a=d},466:function(t,e,n){"use strict";n(2),n(362);var a=n(14);e.a=t=>{const{Anim2:e,color:n}=t;let i={transform:e?"scale(1)":"scale(0)",animationDelay:e?".12s":"",background:"green"===n?"linear-gradient(to right, #11998e, #38ef7d)":"red"===n?"linear-gradient(to right, #ab2f26, #ff1100)":"linear-gradient(to right, #377FD7, #00D2FF)"},s={animationDelay:e?".15s":"",background:"green"===n?"#3be18545":"red"===n?"rgba(255, 17, 0, 0.3)":"#109cd04f"};return Object(a.jsxs)("div",{className:"active_account",title:"Cuenta Habilitada",children:[Object(a.jsx)("div",{className:"bigEgg",style:s}),Object(a.jsx)("div",{className:"egg",style:i})]})}},467:function(t,e,n){},468:function(t,e,n){},506:function(t,e,n){"use strict";n.r(e);n(2);var a=n(53),i=n(334),s=n(331),c=n(355),r=(n(468),n(14));const o=Object(a.a)((()=>Promise.resolve().then(n.bind(null,330))));e.default=function(t){const e=Object(s.a)(!0,"cancel-button-ticket",8,!1,"onkeyup",!0),n=Object(s.a)(!0,"finalizar-button-ticket",13,!1,"onkeyup",!0),{finishAction:a,cta_primary_label:d,cta_secondary:l,cta_secondary_label:p,cta_secondary_action:u,ticket:h}=t;return Object(r.jsx)("div",{className:"finalTicket TicketDetail",children:Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("div",{className:"finalTicket ticketHeader",children:[Object(r.jsx)(o,{icon:"success",size:75,color:"white"}),Object(r.jsx)("h1",{className:"fuente finalTicket TicketTitle",children:"Operaci\xf3n exitosa"})]}),Object(r.jsx)("div",{className:"finalTicket contenidoTicket",children:Object(r.jsx)(c.a,{title:"Detalle del retiro",order:h,theme:"darkTheme"})}),Object(r.jsxs)("div",{className:"nWcta2",style:{gridTemplateColumns:l?"repeat(2, 1fr)":"1fr",width:l?"400px":"auto"},children:[l&&Object(r.jsx)(i.g,{id:e,cta_secondary:!0,toggleModal:u,children:p||"Cancelar"}),Object(r.jsx)(i.g,{id:n,toggleModal:a,children:d||"Finalizar"})]})]})})}},509:function(t,e,n){"use strict";n.r(e);var a=n(2),i=n(53),s=n(332),c=n(54),r=n(334),o=n(339),d=n(14);var l=t=>{const{elements:e,label:n,open:a,active:i,placeholder:s}=t;return Object(d.jsxs)("div",{className:"containerInputComponent",children:[Object(d.jsx)("p",{className:"labelText fuente",children:n}),Object(d.jsx)("div",{className:"inputContainer2 ".concat(i?"inputActivado":""),children:Object(d.jsxs)("div",{className:"InputDropDown ".concat(i?"activeText":""),onClick:t.abrir,children:[s,Object(d.jsx)("div",{className:"InputDesplegable ".concat(a?"Idesplegado":""),style:{height:a?"".concat(45*e.length,"px"):"0px"},children:e.map(((e,n)=>Object(d.jsxs)("p",{"data-value":e.value,"data-ui_name":e.ui_name,onClick:t.selectItem,children:[e.ui_name," "]},n)))})]})})]})};n(352);class p extends a.Component{constructor(){super(...arguments),this.state={elements:this.props.elements,open:!1,placeHolder:this.props.placeholder},this.abrir=t=>{this.setState({open:!this.state.open})},this.selectItem=t=>{let e;console.log("_________________________________________________________selectItem",this.state.elements,t.target.dataset),t.target.dataset.value||("Cuenta corriente"===t.target.dataset.ui_name&&(e="cuenta_corriente"),"Cuenta de ahorros"===t.target.dataset.ui_name&&(e="cuenta_ahorro"),"Dep\xf3sito electr\xf3nico"===t.target.dataset.ui_name&&(e="deposito_electronico"));const n={target:{name:this.props.name,value:t.target.dataset.value||e}};this.setState({placeHolder:t.target.dataset.ui_name}),this.props.actualizarEstado(n)}}componentDidMount(){if(this.props.selected&&this.props.elements){const t=this.props.elements.findIndex((t=>t.value===this.props.selected));this.setState({placeHolder:this.props.elements[t].ui_name})}}render(){const{label:t,active:e}=this.props;return Object(d.jsx)(l,{elements:this.state.elements,open:this.state.open,abrir:this.abrir,placeholder:this.state.placeHolder,selectItem:this.selectItem,label:t,active:e})}}var u=p,h=n(405),m=n(389),b=n(15),j=n(98),f=n(27),x=n(99),g=n(11),w=n(28),_=n(351),O=n(363);class y extends a.Component{constructor(){super(...arguments),this.state={banks:null,cities:null,loader:!1},this.initComponent=async()=>{const{withdraw_providers_list:t}=this.props;this.setState({loader:!0});let e=t;if(!e||e&&!e.length)return Object(w.a)("?message=Vuelve a iniciar session");let n=e&&e[0].info_needed.bank_name,a=await Object(g.serveBankOrCityList)(n,"bank");console.log("============================================================== serve_bank_list",a);let i=await Object(g.addIndexToRootObject)(e&&e[0].info_needed.id_type),s=await Object(g.objectToArray)(i),c=await Object(g.addIndexToRootObject)(e&&e[0].info_needed.account_type),r=await Object(g.objectToArray)(c);console.log("|||||||||||||||||||||||||| \xb0\xb0\xb0\xb0\xb0\xb0\xb0\xb0\xb0\xb0\xb0\xb0\xb0\xb0\xb0\xb0\xb0\xb0\xb0\xb0\xb0\xb0\xb0\xb0\xb0\xb0\xb0\xb0\xb0\xb0| account_type_list |",r),await this.props.actualizarEstado({target:{name:"currency",value:e[0].currency}}),this.setState({banks:a,id_types:s,account_types:r,loader:!1})},this.update_city=t=>{let e={target:{name:"city",value:t.code}};this.props.actualizarEstado(e)}}componentDidMount(){this.initComponent(),this.props.actualizarEstado({target:{name:"provider_type",value:"bank"}})}componentDidUpdate(t){if(t!==this.props&&this.props.short_name&&this.props.withdraw_providers_list&&this.props.withdraw_providers_list[0]){const t={...this.props.withdraw_providers_list&&this.props.withdraw_providers_list[0].info_needed},e=this.props.short_name,n=t.bank_name[e]&&t.bank_name[e].compatible_account_types.map((e=>t.account_type[e]));console.log("===================================0 accountTypes ",n,t),n&&this.setState({account_types:n})}}render(){const{statusInput:t,handleKeyPress:e,short_name:n,siguiente:i,update_control_form:c,handleSubmit:l,account_number:p,account_type:j,bank_name:f,step:x,search:g,name:w,actualizarEstado:_,final_step_create_account:O,idAccept:y}=this.props,{banks:v,loader:k}=this.state;return console.log("|||||| step::",x),Object(d.jsxs)(a.Fragment,{children:[2===x&&Object(d.jsxs)("div",{className:"nBstep1 fuente",children:[Object(d.jsxs)("div",{className:"titleNewAccount",children:[Object(d.jsx)("img",{src:"".concat(Object(b.b)("assets"),"bank.png"),alt:"",height:"70"}),Object(d.jsxs)("p",{children:["Genial ",Object(d.jsx)("strong",{children:w})]})]}),Object(d.jsxs)("p",{className:"nBtextInit fuente",children:[" ","Al a\xf1adir una cuenta bancaria para realizar tus retiros de moneda local por primera vez, el tiempo promedio que tarda para inscribirse son 2 horas h\xe1biles a partir del momento en que se realiz\xf3 el proceso. Tener tu cuenta inscrita previamente puede hacer que tus retiros en moneda local se ejecuten m\xe1s r\xe1pido."]}),Object(d.jsx)("div",{id:"bankChooseButton",children:Object(d.jsx)(r.b,{_id:y,type:"primary",active:!0,siguiente:i,children:"OK, comencemos"})})]}),3===x&&Object(d.jsx)("div",{className:"step1",children:Object(d.jsxs)("form",{onSubmit:l,className:"NWithdrawAccountFlow",children:[Object(d.jsxs)("div",{className:"titleAccountFlow",children:[Object(d.jsx)("h1",{className:"DLtitles2",children:"Elige la entidad bancaria"}),Object(d.jsx)("p",{className:"fuente DLstitles",children:"de la cuenta que quieres agregar:"})]}),k?Object(d.jsx)(s.default,{label:"Cargando..."}):Object(d.jsx)(h.a,{type:"banks",autoFocus:!0,items:v,format:"svg",itemSelect:f,actualizarEstado:_,handleSubmit:l,update_control_form:c}),Object(d.jsx)("div",{id:"bankChooseButton",children:Object(d.jsx)(r.i,{id:y,preventSubmit:!0,label:"Continuar",type:"primary",active:1===g.length&&""!==f})})]})}),(4===x||5===x)&&Object(d.jsx)("div",{className:"step2",children:Object(d.jsxs)("div",{id:"contMsg",className:"contMsg",style:{gridTemplateRows:4===x?"auto 1fr 15vh":x>=5?"auto 1fr":""},children:[Object(d.jsx)("div",{className:"nBcontBank",children:Object(d.jsx)(m.default,{format:"svg",actives:!0,type:"bank",code:n,name:f})}),4===x&&Object(d.jsxs)("form",{className:"formAccountFlow",onSubmit:async t=>{await l(t),O(t)},children:[Object(d.jsxs)("div",{className:"contForminputsAccount",children:[Object(d.jsx)(u,{placeholder:"Tipo de cuenta",elements:this.state.account_types,label:"Elige el tipo de cuenta:",actualizarEstado:_,name:"account_type",selected:j,active:j&&p}),Object(d.jsx)(o.c,{type:"text",label:"Escribe el n\xfamero de cuenta",placeholder:"Ej. 1123321...",name:"account_number",autoFocus:!0,actualizarEstado:_,active:j&&p,value:p,handleKeyPress:e,status:t})]}),Object(d.jsx)("div",{id:"bankChooseButton",className:"contbuttonAccount",children:Object(d.jsx)(r.i,{id:y,preventSubmit:!0,label:"Continuar",type:"primary",active:j&&p})})]})]})})]})}}const v=Object(_.a)([t=>t.modelData.user.withdrawProviders,t=>t.modelData.withdrawProviders],((t,e)=>{const n=[];return t&&t.map((t=>"bank"===e[t].provider_type&&n.push(e[t]))),n}));var k=Object(j.b)((function(t){const{user:e}=t.modelData;return{withdraw_providers_list:v(t),user:e,current:t.form.current}}),(function(t){return{action:Object(f.bindActionCreators)(x.a,t)}}))(Object(O.a)(y));n(467),n(170);const N=Object(i.a)((()=>n.e(57).then(n.bind(null,507)))),S=Object(i.a)((()=>Promise.all([n.e(2),n.e(1),n.e(3),n.e(10),n.e(38)]).then(n.bind(null,506)))),C=Object(i.a)((()=>n.e(94).then(n.bind(null,675))));var A=t=>{const{siguiente:e,step:n,select_withdraw_way:i,withdraw_way:r,ticket:o,finalizar:l,eventName:p}=t;return Object(d.jsxs)("div",{className:"containerFormWallet",children:[1===n&&Object(d.jsx)(a.Fragment,{children:Object(d.jsx)(N,{title:"En esta cuenta deseas",subtitle:"efectuar los retiros por:",items:c.g,select_method:i,item_active:r,siguiente:e,withdraw:!0})}),n>=2&&"bankaccount"===r&&Object(d.jsx)(k,{eventName:p,...t}),n>=2&&"cash"===r&&Object(d.jsx)(C,{...t}),6===n&&Object(d.jsx)(a.Fragment,{children:o?Object(d.jsx)(S,{finishAction:l,ticket:o,ticket_type:"withdraw_form"}):Object(d.jsx)(s.default,{label:"Creando Cuenta de retiro"})})]})},I=n(354),L=n(348);class F extends a.Component{constructor(){super(...arguments),this.state={name:this.props.user.name,surname:this.props.user.surname,bank_name:this.props.form_bank.bank_name,account_type:this.props.form_bank.account_type,account_number:this.props.form_bank.account_number,short_name:this.props.form_bank.short_name,id_type:null,statusInput:"",withdraw_way:"bankaccount",provider_type:"",id_number:"",city:"medellin",email:this.props.user.email,currency:null,ticket:null},this.update_control_form=t=>{switch((!t||this.props.search.length>1)&&this.props.action.UpdateFormControl("bank",!1),this.props.step){case 3:1===this.props.search.length&&this.props.action.UpdateFormControl("bank",!0);break;case 5:""!==this.state.account_type&&""!==this.state.account_number&&this.props.action.UpdateFormControl("bank",!0);break;default:console.log("")}},this.select_withdraw_way=async(t,e)=>{await this.setState({withdraw_way:e,provider_type:"bankaccount"===e?"bank":""}),this.update_form()},this.handleKeyPress=t=>{var e=window.event?window.event.keyCode:t.which;return e<48||e>57?(this.setState({statusInput:"Solo se aceptan n\xfameros en este campo"}),!0):(this.setState({statusInput:""}),/\d/.test(String.fromCharCode(e)))},this.handleSubmit=async t=>{t.preventDefault(),this.actualizarEstado(t),await this.siguiente()},this.final_step_create_account=async t=>{await this.handleSubmit(t),this.crearCuenta()},this.crearCuenta=async()=>{const{withdraw_accounts:t}=this.props;if(this.props.action.isAppLoading(!0),t){if(Object.values(t).filter((t=>t.info.bank_name===this.state.bank_name&&t.info.account_number===this.state.account_number)).length)return this.props.action.ReduceStep(this.props.current,2),this.props.toastMessage("La cuenta de retiro ya existe","error"),this.props.action.isAppLoading(!1)}let e=await this.props.coinsendaServices.addNewWithdrawAccount(this.state);return e?(await this.props.coinsendaServices.fetchWithdrawAccounts(),this.props.withdraw_flow?this.props.withdraw_flow_action(e):(await this.setState({ticket:e}),this.props.action.success_sound(),this.update_form(),this.props.action.isAppLoading(!1),void this.props.action.ModalView("modalSuccess"))):(this.props.action.ReduceStep(this.props.current,2),this.props.toastMessage("No es posible crear la cuenta ahora.","error"),this.props.action.isAppLoading(!1))},this.actualizarEstado=async t=>{t.persist&&t.persist(),t.target&&t.target.short_name&&this.setState({short_name:t.target.short_name});const e=t.target.name;let n=t.target.value;console.log("|||||||||||||||||||||||||||||||||||||||||||  actualizarEstado  ===>",t.target,this.state),window.requestAnimationFrame((()=>{let t=!1,a=50;if(e&&"id_number"===e)if(t=!0,"pasaporte"===this.state.id_type){if(n&&!/^[a-zA-Z0-9]{1,20}$/g.test(n))return}else if("nit"===this.state.id_type)a=11,n=n.replace(/(\d{9})(\d{1})/,"$1-$2");else if(n&&!/^[0-9]{1,12}$/g.test(n))return;e&&"account_number"===e&&(n=n.replace(/[^0-9]/g,""),t=!0,a=20),"nequi"===this.state.short_name&&(a=10),"bancolombia"===this.state.bank_name&&(a=11),t&&n.length>a&&(n=n.slice(0,a)),e&&this.setState({[e]:n}),this.update_control_form(n),this.update_form()}))},this.update_form=()=>{this.props.action.UpdateForm("bank",this.state)},this.siguiente=async()=>(1===this.props.step&&await this.cleanSearch(),this.props.action.IncreaseStep(this.props.current)),this.finalizar=t=>{this.props.action.CleanForm("bank"),this.props.action.CleanForm("withdraw")},this.cleanSearch=()=>{this.setState({bank_name:""}),this.props.action.UpdateFormControl("bank",!1),this.props.action.cleanSearch("bank")}}componentDidMount(){setTimeout((()=>{this.props.history.push("?form=wa_terms")}),100);const{withdraw_flow:t}=this.props;if(t)return this.props.action.CurrentForm("withdraw");this.props.action.CurrentForm("bank")}componentDidUpdate(t){if(t.step===this.props.step)return;let e;2===this.props.step&&(e="?form=wa_terms"),3===this.props.step&&(e="?form=wa_choose_bank"),4===this.props.step&&(e="?form=wa_enter_bank_details"),5===this.props.step&&(e="?form=wa_id_type"),6===this.props.step&&(e="?form=wa_opening_city"),7===this.props.step&&(e="?form=wa_success"),setTimeout((()=>{this.props.history.push(e)}),100)}render(){const{step:t,search:e,withdraw_flow:n,withdraw_flow_action:a,eventName:i="onkeyup"}=this.props;return Object(d.jsx)(A,{withdraw_flow:n,withdraw_flow_action:a,statusInput:this.state.statusInput,handleKeyPress:this.handleKeyPress,crearCuenta:this.crearCuenta,siguiente:this.siguiente,actualizarEstado:this.actualizarEstado,handleSubmit:this.handleSubmit,update_control_form:this.update_control_form,buttonActive:this.props.buttonActive,loader:this.props.loader,finalizar:this.finalizar,step:t,select_withdraw_way:this.select_withdraw_way,cleanSearch:this.cleanSearch,initPrevKeyActions:this.props.initPrevKeyActions,search:e,final_step_create_account:this.final_step_create_account,eventName:i,...this.state})}}const z=Object(_.a)([t=>t.modelData.user.withdrawProviders,t=>t.modelData.withdrawProviders],((t,e)=>t&&t.map((t=>e[t]))));e.default=Object(I.h)(Object(j.b)((function(t,e){const{withdraw_flow:n}=e,{user:a,withdraw_accounts:i}=t.modelData;return{search:t.form.search_bank,withdrawProviders:z(t),form_bank:t.form.form_bank,buttonActive:t.form.form_control_bank,loader:t.isLoading.loader,current:t.form.current,step:n?t.form.form_withdraw.step:t.form.form_bank.step,user:a,withdraw_accounts:i}}),(function(t){return{action:Object(f.bindActionCreators)(x.a,t)}}))(Object(L.a)(F)))},638:function(t,e,n){},639:function(t,e,n){},640:function(t,e,n){},641:function(t,e,n){},642:function(t,e,n){},682:function(t,e,n){"use strict";n.r(e);var a=n(2),i=n(98),s=n(27),c=n(99),r=(n(638),n(14));class o extends a.Component{constructor(){super(...arguments),this.state={behavior:this.props.behavior},this.update_view=t=>{this.setState({behavior:t}),setTimeout((()=>{this.props.action.FlowAnimationLayoutAction(""),this.setState({behavior:""})}),300)}}componentWillReceiveProps(t){let{behavior:e}=t;if(e===this.state.behavior)return!1;this.update_view(e)}componentWillUnmount(){this.props.action.FlowAnimationOff()}render(){const{children:t}=this.props,{behavior:e}=this.state;return Object(r.jsx)("section",{className:"FlowAnimationLayout ".concat(e),children:t})}}var d=Object(i.b)((function(t,e){return{behavior:t.ui.flowAnimationLayout}}),(function(t){return{action:Object(s.bindActionCreators)(c.a,t)}}))(o),l=n(465),p=n(53),u=n(466),h=n(330);n(639);class m extends a.Component{componentDidMount(){}render(){const{limit:t,orders:e}=this.props;return Object(r.jsxs)("section",{className:"LimitTermometer",children:[e>1&&Object(r.jsx)("div",{className:"flag",title:"Cantidad de ordenes",children:Object(r.jsxs)("div",{className:"contFlag",children:[Object(r.jsx)(h.default,{icon:"tag",size:35,color:"#ff1100"}),Object(r.jsx)("p",{className:"fuentePrin",children:e})]})}),Object(r.jsx)(j,{amount:t})]})}}var b=m;const j=t=>{const{amount:e}=t;return Object(r.jsx)("div",{className:"OLlimit",style:{height:"".concat(e>100?"100":e,"%")},children:Object(r.jsx)("div",{className:"OrderLimit"})})};var f=n(11),x=n(358),g=n(341);n(640);const w=Object(p.a)((()=>Promise.resolve().then(n.bind(null,330))));var _=function(t){const[e]=Object(a.useState)(0),[n,i]=Object(a.useState)(null);Object(a.useEffect)((()=>{s()}),[t]);const s=()=>{const{preferential_accounts:e,account:n}=t;if(!e)return!1;let a=e.find((t=>t===n.id));i(a)},{account:c,addElement:o,action:d,amount:l}=t,p=d||(()=>{const{account:e,amount:n}=t,{provider_max_amount:a}=e;let i=100*n/a,s=100*n/a>100,c={withdraw_provider:e.withdraw_provider,withdraw_account:e.id};t.new_withdraw_order(c,i,s)}),[h]=Object(g.b)({...t,uniqid:t.account&&t.account.id},{suprKeyAction:()=>!1,enterKeyAction:p},!1);let m=t.account&&t.account.currency_type;const j={icon:o?"add_account":c&&c.bank_name.value,size:50,color:"gray"};let _,O=!o&&(n===c.id&&"preferential"),y=parseFloat(l);c&&c.cost&&c.provider_min_amount&&(_=parseFloat(c.cost)+parseFloat(c.provider_min_amount));let v=y<_?"need_more":y>=_&&"satisfy";return Object(r.jsxs)("div",{onClick:"need_more"===v?()=>Object(f.mensaje)("Fondos insuficientes","error"):p,className:"AccountItemList ".concat(h&&"item-selected"," ").concat(O," ").concat(o?"addElement":"noAddElement"," ").concat(v),children:[Object(r.jsx)("div",{className:"backgroundAccount ".concat(v),children:Object(r.jsx)(x.f,{"aria-label":"itemFromList",name:"itemFromList",autoComplete:"off",id:t.focusedId})}),Object(r.jsx)("div",{className:"limitComp ".concat(v),style:{display:o?"none":"block"},children:Object(r.jsx)(b,{amount:e,max_amount:7,limit:o?null:c.percent,orders:o?null:c.orders})}),Object(r.jsx)("div",{className:"contLogoAIL",children:Object(r.jsxs)("div",{className:"logoAIL ".concat(o?"addElement":"noAddElement"," ").concat(v),children:[Object(r.jsx)("div",{className:"backLogoAil ".concat(m," ").concat(v)}),Object(r.jsx)(w,{...j})]})}),o?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("p",{className:"AILadd fuente",children:"A\xf1adir nueva cuenta de retiro"}),Object(r.jsx)("div",{className:"poisonEve",children:Object(r.jsx)(w,{icon:"withdraw2",size:60,color:"gray"})})]}):Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("div",{className:"infoAIL",children:[Object(r.jsxs)("div",{className:"infoAILItem ".concat(O," ").concat(v),children:[O&&Object(r.jsx)(w,{icon:O&&O,size:18}),Object(r.jsxs)("p",{className:"infoAILItem name ".concat(O," ").concat(v),children:[c.bank_name.ui_name,c.cost?Object(r.jsxs)("span",{className:"costStyle fuente2  ".concat(v),children:["| ~$",Object(f.number_format)(c.cost)]}):""]})]}),Object(r.jsx)("p",{className:"infoAILItem account_type ".concat(v),children:"need_more"===v?"Fondos insuficientes":c.account_type.ui_name}),Object(r.jsxs)("div",{className:"AILAnumber",children:[Object(r.jsx)(w,{icon:"root",size:16,color:"#5999f1"}),Object(r.jsx)("span",{className:"infoAILItem account_number fuente2 ".concat(v),children:"need_more"===v?"Cantidad minima: $".concat(Object(f.number_format)(_)):"No.: ".concat(c.account_number.value)})]})]}),Object(r.jsx)("div",{className:"optionsALI ".concat(n," ").concat(v),children:Object(r.jsxs)("div",{className:"controlDespegable",children:[Object(r.jsx)("div",{className:"forroDesp ".concat(v),children:Object(r.jsx)("div",{className:"contDesp",children:Object(r.jsx)(w,{icon:"arrow_right",size:25,color:"".concat("need_more"===v?"#d42215":"#38ef7d")})})}),Object(r.jsx)("div",{className:"contActiveItem",children:Object(r.jsx)(u.a,{Anim2:!0,color:"".concat("need_more"===v?"red":"green")})})]})})]})]})},O=n(332),y=(n(641),n(351));const v=Object(y.a)((t=>t.modelData.withdraw_accounts),(t=>t.modelData.user),((t,e)=>e),((t,e,n)=>{const{currency_type:a,inherit_account_list:i}=n;let s=i;return s||e.withdraw_accounts.map((e=>!(t[e].currency_type!==a||!t[e].visible)&&s.push(t[e]))),s}));var k=Object(i.b)((function(t,e){return{withdraw_accounts:v(t,e)}}),(function(t){return{action:Object(s.bindActionCreators)(c.a,t)}}))((function(t){const[e,n]=Object(a.useState)(null),[i,s]=Object(a.useState)(),[c]=Object(g.a)({items:e,loader:!1,uniqueIdForElement:"withdrawAccountItem",modalRestriction:!1,next:40,prev:38,default:1,originalLength:!0});Object(a.useEffect)((()=>{d()}),[]);const o=t=>{let e=t/100,n=2;for(let a=0;a<n;a++){if(e<=1)return 1;if(e<=n)return n;n++}},d=async()=>{const{withdrawProviders:e,withdraw_accounts:a,amount:i}=t;if(!e&&!i)return!1;let c=await Object(f.withdrawProvidersByType)(e),r=await a.map((t=>{let e=c[t.provider_type].provider.max_amount,n=100*i/e;return{...t,orders:o(parseInt(n)),percent:parseInt(n),limit:parseFloat(i)>=parseFloat(c[t.provider_type].provider.max_amount)&&!0}})),d=[];if(await e.map((async t=>{if("fiat"!==t.currency_type)return!1;let e=await Object(f.matchItem)(r,{primary:t.provider.name},"provider_name");e&&e.length>0&&d.push(...e)})),d.length>0){let t=[...d];await r.map((async e=>{await Object(f.matchItem)(d,{primary:e.id},"id")||t.push(e)}));let e=await d.map((t=>t.id));return n(t),void s(e)}n(r)};return console.log("|||||||||||||| withdrawAccounts ===> ",e),Object(r.jsxs)("section",{className:"WithdrawAccountList",children:[Object(r.jsx)("div",{className:"seccionPrinWA",children:Object(r.jsx)(_,{setCurrentSelection:c,number:0,focusedId:"withdrawAccountItem".concat(0),action:()=>{const{withdraw_flow:e,new_account_method:n}=t;if(e)return n()},addElement:!0})}),Object(r.jsx)("div",{className:"listWA",children:e?e.map(((e,n)=>Object(r.jsx)(_,{setCurrentSelection:c,number:n+1,focusedId:"withdrawAccountItem".concat(n+1),amount:t.amount,account:e,new_withdraw_order:t.new_withdraw_order,preferential_accounts:i},e.id))):Object(r.jsx)(O.SimpleLoader,{})})]})})),N=n(509),S=n(334),C=n(506),A=n(398),I=n(348),L=(n(642),n(363));class F extends a.Component{constructor(){super(...arguments),this.state={amount:"",withdrawProviders:null,need_new_acount:null,show_list_accounts:!1,finish_step:!1,ticket:null,ticket_label_loader:"Creando orden de retiro",color_loader:"blue",new_order:null,addNotification:!1,min_amount:0,provider_type:"bank",withdraw_account_list_update:[],twoFaToken:null},this.updateTimes=0,this.init_config=()=>{const{currency_type:t,withdrawProviders:e,have_withdraw_accounts:n}=this.props;n||this.setState({need_new_acount:!0});let a=[];if(e&&e.map((e=>!(e.currency_type!==t||!e.enabled)&&a.push(e))),a.length<1)return!1;let i=[];"bank"===this.state.provider_type&&this.props.withdraw_account_list&&(i=this.get_cost_struct(a)),this.setState({withdraw_account_list_update:i}),this.setState({withdrawProviders:a,min_amount:parseInt(a[0].provider.min_amount)})},this.get_cost_struct=(t,e)=>{let n=Object(f.withdrawProvidersByType)(t||this.props.withdrawProviders),a=[],i=e||this.props.withdraw_account_list;return i&&i.map((t=>{if("crypto"===t.currency_type)return!1;let e,i=t.provider_type;e=n[i].provider&&n[i].provider.name===t.provider_name?"same_bank":"pp";let s={...t,cost_struct:n[i].provider.costs[e],cost:n[i].provider.costs[e]&&n[i].provider.costs[e].fixed};return a.push(s)})),a},this.new_account_and_withdraw=async t=>{console.log("=======> new_account",t);const{withdrawProviders:e,form_withdraw:n}=this.props;let a=await Object(f.withdrawProvidersByType)(e);const{provider_type:i}=t,{amount:s}=n,{min_amount:c}=this.state;let r=await this.props.coinsendaServices.fetchWithdrawAccounts(),o=this.get_cost_struct(null,r);this.setState({withdraw_account_list_update:o});let d=await Object(f.matchItem)(o,{primary:t.id},"id");console.log("=======> new account_update",d);let l=parseFloat(c)+parseFloat(d[0].cost);if(parseFloat(s)<l)return setTimeout((async()=>{this.props.action.addNotification("withdraw_accounts",{account_id:t.id},1),this.props.toastMessage("Nueva cuenta de retiro creada","success"),this.props.action.CleanForm("bank")}),500),await this.setState({show_list_accounts:!1,need_new_acount:null}),await this.volver(1),await this.props.action.isAppLoading(!1),this.props.toastMessage("Minimo de retiro por esta cuenta es de: $".concat(Object(f.number_format)(l)),"error");await this.setState({addNotification:!0}),await this.new_withdraw_order({withdraw_account:t.id,withdraw_provider:a[i].id})},this.setTowFaToken=async t=>{this.setState({twoFaToken:t}),this.props.action.renderModal(null);const{state_data:e,limit:n,limit_supered:a}=this.state;this.new_withdraw_order(e,n,a)},this.new_withdraw_order=async(t,e,n)=>{if(this.props.user.security_center.authenticator.withdraw&&!this.state.twoFaToken)return this.setState({state_data:t,limit:e,limit_supered:n}),this.props.action.renderModal((()=>Object(r.jsx)(A.a,{cancelAction:()=>this.close2FaModal(),isWithdraw2fa:!0,callback:this.setTowFaToken})));this.props.action.isAppLoading(!0),await this.setState({finish_step:!n,limit_supered_component:!!n,need_new_acount:!1}),this.props.action.FlowAnimationLayoutAction("nextV","next","withdraw");const{withdraw_account:a,withdraw_provider:i}=t,{amount:s}=this.props.form_withdraw,{account_id:c}=this.props;await this.props.action.UpdateForm("withdraw",{withdraw_account:a,withdraw_provider:i});let o=await this.props.coinsendaServices.addWithdrawOrder({data:{amount:s,account_id:c,withdraw_provider_id:i,withdraw_account_id:a,country:this.props.user.country}},this.state.twoFaToken);if(!o)return this.setState({finish_step:!1,limit_supered_component:!1,need_new_acount:!0,twoFaToken:null}),this.props.action.FlowAnimationLayoutAction("backV","back","withdraw",1),this.props.action.isAppLoading(!1),this.handleError("La orden no ha podido ser creada");const{data:d}=o;return this.setState({new_order:d}),this.props.action.isAppLoading(!1),this.create_order(o)},this.new_acount=async()=>{await this.setState({need_new_acount:!0,finish_step:!1}),this.siguiente()},this.updateFormDebounced=Object(f.debounce)(this.props.action.UpdateForm,100),this.updateAmountOnState=t=>{this.setState({amount:t},(()=>{this.updateFormDebounced("withdraw",{amount:t})}))},this.create_order=async t=>{let{data:e}=t;this.props.action.success_sound(),await this.props.action.ModalView("modalSuccess"),this.setState({ticket:e})},this.confirmar=async()=>{await this.setState({ticket:null,color_loader:"white",ticket_label_loader:"Confirmando orden de retiro"});let t=await this.props.coinsendaServices.addUpdateWithdraw(this.state.new_order.id,"confirmed");if(!t||465===t)return this.setState({finish_step:!1,limit_supered_component:!1,need_new_acount:!0}),this.props.action.ModalView("modalView"),this.props.action.FlowAnimationLayoutAction("backV","back","withdraw",1),this.props.action.isAppLoading(!1),this.handleError("La orden no ha podido ser confirmada");const{new_order:e}=this.state;await this.props.action.toggleModal(),this.props.action.CleanForm("deposit"),this.props.action.CleanForm("withdraw"),this.props.action.CleanForm("bank"),this.state.addNotification&&setTimeout((async()=>{this.props.action.addNotification("withdraw_accounts",{account_id:e.withdraw_account_id},1),this.props.toastMessage("Nueva cuenta de retiro creada","success"),await this.setState({addNotification:!1})}),2e3),setTimeout((async()=>{await this.props.coinsendaServices.manageBalance(this.props.account_id,"reduce",e.amount)}),1e3)},this.handleError=t=>this.props.toastMessage(t,"error"),this.siguiente=t=>{const{step:e}=this.props,{need_new_acount:n}=this.state;return 1!==e||n?this.props.action.FlowAnimationLayoutAction("nextV","next","withdraw"):this.setState({show_list_accounts:!0})},this.volver=t=>this.props.action.FlowAnimationLayoutAction("backV","back","withdraw",t),this.backAmount=()=>this.setState({show_list_accounts:!1,need_new_acount:!1}),this.cancelWithdrawOrder=async()=>{await this.props.action.ModalView("modalView"),this.setState({ticket_label_loader:"Cancelando orden",ticket:null}),this.props.action.isAppLoading(!0),await this.volver(1),this.props.action.isAppLoading(!1),this.setState({ticket_label_loader:"Creando orden de retiro",show_list_accounts:!0})}}componentDidMount(){this.props.action.CurrentForm("withdraw"),this.init_config(),this.props.history.push("?form=withdraw_amount")}componentWillUnmount(){this.props.history.push(window.location.pathname)}componentDidUpdate(t){let e;if(1===t.step&&this.state.show_list_accounts&&this.updateTimes<1)return e="?form=withdraw_select_account",this.updateTimes++,this.props.history.push(e);1===t.step&&!this.state.show_list_accounts&&this.updateTimes>0&&(e="?form=withdraw_amount",this.updateTimes--,this.props.history.push(e)),t.step!==this.props.step&&(this.props.step>=2&&(this.updateTimes--,e="?form=withdraw_order_created"),this.props.history.push(e))}close2FaModal(){this.state.need_new_acount&&(this.setState({need_new_acount:!1,show_list_accounts:!0}),this.props.action.isAppLoading(!1),this.volver(1))}render(){const{currency:t,available:e,step:n,idAccept:i}=this.props,{amount:s,withdrawProviders:c,need_new_acount:o,show_list_accounts:p,finish_step:u,ticket:h,ticket_label_loader:m,color_loader:b,min_amount:j,withdraw_account_list_update:f}=this.state;return console.log("|||||||||||||||||||| show_list_accounts   ======>  ",p,c),Object(r.jsx)("section",{className:"WFC DepositLayout",children:Object(r.jsxs)(d,{children:[1===n&&!p&&Object(r.jsx)(l.a,{currency:t,mainCtaId:i,amount:s,updateAmountOnState:this.updateAmountOnState,operation_type:"withdraw",available:e,handleSubmit:this.siguiente,min_amount:j}),1===n&&p&&(c?Object(r.jsxs)("div",{className:"WA",children:[Object(r.jsx)(S.c,{color:"gray",volver:this.backAmount,children:window.innerWidth>768&&"volver"}),Object(r.jsxs)("div",{className:"DLcontain",children:[Object(r.jsx)("p",{className:"fuente DLtitle2",children:"Elige la cuenta "}),Object(r.jsx)("p",{className:"fuente DLstitle",children:"que recibir\xe1 los fondos:"})]}),Object(r.jsx)(k,{currency_type:"fiat",withdraw_flow:!0,new_withdraw_order:this.new_withdraw_order,new_account_method:this.new_acount,back:this.volver,amount:s,withdrawProviders:c,inherit_account_list:f})]}):Object(r.jsx)(O.SimpleLoader,{label:"Cargando"})),n>=2&&o&&!u&&Object(r.jsx)(N.default,{withdraw_flow:!0,eventName:"onkeydown",initPrevKeyActions:()=>this.keyActions(),withdraw_flow_action:this.new_account_and_withdraw,toastMessage:this.props.toastMessage}),n>=2&&!o&&u&&Object(r.jsx)(a.Fragment,{children:h?Object(r.jsx)(C.default,{finishAction:this.confirmar,ticket:h,cta_primary_label:"Confirmar",cta_secondary:!0,cta_secondary_label:"Cancelar",cta_secondary_action:this.cancelWithdrawOrder}):Object(r.jsx)(O.SimpleLoader,{label:m,color:b})})]})})}}const z=Object(y.a)([t=>t.modelData.user.withdrawProviders,t=>t.modelData.withdrawProviders],((t,e)=>t?t.map((t=>e[t])):[])),E=Object(y.a)([t=>t.modelData.user.withdraw_accounts,t=>t.modelData.withdraw_accounts],((t,e)=>{const n=[];return t&&t.map((t=>!("fiat"!==e[t].currency_type||!e[t].visible)&&n.push(e[t]))),{withdraw_account_list:n.length>0&&n,have_withdraw_accounts:n.length>0}}));e.default=Object(i.b)((function(t,e){const{params:n}=e.match,{withdraw_accounts:a,user:i,withdrawProviders:s,wallets:c,withdraws:r,balances:o}=t.modelData,d=c[n.account_id],{withdraw_provider:l,withdraw_account:p}=t.form.form_withdraw;return{withdraw_order:{account_from:c[n.account_id],withdraw_account:p&&a[p],withdraw_provider:l&&s[l]},account_id:n.account_id,withdraws:r,currency_type:d&&d.currency_type,user:i,country:i.country,currency:d&&d.currency.currency,available:d&&o&&o[d.id].available,current:t.form.current,step:t.form.form_withdraw.step,form_withdraw:t.form.form_withdraw,withdrawProviders:z(t),wallets:c,...E(t)}}),(function(t){return{action:Object(s.bindActionCreators)(c.a,t)}}))(Object(I.a)(Object(L.a)(F)))}}]);
//# sourceMappingURL=30.818d85c3.chunk.js.map