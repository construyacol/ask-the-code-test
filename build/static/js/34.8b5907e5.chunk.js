(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{362:function(e,t,a){"use strict";a.d(t,"a",function(){return i}),a.d(t,"b",function(){return l});var n=a(44),c=a(1),r=a(5),o=a(110),u={modalRestriction:!0,prev:37,next:39,default:0,originalLength:!1};function i(e){var t=Object(c.a)({},u,e),a=t.modalRestriction,i=t.uniqueIdForElement,l=t.loader,s=t.items,d=Object(r.useState)(-1),m=Object(n.a)(d,2),f=m[0],p=m[1],b=a&&Object(o.d)(function(e){return e.form.isModalVisible}),w=a&&Object(o.d)(function(e){return e.ui.modal.render});Object(r.useEffect)(function(){if(s&&s.length>0&&!l){if(b)return;var e=document.getElementById("".concat(i).concat(t.default));e&&e.focus()}},[s,l]),Object(r.useEffect)(function(){a&&(w||b)&&p(-1)},[w,b]),Object(r.useEffect)(function(){return window.innerWidth<900?(window.KEY_CODES_META=null,window.onkeydown=null,window.onkeyup=null,window.onkeypress=null,function(){return null}):(window.onkeydown=function(e){if(!w&&!b&&s&&s.length>0){if(b)return;var a=t.originalLength?s.length:s.length-1,n=f<0,c=0,r=null;e.keyCode===t.prev&&(c=n?a:f-1,r=document.getElementById("".concat(i).concat(Math.max(0,c)))),e.keyCode===t.next&&(c=n?0:f+1,r=document.getElementById("".concat(i).concat(Math.min(a,c)))),13===e.keyCode&&(c=n?0:f,r=document.getElementById("".concat(i).concat(Math.min(a,c)))),r&&r.focus()}},function(){window.onkeydown=!1})},[window.onkeydown,b,s,l,w,f]);return[function(e){f!==e&&p(e)}]}function l(e,t){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],c=t.suprKeyAction,u=t.enterKeyAction,i=Object(r.useState)(!1),l=Object(n.a)(i,2),s=l[0],d=l[1],m=a&&Object(o.d)(function(e){return e.form.isModalVisible}),f=a&&Object(o.d)(function(e){return e.ui.modal.render});Object(r.useEffect)(function(){if(window.innerWidth<900)return window.KEY_CODES_META=null,window.onkeydown=null,window.onkeyup=null,window.onkeypress=null,function(){return null};var t=document.getElementById(e.focusedId);t&&(t.onfocus=function(){d(!0),e.setCurrentSelection(e.number)},t.onblur=function(){d(!1)},t.onkeydown=function(e){t.blur(),m||f||(46===e.keyCode&&(e.stopPropagation(),c(function(){return t.focus()})),13===e.keyCode&&(u(),e.stopPropagation(),e.preventDefault()))})},[m,e.uniqid]);return[s,function(){var t=document.getElementById(e.focusedId);t&&t.focus()}]}},467:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(7),o=a(1),u=a(2),i=a(44),l=a(5),s=a.n(l),d=a(64),m=a(472),f=a.n(m),p=a(110),b=a(355),w=a(354),y=a(362),E=a(36),h=a(111),O=a(80),v=a(82);a(473);var j=Object(p.b)(function(e,t){var a=e.modelData,n=a.balances,c=a.user,r=t.account_id;return{balance:n&&n[r],user:c,currency_type:e.modelData.wallets[r].currency_type,currency:e.modelData.wallets[r].currency}},function(e){return{action:Object(E.bindActionCreators)(h.a,e)}})(s.a.memo(function(e){var t=e.balance,a=e.currency,n=e.currency_type,r=Object(l.useState)("0"),o=Object(i.a)(r,2),d=o[0],m=o[1],f=Object(l.useState)(""),p=Object(i.a)(f,2),b=p[0],w=p[1],y=Object(l.useState)(""),E=Object(i.a)(y,2),h=E[0],j=E[1],x=Object(l.useRef)(t);Object(l.useEffect)(function(){x.current=t;var e=Object(O.c)(t.available,a);m(e.toFormat())},[]),Object(l.useEffect)(function(){t&&x.current&&JSON.stringify(t)!==JSON.stringify(x.current)&&(x.current=t,k(t))},[t]);var k=function(){var e=Object(u.a)(c.a.mark(function e(t){var n,r,o,u,i;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.lastAction,r=t.actionAmount,o=t.available,!r){e.next=9;break}return u=Object(O.c)(r,a),e.next=5,_("Out");case 5:return w(n),m(u.toFormat()),e.next=9,_("In");case 9:if(e.t0=r,!e.t0){e.next=13;break}return e.next=13,Object(v.a)(500);case 13:if(e.t1=r,!e.t1){e.next=17;break}return e.next=17,_("Out");case 17:if(i=Object(O.c)(o,a),w(""),m(i.toFormat()),e.t2=r,!e.t2){e.next=24;break}return e.next=24,_("In");case 24:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=Object(u.a)(c.a.mark(function e(t){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return j(t),e.next=3,Object(v.a)(250);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return s.a.createElement("div",{className:"BalanceComponent wallet"},s.a.createElement("p",{className:"fuente title balanceTitle"},"Balance "),s.a.createElement("div",{className:"displayCont itt ".concat(h)},s.a.createElement("p",{className:"textin fuente2 ".concat(b)},"reduce"===b?"-":"add"===b?"+":"","fiat"===n?"$".concat(d):d)))})),x=a(469),k=a(381),_=a(376),g=a(361),I=a(359),N=(a(474),Object(d.a)(function(){return Promise.resolve().then(a.bind(null,353))})),A=(t.default=Object(p.b)(function(e,t){var a=t.account,n=e.modelData,c=n.balances,r=n.wallets;return{currentFilter:e.ui.current_section.params.currentFilter,balances:c&&a&&c[a.id],specifiedWallet:a&&r[t.account.id]}})(Object(_.h)(function(e){if(e.loader||!e.account)return s.a.createElement(S,null);var t=Object(b.a)(),a=Object(i.a)(t,1)[0],n=Object(I.a)(),d=Object(g.a)(),m=Object(i.a)(d,1)[0],f=Object(l.useState)(),p=Object(i.a)(f,2),w=p[0],E=p[1],h=Object(l.useState)(),O=Object(i.a)(h,2),v=O[0],j=O[1],x=Object(l.useState)(!1),_=Object(i.a)(x,2),N=_[0],F=_[1],W=Object(l.useState)(""),T=Object(i.a)(W,2),B=T[0],L=T[1],D=e.account_type;Object(l.useEffect)(function(){F(B===e.account.id&&w)},[w,e.account.id]);var M=function(){var t=Object(u.a)(c.a.mark(function t(){var u,i,l;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return j(!0),t.next=3,a.countOfAccountTransactions(e.account.id);case 3:return u=t.sent,i=u.count,t.next=7,n.update_item_state(Object(r.a)({},e.account.id,Object(o.a)({},e.account,{count:i})),"wallets");case 7:if(!(i<1)){t.next=16;break}return t.next=10,a.getDepositByAccountId(e.account.id);case 10:if(l=t.sent,j(!1),!l||!l.length){t.next=15;break}return n.update_item_state(Object(r.a)({},e.account.id,Object(o.a)({},e.specifiedWallet,{count:1})),"wallets"),t.abrupt("return",e.history.push("/wallets/activity/".concat(e.account.id,"/deposits")));case 15:return t.abrupt("return",e.history.push("/wallets/deposit/".concat(e.account.id)));case 16:return t.abrupt("return",e.history.push("/wallets/activity/".concat(e.account.id,"/").concat(e.currentFilter?e.currentFilter:"deposits")));case 17:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),K=function(){var t=Object(u.a)(c.a.mark(function t(a){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("wallets"===a){t.next=4;break}if(!(e.account.used_counter>0)){t.next=3;break}return t.abrupt("return",e.history.push("/withdraw_accounts/activity/".concat(e.account.id,"/withdraws")));case 3:return t.abrupt("return");case 4:if("deleting"!==w&&"deleted"!==w){t.next=6;break}return t.abrupt("return");case 6:if(n.cleanNotificationItem(a,"account_id"),void 0!==e.account.count){t.next=9;break}return t.abrupt("return",M());case 9:if(!(e.account.count<1)){t.next=11;break}return t.abrupt("return",e.history.push("/wallets/deposit/".concat(e.account.id)));case 11:return t.abrupt("return",e.history.push("/wallets/activity/".concat(e.account.id,"/").concat(e.currentFilter?e.currentFilter:"deposits")));case 12:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),P=function(){var t=Object(u.a)(c.a.mark(function t(){var r,o,i,l,s;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(E("deleting"),L(e.account.id),!(r="wallets"===e.account_type)){t.next=13;break}if(!(e.balances.total>0)){t.next=7;break}return E(""),t.abrupt("return",m("Las cuentas con balance no pueden ser eliminadas","error"));case 7:return t.next=9,a.getDepositByAccountId(e.account.id,'"state":"confirmed"');case 9:if(!(o=t.sent)||!o.length){t.next=13;break}return E(""),t.abrupt("return",m("Las cuentas con depositos pendientes no pueden ser eliminadas","error"));case 13:if(i="Cuenta eliminada con \xe9xito",l=!0,s=!1,!r){t.next=22;break}return t.next=19,a.deleteWallet(e.account);case 19:s=t.sent,t.next=25;break;case 22:return t.next=24,a.deleteAccount(e.account.id);case 24:s=t.sent;case 25:if(404!==s&&465!==s&&s){t.next=30;break}return i="La cuenta no se ha podido eliminar",l=!1,E(""),t.abrupt("return",m(i,l?"success":"error"));case 30:E("deleted"),setTimeout(Object(u.a)(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=5;break}return e.next=3,a.getWalletsByUser();case 3:e.next=7;break;case 5:return e.next=7,a.fetchWithdrawAccounts();case 7:case"end":return e.stop()}},e)})),0),n.exit_sound(),m(i,l?"success":"error");case 34:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),R=function(e){n.confirmationModalToggle(),n.confirmationModalPayload({title:"Esto es importante, estas a punto de...",description:"Eliminar una cuenta, una vez hecho esto, no podr\xe1s recuperar los datos asociados a esta.",txtPrimary:"Eliminar",txtSecondary:"Cancelar",action:P,img:"deletewallet",cancelCallback:e})},z=Object(y.b)(Object(o.a)({},e,{uniqid:e.account.id}),{suprKeyAction:R,enterKeyAction:function(){return K(D)}}),J=Object(i.a)(z,1)[0],q={loaderAccount:v,handleAction:K,set_account_state:E,shouldHaveDeleteClassName:N&&"deleted"===w,delete_account:R,account:e.account,balances:e.balances,actions:n,account_type:D,focusedId:e.focusedId,isStatic:e.isStatic,history:e.history},H="wallets"===D;return s.a.createElement(k.b,{className:"AccountLayout  ".concat(N&&w)},s.a.createElement(k.f,{"aria-label":"itemFromList",name:"itemFromList",autoComplete:"off",id:e.focusedId}),H?s.a.createElement(A,Object.assign({isSelected:J},q)):s.a.createElement(C,Object.assign({isSelected:J,loaderAccount:v},q)))})),function(e){var t=e.account,a=e.balances,n=e.delete_account,c=e.shouldHaveDeleteClassName,r=e.isSelected,o=e.actions,u=e.focusedId,i=e.isStatic,l=t.name,d=t.id,m=t.currency,p="cop"===t.currency.currency?"bank":"ethereum"===t.currency.currency?"ethereum_account":t.currency.currency;return s.a.createElement(k.h,{id:"hoverable".concat(u),isSelected:r,className:"walletLayout ".concat(e.loaderAccount?"loading":""," ").concat(m.currency," ").concat(c&&"deleted"),wallet:!0,inscribed:!0},e.loaderAccount&&s.a.createElement(w.LoaderContainer,null,s.a.createElement(w.default,{loader:2})),!i&&o&&s.a.createElement(s.a.Fragment,null,s.a.createElement(W,{handleAction:e.handleAction,payload:e.account_type}),s.a.createElement(F,Object.assign({account_detail:e.handleAction,delete_account:n},e))),s.a.createElement("img",{src:f.a,id:"backCard",alt:"",width:"100%",height:"100%"}),s.a.createElement("div",{className:"iconWallet"},s.a.createElement(N,{icon:p,size:195})),s.a.createElement("div",{className:"walletTitleCont IWText"},s.a.createElement("h1",{className:"IWText fuente tobe_continue"},l||"Mi cartera crypto"),s.a.createElement(x.default,{notifier:"wallets",item_type:"account_id",id:d,type:"new"})),s.a.createElement("p",{className:"IWText fuente IWcurrencyText tobe_continue"},m.currency),s.a.createElement(s.a.Fragment,null,a?s.a.createElement(j,{account_id:d}):s.a.createElement("div",{className:"loadItem"},s.a.createElement(w.default,{color:"white"}))))}),C=function(e){var t=e.account,a=e.delete_account,n=e.shouldHaveDeleteClassName,c=e.actions,r=e.isSelected,o=e.focusedId,u=e.isStatic,i=t.bank_name,l=t.id,d=t.account_number,m=t.inscribed,p=t.used_counter,b=t.state;return s.a.createElement(k.i,{id:"hoverable".concat(o),isSelected:r,className:"withdrawAccount ".concat(n&&"deleted"),inscribed:"complete"===t.state},!u&&c&&s.a.createElement(s.a.Fragment,null,p>0&&s.a.createElement(W,{handleAction:e.handleAction,payload:e.account_type}),s.a.createElement(F,Object.assign({account_detail:e.handleAction,delete_account:a},e))),s.a.createElement("img",{src:f.a,id:"backCard",alt:"",width:"100%",height:"100%"}),s.a.createElement("div",{className:"iconBank"},s.a.createElement(N,{icon:t.bank_name&&t.bank_name.value,size:100})),s.a.createElement("h1",{className:"IWText fuente tobe_continue"},i.ui_name," ",s.a.createElement(x.default,{notifier:"withdraw_accounts",item_type:"account_id",id:l,type:"new"})),s.a.createElement("p",{className:"IWText fuente2 IWLittleTitle"},"No. ",d.value),s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"contSuscribed"},"in_progress"===b?s.a.createElement("div",{className:"contLoader2"},s.a.createElement(w.default,{color:"white",loader:2})):"complete"===b&&s.a.createElement("i",{className:"far fa-check-circle"}),s.a.createElement("p",{className:"IWText fuente IWLittleTitle"},"pending"===b?"Pendiente":"in_progress"===b?"En proceso":"complete"===b?"Inscrita":"Rechazada")),s.a.createElement("p",{className:"IWText fuente IWLittleTitle",style:{display:m?"flex":"none"}},"Movimientos: ",p)))},S=function(){return s.a.createElement(s.a.Fragment,null,["uno","dos","tres"].map(function(e,t){return s.a.createElement(k.h,{className:"loader ".concat(e),key:t},s.a.createElement("div",null),s.a.createElement("div",null),s.a.createElement("div",null),s.a.createElement("div",null))}))},F=function(e){var t=function(t){if(t.target.dataset&&t.target.dataset.address)return e.history.push("/wallets/".concat(t.target.dataset.address,"/").concat(e.account.id))},a=e.account_type;return s.a.createElement(k.g,{className:"OptionsLayout ".concat(a)},e.account.count?s.a.createElement(s.a.Fragment,null,s.a.createElement(k.d,{account_type:a,onClick:t,"data-address":"withdraw"},s.a.createElement(k.e,{className:"far fa-arrow-alt-circle-up IdeleteButton tooltip","data-address":"withdraw"},s.a.createElement("span",{className:"tooltiptext2 fuente","data-address":"withdraw"},"Retirar"))),s.a.createElement(k.d,{account_type:a,onClick:t,"data-address":"deposit"},s.a.createElement(k.e,{className:"far fa-arrow-alt-circle-down Ideposit IdeleteButton tooltip","data-address":"deposit"},s.a.createElement("span",{className:"tooltiptext2 fuente","data-address":"deposit"},"Depositar")))):s.a.createElement(s.a.Fragment,null,s.a.createElement("div",null),s.a.createElement("div",null)),s.a.createElement(k.d,{className:"retweetCont",account_type:a,onClick:e.delete_account},s.a.createElement(k.e,{className:"fas fa-trash-alt IdeleteButton tooltip"},s.a.createElement("span",{className:"tooltiptext2 fuente"},"Borrar"))))},W=function(e){return s.a.createElement(k.a,{onClick:function(){e.handleAction(e.payload)}})}},472:function(e,t,a){e.exports=a.p+"static/media/back.ff0c3767.webp"},473:function(e,t,a){},474:function(e,t,a){}}]);
//# sourceMappingURL=34.8b5907e5.chunk.js.map