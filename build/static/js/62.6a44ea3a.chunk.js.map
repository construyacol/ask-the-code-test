{"version":3,"sources":["components/qr-scanner/index.js"],"names":["CornerPos","CornerStyle","MAIN_COLOR","Container","styled","div","CloseButton","device","tablet","tabletL","QrScanner","props","facingMode","setFacingMode","useState","toastMessage","useToastMessage","actions","useActions","closeModal","e","name","renderModal","onClick","className","delay","onError","onScan","data","indexOf","slice","style","width","icon","color","size"],"mappings":"2OAUA,MAmDMA,EAAY,OACZC,EAAW,oBAAgBC,KAE3BC,EAAYC,IAAOC,IAAV,k2DAYXC,IAKOC,KAAOC,OACZF,IA8BON,EACCA,EACMC,EACCA,EAIRD,EACEA,EACKC,EACEA,EAIND,EACFA,EACSC,EACFA,EAILD,EACDA,EACQC,EACDA,EAUFC,IAsBTK,KAAOE,SAOHC,UArKIC,IACjB,MAAOC,EAAYC,GAAiBC,oBAAS,IACtCC,GAAgBC,cACjBC,EAAUC,cAEVC,EAAcC,IACdA,GAAKA,EAAEC,MACTN,EAAa,uBAAwB,SAEvCE,EAAQK,YAAY,OAatB,OACE,cAAC,IAAD,UACE,eAACnB,EAAD,WACE,cAAC,IAAD,CAAaoB,QAASJ,EAAtB,SACE,mBAAGK,UAAU,mBAEf,sDACA,qBAAKA,UAAU,aAAf,SACE,cAAC,IAAD,CACEC,MAAO,IACPb,WAAYA,EAAa,OAAS,cAClCc,QAASP,EACTQ,OAtBUC,IACdA,IACEA,EAAKC,QAAQ,MAAQ,IACvBD,EAAOA,EAAKE,MAAM,EAAGF,EAAKC,QAAQ,OAEpClB,EAAMgB,OAAOC,EAAKE,MAAMF,EAAKC,QAAQ,KAAO,IAC5CV,MAiBMY,MAAO,CAAEC,MAAO,YAGpB,8BACE,cAAC,UAAD,CACEC,KAAK,cACLC,MAAO,UACPX,QAAS,IAAMV,GAAeD,GAC9BuB,KAAM","file":"static/js/62.6a44ea3a.chunk.js","sourcesContent":["import React, { useState } from \"react\";\nimport QrReader from \"react-qr-reader\";\nimport OtherModalLayout from \"../widgets/modal/otherModalLayout\";\nimport { useActions } from \"../../hooks/useActions\";\nimport useToastMessage from \"../../hooks/useToastMessage\";\nimport styled from \"styled-components\";\nimport { device, MAIN_COLOR } from \"../../const/const\";\nimport IconSwitch from \"../widgets/icons/iconSwitch\";\nimport { CloseButton } from \"../widgets/shared-styles\";\n\nconst QrScanner = (props) => {\n  const [facingMode, setFacingMode] = useState(false);\n  const [toastMessage] = useToastMessage();\n  const actions = useActions();\n\n  const closeModal = (e) => {\n    if (e && e.name) {\n      toastMessage(`Camara no disponible`, \"error\");\n    }\n    actions.renderModal(null);\n  };\n\n  const handleScan = (data) => {\n    if (data) {\n      if (data.indexOf(\"?\") > -1) {\n        data = data.slice(0, data.indexOf(\"?\"));\n      }\n      props.onScan(data.slice(data.indexOf(\":\") + 1));\n      closeModal();\n    }\n  };\n\n  return (\n    <OtherModalLayout>\n      <Container>\n        <CloseButton onClick={closeModal}>\n          <i className=\"fas fa-times\"></i>\n        </CloseButton>\n        <p>Escanear c√≥digo QR</p>\n        <div className=\"qr-scanner\">\n          <QrReader\n            delay={100}\n            facingMode={facingMode ? \"user\" : \"environment\"}\n            onError={closeModal}\n            onScan={handleScan}\n            style={{ width: \"100%\" }}\n          />\n        </div>\n        <div>\n          <IconSwitch\n            icon=\"swap-camera\"\n            color={\"#14b3f0\"}\n            onClick={() => setFacingMode(!facingMode)}\n            size={50}\n          />\n        </div>\n      </Container>\n    </OtherModalLayout>\n  );\n};\n\nconst CornerPos = \"-2px\";\nconst CornerStyle = `2px solid ${MAIN_COLOR}`;\n\nconst Container = styled.div`\n  height: 100%;\n  width: 25vw;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  align-items: center;\n\n  .iconSty {\n    cursor: pointer;\n  }\n\n  ${CloseButton} {\n    right: 50px;\n    top: 50px;\n  }\n\n  @media ${device.tablet} {\n    ${CloseButton} {\n      right: 15px;\n      top: 15px;\n    }\n  }\n\n  p {\n    color: white !important;\n    font-family: \"Raleway\";\n    font-weight: bold;\n    width: 100%;\n    padding: 0 !important;\n    text-align: center;\n  }\n  > .qr-scanner {\n    width: 94%;\n    position: relative;\n\n    &:before,\n    &:after,\n    > section::before,\n    > section::after {\n      display: block;\n      content: \"\";\n      width: 30px;\n      height: 30px;\n      position: absolute;\n    }\n\n    &:before {\n      top: ${CornerPos};\n      left: ${CornerPos};\n      border-top: ${CornerStyle};\n      border-left: ${CornerStyle};\n    }\n\n    &:after {\n      top: ${CornerPos};\n      right: ${CornerPos};\n      border-top: ${CornerStyle};\n      border-right: ${CornerStyle};\n    }\n\n    > section::before {\n      bottom: ${CornerPos};\n      left: ${CornerPos};\n      border-bottom: ${CornerStyle};\n      border-left: ${CornerStyle};\n    }\n\n    > section::after {\n      bottom: ${CornerPos};\n      right: ${CornerPos};\n      border-bottom: ${CornerStyle};\n      border-right: ${CornerStyle};\n    }\n\n    > section > section > div {\n      border: unset !important;\n      box-shadow: unset !important;\n      height: 4px !important;\n      margin: auto;\n      bottom: 0 !important;\n      right: 0 !important;\n      background: ${MAIN_COLOR};\n    }\n\n    video {\n      top: 0;\n      left: 0;\n      bottom: 0 !important;\n      right: 0 !important;\n      margin: auto;\n      width: 92% !important;\n      height: 92% !important;\n    }\n  }\n\n  > div:last-child {\n    display: flex;\n    margin-bottom: 15px;\n    > div:first-child {\n      margin-right: 8px;\n    }\n  }\n\n  @media ${device.tabletL} {\n    width: 100%;\n    height: 100%;\n    position: absolute;\n  }\n`;\n\nexport default QrScanner;\n"],"sourceRoot":""}