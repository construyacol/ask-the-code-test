{"version":3,"sources":["components/referrals/createReferralLink.js","components/referrals/referralLinkShare.js","components/referrals/dashboardReferral.js","components/referrals/referralsComponent.js"],"names":["CreateReferralLink","state","createLink","creatingLink","_callee","e","value","res","regenerator_default","a","wrap","_context","prev","next","target","_this","refCodeIsValid","sent","abrupt","setState","ref_code","stop","min_length","length","max_length","alphanumeric","test","send_ref_code","props","this","react_default","createElement","react","className","id","src","btcoin","alt","person1","person2","gift","inputs","placeholder","actualizarEstado","active","buttons","siguiente","type","Component","ReferralLinkShare","facebook_init","d","s","js","fjs","getElementsByTagName","getElementById","parentNode","insertBefore","document","referralLink","copyContainer","valueToCopy","color","max_width","href","data-href","rel","data-layout","concat","DashBoardReferralComponent","iconSwitch","icon","size","coinsenda","ReferralComponent","success_referral","haveReferraLink","user","referral","action","set_ref_code","setTimeout","nextProps","_this$state","detailContainerLayout","Object","assign","title","window","innerWidth","referralLinkShare","dashboardReferral","createReferralLink","connect","_state$modelData","modelData","user_id","dispatch","bindActionCreators","actions"],"mappings":"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","file":"static/js/4.5caea241.chunk.js","sourcesContent":["import React, { Component, Fragment } from 'react'\nimport btcoin from '../../assets/btc.png'\nimport person2 from '../../assets/person2.png'\nimport person1 from '../../assets/person1.png'\nimport gift from '../../assets/gift.png'\nimport InputForm from '../widgets/inputs'\nimport { ButtonForms } from '../widgets/buttons/buttons'\n\n\nclass CreateReferralLink extends Component {\n\n  state = {\n    createLink:false\n  }\n\n  creatingLink = async(e) => {\n    const { value } = e.target\n    let res = await this.refCodeIsValid(value)\n    return this.setState({createLink:res, ref_code:res ? value : null})\n  }\n\n\n    refCodeIsValid = (ref_code) =>{\n      let min_length = ref_code.length > 5;\n      let max_length = ref_code.length < 21;\n      let alphanumeric = /^[a-z0-9]+$/i.test(ref_code);\n      return min_length && max_length && alphanumeric;\n    }\n\n\n    send_ref_code = () =>{\n      return this.props.createLink(this.state.ref_code)\n    }\n\n\n  render(){\n\n    const { createLink } = this.state\n\n    return(\n      <Fragment>\n\n        <div className=\"referralImg\">\n          <img id=\"btcAward\" src={btcoin} alt=\"\"/>\n          <img id=\"person1\" src={person1} alt=\"\"/>\n          <img id=\"person2\" src={person2} alt=\"\"/>\n          <img id=\"gift\" className=\"jello-horizontal\" src={gift} alt=\"\"/>\n        </div>\n\n        <div className=\"formControl\">\n          <InputForm\n            placeholder={`Ej. minuevocodigoreferido`}\n            actualizarEstado={this.creatingLink}\n            active={createLink}\n          />\n\n          <ButtonForms\n            siguiente={this.send_ref_code}\n            type=\"primary\"\n            active={createLink}\n            >\n            Crear link\n          </ButtonForms>\n        </div>\n\n      </Fragment>\n    )\n  }\n}\n\n\nexport default CreateReferralLink\n","import React, { Component } from 'react'\nimport CopyContainer from '../widgets/copy/copyContainer'\n\n\nclass ReferralLinkShare extends Component {\n\n  componentDidMount(){\n      this.facebook_init()\n  }\n\n\n  facebook_init = () =>{\n    (function(d, s, id) {\n    var js, fjs = d.getElementsByTagName(s)[0];\n    if (d.getElementById(id)) return;\n    js = d.createElement(s); js.id = id;\n    js.src = \"https://connect.facebook.net/en_US/sdk.js#xfbml=1&version=v3.0\";\n    fjs.parentNode.insertBefore(js, fjs);\n  }(document, 'script', 'facebook-jssdk'))\n  }\n\n  render(){\n\n    // let netWorks = [\n    //   // {\n    //   //   icon:\"fab fa-facebook-f\",\n    //   //   name:\"facebook\",\n    //   //   cta:\"Compartir\",\n    //   //   clase:\"fb-share-button\"\n    //   // },\n    //   // {\n    //   //   icon:\"fab fa-twitter\",\n    //   //   name:\"twitter\",\n    //   //   cta:\"Twittear\"\n    //   // },\n    //   // {\n    //   //   icon:\"fas fa-inbox\",\n    //   //   name:\"Whatsapp\",\n    //   //   cta:\"Enviar\",\n    //   //   active:false\n    //   // }\n    // ]\n\n    let twitter_text = \"Amigos, este es mi link de referidos de Coinsenda:\"\n\n    const { referralLink } = this.props\n\n    return(\n      <div className=\"contReferralLink\">\n\n        <div className=\"ReferralLink\">\n          <i className=\"refeico fas fa-share-alt\"></i>\n          <CopyContainer\n            valueToCopy={referralLink}\n            color=\"#3A7BD5\"\n            max_width={360}\n          />\n        </div>\n\n        <div className=\"buttonsReferralShare fuente\">\n          {/* BOTON FACEBOOK */}\n          <div className='element1Ref' >\n            <a className=\"tranquilo_fb fb-share-button\" alt=\"\" href={referralLink}\n              data-href={referralLink}\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n              data-layout=\"button_count\">\n            </a>\n            <i className=\"fab fa-facebook-f\"></i>\n            <p className=\"fuente\">Compartir</p>\n          </div>\n\n          {/* BOTON TWITTER */}\n          <a className={`element1Ref`} href={`https://twitter.com/intent/tweet?text=${twitter_text}&url=${referralLink}`} target=\"_blank\" rel=\"noopener noreferrer\">\n            <i className=\"fab fa-twitter\"></i>\n            <p className=\"fuente\">Twittear</p>\n          </a>\n\n          <a className={`element1Ref`} href={`https://wa.me/?text='Hola, te invito a registrarte en Coinsenda con mi link de referido: ${referralLink}'`} target=\"_blank\" rel=\"noopener noreferrer\">\n            <i className=\"fab fa-whatsapp\"></i>\n            <p className=\"fuente\">Whatsapp</p>\n          </a>\n\n          {/* {\n            netWorks.map((network)=>{\n              return(\n                <ShareElement\n                  key={network.name}\n                  {...network}\n                />\n              )\n            })\n          } */}\n        </div>\n\n\n      </div>\n    )\n  }\n\n}\n\n\n// const ShareElement = props => {\n//\n//   const {\n//     cta,\n//     icon,\n//     active\n//   } = props\n//\n//   return(\n//     <div className={`element1Ref ${active ? 'activo' : 'desactive'}`} >\n//       <i className={icon}></i>\n//       <p className=\"fuente\">{cta}</p>\n//     </div>\n//   )\n//\n// }\n\n\nexport default ReferralLinkShare\n","import React, { Component } from 'react'\nimport IconSwitch from '../widgets/icons/iconSwitch'\nimport Coinsenda from '../widgets/icons/logos/coinsenda'\n\nclass DashBoardReferralComponent extends Component{\n\n  render(){\n\n    return(\n      <div className=\"DashBoardReferralComponent\">\n\n        {/* WITHDRAW BUTTON */}\n        <div id=\"withdrawButton\" className=\"withdrawButton wbutt fuente\">\n          <IconSwitch\n            icon=\"withdraw\"\n            size={18}\n            color=\"white\"\n          />\n          <div className=\"textCtaBut\">\n            <p className=\"fuente\">Retirar</p>\n          </div>\n        </div>\n\n\n        <div className=\"iconsRef\">\n          <div className=\"contIconRefCircle\">\n            <IconSwitch\n              icon=\"referralPerson\"\n              size={40}\n            />\n          </div>\n          <div className=\"logoCoinsen\">\n            <Coinsenda\n              size={50}\n              color=\"#0378c5\"\n            />\n          </div>\n        </div>\n\n\n        {/* CANTIDAD DE REFERIDOS */}\n        <div className=\"referralsCount\">\n          <p className=\"fuente2 textRefer1\">35</p>\n          <p className=\"fuente textRefer\">Cantidad referidos</p>\n        </div>\n\n\n        {/* GANANCIA POR REFERIDOS */}\n        <div className=\"referralAwards\">\n          <p id=\"referAward\" className=\"fuente2 textRefer1\">0.8</p>\n          <p className=\"fuente textRefer\">Ganancia en BTC</p>\n        </div>\n\n      </div>\n    )\n\n  }\n\n}\n\nexport default DashBoardReferralComponent\n","import React, { Component } from 'react'\nimport DetailContainerLayout from '../widgets/detailContainer/detailContainerLayout'\nimport { connect } from 'react-redux'\nimport actions from '../../actions'\nimport { bindActionCreators } from 'redux'\nimport CreateReferralLink from './createReferralLink'\nimport ReferralLinkShare from './referralLinkShare'\nimport DashBoardReferralComponent from './dashboardReferral'\n\n\nimport './referrals.css'\n\nclass ReferralComponent extends Component {\n\n  state = {\n    success_referral:false,\n    haveReferraLink:this.props.user.referral ? true : false,\n    referralLink:this.props.user.referral && `https://coinsenda.com/ref_code?=${this.props.user.referral.ref_code}`\n  }\n\n  componentWillReceiveProps(nextProps){\n\n    if(nextProps.user.referral !== this.props.user.referral){\n      this.setState({referralLink:`https://coinsenda.com/ref_code?=${nextProps.user.referral.ref_code}`})\n    }\n\n  }\n\n\n  createLink = async(ref_code) =>{\n\n    let res = await this.props.action.set_ref_code(ref_code)\n    // console.log('Res refcode api =>', res)\n    if(!res){return false}\n\n    await this.setState({success_referral:true})\n\n    setTimeout(()=>{\n      this.setState({haveReferraLink:true})\n    }, 300)\n  }\n\n\n  render(){\n\n   const { haveReferraLink, success_referral, referralLink } = this.state\n\n    return(\n\n      <DetailContainerLayout\n        title=\"Referidos\"\n        {...this.props}\n        >\n        <div className=\"referralCont\">\n            <div className=\"textReferral\">\n              {\n                window.innerWidth < 768 &&\n                <p className=\"fuente titleReferr\">Referidos</p>\n              }\n              <p className=\"fuente titleReferr\">¡Invita amigos y gana!</p>\n              <p className=\"fuente parraFerrer\">Por cada amigo que se registre con tu link de referido ganas el 0.5% de todas las operaciones de compra y venta que tu amigo realice.</p>\n            </div>\n\n            {\n              !haveReferraLink ?\n              <div className={`contReferral createReferralink ${success_referral ? 'desaparecer' : '' }`}>\n                <CreateReferralLink\n                  createLink={this.createLink}\n                  {...this.state}\n                  {...this.props}\n                />\n              </div>\n              :\n              <div className={`contReferral ${success_referral ? 'aparecer' : '' }`}>\n                <div className=\"haveReferral\">\n\n                  <ReferralLinkShare\n                    referralLink={referralLink}\n                  />\n\n                  <DashBoardReferralComponent/>\n\n                </div>\n              </div>\n            }\n        </div>\n\n\n\n      </DetailContainerLayout>\n    )\n  }\n\n}\n\n\n\nfunction mapStateToProps(state, props){\n\n  const { user, user_id } = state.modelData\n  return{\n    user:user \n  }\n\n}\n\nfunction mapDispatchToProps(dispatch){\n  return{\n    action: bindActionCreators(actions, dispatch)\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ReferralComponent)\n"],"sourceRoot":""}