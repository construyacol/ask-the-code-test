{"version":3,"sources":["components/withListCreator.js","components/widgets/accountList/account-list.js"],"names":["specialListCreatorSelector","createSelector","state","withdraw_accounts","wallets","_","isWithdrawView","withdrawAccounts","data","Object","keys","filter","key","currency_type","map","IconSwitch","loadable","AccountsNotFound","account_type","isMovilViewport","useViewport","className","id","size","icon","withListCreator","AsComponent","props","isWalletsView","actions","mainListLoader","items","label","coinsendaService","useCoinsendaServices","isVerified","setIsVerified","useState","setCurrentSelection","useNavigationKeyActions","loader","uniqueIdForElement","default","isDesktop","window","innerWidth","idForClickableElement","useKeyActionAsClick","useEffect","verified","getUserVerificationStatus","showValidationPrompt","confirmationModalToggle","confirmationModalPayload","title","description","txtPrimary","action","svg","callToValidate","isHugeContainer","isWithdrawListStyle","mainButtonText","length","style","account","visible","number","focusedId","color","type","handleClick","verificationState","toggleModal","React","memo","useSelector","isLoading","ui","loaders","mainList","modelData","useActions","toProps"],"mappings":"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","file":"static/js/51.362519a1.chunk.js","sourcesContent":["import React from \"react\";\nimport { useActions } from \"../hooks/useActions\";\nimport { useSelector } from \"react-redux\";\nimport { createSelector } from \"reselect\";\n\nconst specialListCreatorSelector = createSelector(\n  (state) => state.withdraw_accounts,\n  (state) => state.wallets,\n  (_, isWithdrawView) => isWithdrawView,\n  (withdrawAccounts, wallets, isWithdrawView) => {\n    const data = isWithdrawView ? withdrawAccounts : wallets;\n    return (\n      data &&\n      Object.keys(data)\n        .filter((key) => {\n          return !(isWithdrawView && data[key].currency_type === \"crypto\");\n        })\n        .map((key) => {\n          return data[key];\n        })\n    );\n  }\n);\n\nexport default function withListCreator(AsComponent) {\n  return React.memo(function (props) {\n    const loader = useSelector((state) => state.isLoading.loader);\n    const mainListLoader = useSelector((state) => state.ui.loaders.mainList);\n    const items = useSelector((state) =>\n      specialListCreatorSelector(state.modelData, props.isWithdrawView)\n    );\n    const actions = useActions();\n    const toProps = {\n      verificationState: true,\n      mainListLoader,\n      loader,\n    };\n\n    return (\n      <AsComponent {...toProps} actions={actions} items={items} {...props} />\n    );\n  });\n}\n","import React, { useState, useEffect } from \"react\";\nimport loadable from \"@loadable/component\";\nimport SimpleLoader from \"../loaders\";\nimport ItemAccount from \"./item_account\";\nimport { AddNewItem } from \"../buttons/buttons\";\nimport PropTypes from \"prop-types\";\nimport { AccountListContainer } from \"./styles\";\nimport withListCreator from \"../../withListCreator\";\nimport { useCoinsendaServices } from \"../../../services/useCoinsendaServices\";\nimport useNavigationKeyActions from \"../../../hooks/useNavigationKeyActions\";\nimport useKeyActionAsClick from \"../../../hooks/useKeyActionAsClick\";\nimport useViewport from \"../../../hooks/useWindowSize\";\n\nimport \"../../wallets/views/wallet_views.css\";\n\nconst IconSwitch = loadable(() => import(\"../icons/iconSwitch\"));\n\nfunction AccountList(props) {\n  const {\n    isWalletsView,\n    isWithdrawView,\n    actions,\n    mainListLoader,\n  } = props;\n  const items = props.items || [];\n  const label = `Obteniendo tus ${\n    isWalletsView ? \"Billeteras\" : \"Cuentas de retiro\"\n  }`;\n  const [coinsendaService] = useCoinsendaServices();\n  const [isVerified, setIsVerified] = useState(false);\n  const [setCurrentSelection] = useNavigationKeyActions({\n    items,\n    loader: mainListLoader,\n    uniqueIdForElement: \"accountItem\",\n    default: -1,\n  });\n  const isDesktop = window.innerWidth > 900;\n  // 97 keyCode for A\n  const idForClickableElement = useKeyActionAsClick(\n    true,\n    \"main-accounts-add-button\",\n    97\n  );\n\n  useEffect(() => {\n    // actions.cleanCurrentSection()\n    const verified = coinsendaService.getUserVerificationStatus(\"level_1\");\n    setIsVerified(verified);\n  }, []);\n\n  const createNewWallet = () => {\n    if (props.verificationState === \"confirmed\") {\n      return showValidationPrompt();\n    }\n\n    if (!isVerified) {\n      return callToValidate();\n    }\n    actions.toggleModal();\n  };\n\n  const showValidationPrompt = () => {\n    actions.confirmationModalToggle();\n    actions.confirmationModalPayload({\n      title: \"Estamos trabajando en esto...\",\n      description:\n        \"Hemos recibido satisfactoriamente tus datos de verificación, en breve podrás operar en coinsenda.\",\n      txtPrimary: \"Entendido\",\n      action: false,\n      svg: \"verified\",\n    });\n  };\n\n  // const goToVerification = async () => {\n  //   actions.confirmationModalToggle();\n  //   actions.confirmationModalPayload(null);\n  //   // const verificationState = props.verificationState;\n  //   //\n  //   // if (verificationState === \"confirmed\" || verificationState === \"pending\") {\n  //   //   await actions.ToStep(\"globalStep\", 2);\n  //   // }\n  //   //\n  //   // if (verificationState === \"rejected\") {\n  //   //   await actions.ToStep(\"globalStep\", 0);\n  //   // }\n  //   //\n  //   // await history.push(`/security`);\n  //   // setTimeout(() => {\n  //   //   actions.toggleModal();\n  //   // }, 0);\n  // };\n\n  const callToValidate = () => {\n    // const message = isWalletsView\n    //   ? \"billeteras crypto/fiat.\"\n    //   : \"cuentas de retiro fiat.\";\n\n    actions.confirmationModalToggle();\n    actions.confirmationModalPayload({\n      title: \"Estamos trabajando en esto...\",\n      description:\n        \"Hemos recibido satisfactoriamente tus datos de verificación, en breve podrás operar en coinsenda.\",\n      txtPrimary: \"Entendido\",\n      action: false,\n      svg: \"verified\",\n    });\n  };\n  const isHugeContainer = items > 10;\n  const styleForHugeContainer = {\n    // height: 'auto',\n  };\n  const isWithdrawListStyle = {\n    // marginBottom: '40px'\n  };\n\n  let mainButtonText = isWithdrawView\n    ? \"Añadir nueva cuenta de retiro\"\n    : \"Añadir nueva billetera\";\n  mainButtonText = isDesktop ? `${mainButtonText} [A]` : mainButtonText;\n\n  return (\n    <>\n      {items && items.length > 0 ? (\n        <AccountListContainer\n          style={\n            isHugeContainer\n              ? { ...styleForHugeContainer, ...isWithdrawListStyle }\n              : isWithdrawListStyle\n          }\n          className=\"AccountListContainer\"\n        >\n          {items.map((account, id) => {\n            if (!account || !account.visible) {\n              return null;\n            }\n            return (\n              <ItemAccount\n                key={id}\n                setCurrentSelection={setCurrentSelection}\n                number={id}\n                focusedId={`accountItem${id}`}\n                account={account}\n                account_type={isWalletsView ? \"wallets\" : \"withdraw_accounts\"}\n                loader={props.loader}\n              />\n            );\n          })}\n        </AccountListContainer>\n      ) : props.loader ? (\n        <SimpleLoader color=\"blue\" label={label} />\n      ) : (\n        items.length < 1 &&\n        !props.loader && (\n          <AccountsNotFound\n            account_type={isWalletsView ? \"wallets\" : \"withdraw_accounts\"}\n          />\n        )\n      )}\n\n      {!props.loader && (\n        <AddNewItem\n          id={idForClickableElement}\n          label={mainButtonText}\n          type=\"primary\"\n          handleClick={createNewWallet}\n        />\n      )}\n    </>\n  );\n}\n\nAccountList.propTypes = {\n  all_pairs: PropTypes.object,\n  isAppLoaded: PropTypes.bool,\n  currencies: PropTypes.array,\n  current_wallet: PropTypes.object,\n  items: PropTypes.array,\n  loader: PropTypes.bool,\n};\n\nconst AccountsNotFound = ({ account_type }) => {\n  const { isMovilViewport } = useViewport();\n\n  return (\n    <div className=\"withdraw_accounts_screen\">\n      <div className=\"withdraw_accounts_screen_cont\">\n        <p id=\"WalletList2\" className=\"fuente\">\n          {account_type === \"withdraw_accounts\"\n            ? \"Aún no tienes cuentas de retiro agregadas, añade y gestiona retiros en tu moneda local.\"\n            : \"Aún no tienes billeteras agregadas, añade y gestiona Billeteras de Bitcoin, Ethereum, etc... para que puedas hacer retiros y depositos\"}\n        </p>\n        <IconSwitch size={isMovilViewport ? 230 : 330} icon=\"newAccount\" />\n      </div>\n    </div>\n  );\n};\n\nexport default withListCreator(AccountList);\n"],"sourceRoot":""}