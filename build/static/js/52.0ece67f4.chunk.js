(window.webpackJsonp=window.webpackJsonp||[]).push([[52],{863:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(2),l=a(45),s=a(5),o=a.n(s),i=(a(192),a(359)),u=a(366),m=a(505),d=a(524),p=a(357),b=a(566),f=a(355),w=a(592),E=function(e){var t=e.handleSubmit,r=e.actualizarEstado,n=e.name,c=e.currency,s=e.step,E=e.loader,v=e.address,h=e.short_currency_name,y=e.qr,g=e.clearCurrency,j=Object(b.a)(),O=Object(l.a)(j,1)[0],_=Object(f.a)(!0,"add-new-wallet-button",13,!1,"onkeypress",!0);return o.a.createElement("div",{className:"containerFormWallet newWallet"},1===s&&o.a.createElement("div",{className:"step1 newWallet"},O?o.a.createElement(o.a.Fragment,null,o.a.createElement("h1",{className:"fuente"}," Nueva billetera "),o.a.createElement("form",{onSubmit:t,style:{width:"100%"}},o.a.createElement(u.f,{clase:"nameWallet containerInputComponent",type:"text",label:"Nombra tu nueva billetera",placeholder:"Billetera de trading",name:"name",actualizarEstado:r,active:n&&c,autoFocus:!0}),o.a.createElement(m.a,{type:"coins",label:"\xbfC\xfaal moneda manejar\xe1s en tu billetera?",itemSelect:c,actualizarEstado:r,update_control_form:e.update_control_form,items:O,clearItem:g}),o.a.createElement(i.i,{id:_,label:"Crear Billetera",type:"primary",active:n&&c}))):o.a.createElement(w.a,null)),2===s&&o.a.createElement("div",{className:"step2"},E?o.a.createElement(p.SimpleLoader,{label:"Creando wallet ".concat(c)}):o.a.createElement("section",{className:"stepFinish"},o.a.createElement("div",{className:"nWCabeza"},o.a.createElement("div",{className:"icon icon--order-success svg"},o.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"72px",height:"72px",alt:""},o.a.createElement("g",{fill:"none",stroke:"white",strokeWidth:"3"},o.a.createElement("circle",{cx:"36",cy:"36",r:"35"}),o.a.createElement("path",{className:"check",d:"M17.417,37.778l9.93,9.909l25.444-25.393"})))),o.a.createElement("p",{className:"titleWhite fuente"}," Operaci\xf3n Exitosa")),o.a.createElement("div",{className:"nWbody fuente"},o.a.createElement("div",{className:"nWadress"},o.a.createElement("div",{className:"nWname"},""!==h&&o.a.createElement("img",{className:"itemFuera",src:a(375)("./".concat(h,".png")),width:"30",alt:""}),o.a.createElement("p",null,"Nueva wallet de ",e.currency," creada")),o.a.createElement("p",null,n),o.a.createElement("img",{className:"itemFuera",src:y,width:"180",alt:""}),o.a.createElement(d.a,{valueToCopy:v,color:"white"}))),o.a.createElement("div",{className:"nWcta"},o.a.createElement(i.g,{id:"add-new-wallet-button",toggleModal:e.finalizar},"Finalizar")))))},v=a(64),h=a(34),y=a(65),g=a(21),j=a(358),O=a(363);t.default=Object(v.b)(function(e,t){var a=e.modelData.user;return{search:e.form.search_coin,form_wallet:e.form.form_wallet,buttonActive:e.form.form_control_wallet,loader:e.isLoading.loader,step:e.form.form_wallet.step,current:e.form.current,user:a,state:e.modelData,currencies:e.modelData.currencies,wallets:e.modelData.wallets}},function(e){return{action:Object(h.bindActionCreators)(y.a,e)}})(function(e){var t=Object(s.useState)(),a=Object(l.a)(t,2),r=a[0],i=a[1],u=Object(s.useState)(e.search.length&&e.search[0].currency),m=Object(l.a)(u,2),d=m[0],p=m[1],b=Object(s.useState)(),f=Object(l.a)(b,1)[0],w=Object(s.useState)(),v=Object(l.a)(w,2),h=v[0],y=v[1],_=Object(j.a)(),x=Object(l.a)(_,1)[0],N=Object(O.a)(),k=Object(l.a)(N,1)[0],W=function(){var t=Object(c.a)(n.a.mark(function t(){var a,c,l,s,o,i,u;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.user,c=e.currencies,t.next=3,Object(g.matchItem)(c,{primary:d},"currency");case 3:return l=t.sent,s={data:{name:r,description:"description",country:a&&a.country,enabled:!0,currency:{currency:l[0].currency,is_token:l[0].is_token}}},t.next=7,x.createWallet(s);case 7:if(o=t.sent){t.next=10;break}return t.abrupt("return",C("Error al crear la billetera..."));case 10:return t.next=12,x.getWalletsByUser();case 12:return i=o.account,t.next=15,x.createAndInsertDepositProvider(i);case 15:if(t.sent){t.next=18;break}return t.abrupt("return",C("Error al crear el proveedor de deposito de la billetera..."));case 18:return u="Nueva wallet ".concat(i.currency.currency," creada!"),k(u,"success"),e.action.isAppLoading(!1),e.action.success_sound(),t.next=24,e.action.toggleModal();case 24:return t.next=26,e.action.CleanForm("wallet");case 26:return t.abrupt("return",e.history.push("/wallets/deposit/".concat(i.id)));case 27:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),C=function(t){return e.action.ReduceStep("wallets"),e.action.isAppLoading(!1),k(t||"Ups, al parecer esto no podr\xe1 ser...","error")},S=function(){var e=Object(c.a)(n.a.mark(function e(t){var a,r;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.target.short_name){e.next=3;break}return e.next=3,y(t.target.short_name);case 3:a=t.target.name,r=t.target.value,e.t0=a,e.next="name"===e.t0?8:"currency"===e.t0?9:10;break;case 8:return e.abrupt("return",i(r));case 9:return e.abrupt("return",p(r));case 10:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),F=function(){return e.action.IncreaseStep(e.current)};Object(s.useEffect)(function(){return function(){return e.action.CurrentForm("wallets")}},[]);var z={name:r,currency:d,address:f,short_currency_name:h};return o.a.createElement(E,Object.assign({clearCurrency:function(){p(null)},actualizarEstado:S,handleSubmit:function(t){t.preventDefault(),e.action.isAppLoading(!0),F(),S(t),W()},update_control_form:function(e){},buttonActive:e.buttonActive,loader:e.loader,finalizar:function(t){e.action.toggleModal(),e.action.CleanForm("wallet")},step:e.step},z,e))})}}]);
//# sourceMappingURL=52.0ece67f4.chunk.js.map