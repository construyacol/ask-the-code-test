{"version":3,"sources":["components/widgets/panelAlert/panelAlertContainer.js"],"names":["connect","state","props","user","modelData","verification_state","ui","dispatch","action","bindActionCreators","actions","_useCoinsendaServices","useCoinsendaServices","coinsendaServices","Object","_home_coinsenda_new_frontend_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_3__","_useState","useState","visible","message","icon","ctaText","background","_useState2","setState","useEffect","history","location","pathname","validate_state","_ref","_home_coinsenda_new_frontend_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__","_home_coinsenda_new_frontend_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default","a","mark","_callee","wrap","_context","prev","next","getVerificationState","sent","abrupt","validate_kyc_basic","validate_kyc_advanced","stop","apply","this","arguments","play_video","close","_ref2","_callee2","_context2","freshChatTrack","_home_coinsenda_new_frontend_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_4___default","createElement","className","concat","id","style","onClick","_icons_iconSwitch__WEBPACK_IMPORTED_MODULE_8__","size","color"],"mappings":"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","file":"static/js/44.eb686146.chunk.js","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport actions from \"../../../actions\";\nimport IconSwitch from \"../icons/iconSwitch\";\nimport { useCoinsendaServices } from \"../../../services/useCoinsendaServices\";\n// import FreshChat from '../../../services/freshChat'\n\nimport \"./panelAlert.css\";\n\nconst PanelAlertContainer = (props) => {\n  const [coinsendaServices] = useCoinsendaServices();\n  const [state, setState] = useState({\n    visible: false,\n    message: \"\",\n    icon: \"\",\n    ctaText: \"\",\n    background: \"white\",\n    action: null,\n  });\n\n  useEffect(() => {\n    if (props.history.location.pathname === \"/security\") {\n      validate_state();\n    }\n  }, [props.user]);\n\n  const validate_state = async () => {\n    const verification_state = await coinsendaServices.getVerificationState();\n\n    if (!verification_state) {\n      return setState({\n        visible: true,\n        message:\n          \"Bienvenido, completa el proceso de verificación y comienza a operar en Coinsenda\",\n        icon: \"verified\",\n        ctaText: \"Enseñame ahora >>\",\n        background: \"linear-gradient(to bottom right, #00D2FF, #3A7BD5)\",\n        action: validate_kyc_basic,\n      });\n    }\n\n    if (verification_state === \"confirmed\") {\n      return setState({\n        visible: true,\n        message:\n          \"Nuestro sistema esta verificando tus documentos, en breve podrás operar en Coinsenda\",\n        icon: \"verified\",\n        ctaText: null,\n        background: \"linear-gradient(to bottom right, #00D2FF, #3A7BD5)\",\n        action: null,\n      });\n    }\n    if (verification_state === \"rejected\") {\n      return setState({\n        visible: true,\n        message:\n          \"Tus datos han sido rechazados, aprende a verificarte correctamente en tan solo 1 minuto.\",\n        icon: \"rejected\",\n        ctaText: \"Enseñame ahora >>\",\n        background: \"#b31217\",\n        action: validate_kyc_basic,\n      });\n    }\n    if (verification_state === \"pending\") {\n      return setState({\n        visible: true,\n        message:\n          \"¡Genial!, estas a 1 solo paso de completar tu proceso de verificación..\",\n        icon: \"verified\",\n        ctaText: \"Enseñame ahora >>\",\n        background: \"#989500\",\n        action: validate_kyc_advanced,\n      });\n    }\n  };\n\n  const validate_kyc_advanced = () => {\n    props.action.play_video(\"kyc_advanced\");\n  };\n\n  const validate_kyc_basic = () => {\n    props.action.play_video(\"kyc_basic\");\n  };\n\n  // go_to = () =>{\n  //   // props.action.play_video('kyc_basic')\n  //   // alert('goto')\n  // }\n\n  const close = async () => {\n    const verification_state = await coinsendaServices.getVerificationState();\n\n    if (\n      !verification_state ||\n      (verification_state !== \"confirmed\" && verification_state !== \"accepted\")\n    ) {\n      coinsendaServices.freshChatTrack(\"need help to verification\");\n    }\n    // console.log('AYuda para verificación', (props.user.levels && props.user.levels.personal !== 'confirmed'), props.user)\n    return setState({ ...state, visible: false });\n  };\n\n  const { visible, message, ctaText, icon, background, action } = state;\n\n  return (\n    <div\n      className={`PanelAlertContainer ${visible && \"visible\"}`}\n      id=\"PanelAlertContainer\"\n      style={{ background: background }}\n    >\n      <i className=\"fas fa-times\" onClick={close}></i>\n      <div className=\"alertContainer fuente\">\n        <IconSwitch icon={icon} size={25} color=\"white\" />\n        <div className=\"alertContainerText\">\n          <p>{message}</p>\n          {ctaText && <div onClick={action}>{ctaText}</div>}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nfunction mapStateToProps(state, props) {\n  const { user } = state.modelData;\n  const { verification_state } = state.ui;\n  return {\n    user: user,\n    verification_state,\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    action: bindActionCreators(actions, dispatch),\n  };\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(PanelAlertContainer);\n"],"sourceRoot":""}