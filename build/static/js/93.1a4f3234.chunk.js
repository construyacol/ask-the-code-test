(this["webpackJsonpcoinsenda-app"]=this["webpackJsonpcoinsenda-app"]||[]).push([[93],{668:function(e){e.exports=JSON.parse('{"a":[{"id":2,"name":"email","email":[{"id":1,"name":"email","label":"Correo electr\xf3nico","description":"Confirma tu correo electr\xf3nico como respaldo en caso de p\xe9rdida de tu contrase\xf1a, \xe9ste podr\xe1 ser utilizado para recuperar el acceso de tu cuenta.","verify":false,"cta_primary":"Verificar","cta_secondary":"Verificado","tree":false,"available":true}]},{"id":1,"name":"identity","identity":[{"id":1,"name":"identity","label":"Verificaci\xf3n de identidad","description":"La verificaci\xf3n de identidad es obligatoria para cumplir con las normativas vigentes","verify":true,"cta_primary":"Verificar","cta_secondary":"Verificado","tree":true,"available":true,"type":"identity"},{"id":2,"name":"kyc_basic","label":"Inicial","description":"Completa los datos basicos de tu perfil (nombres, apellidos, pais, ciudad etc...)","verify":false,"cta_primary":"Verificar","cta_secondary":"Verificado","tree":false,"available":true,"type":"identity"},{"id":3,"name":"kyc_advanced","label":"Avanzada","description":"Adjunta foto tipo selfie con documento y papel en mano donde se vea la fecha actual","verify":false,"cta_primary":"Verificar","cta_secondary":"Verificado","tree":false,"available":false,"type":"identity"}]},{"id":3,"name":"2auth","2auth":[{"id":1,"name":"2auth","label":"Segundo factor de autenticaci\xf3n 2FA","description":"Protege tu cuenta agregando una capa de seguridad adicional con tu dispositivo m\xf3vil","verify":true,"cta_primary":"Habilitar","cta_secondary":"Deshabilitar","tree":false,"available":true}]}]}')},669:function(e,a,t){},732:function(e,a,t){"use strict";t.r(a);var i=t(2),c=t(154),s=t(9),n=t(19),r=t(24),o=t(61),l=t(668),d=t(89),u=t(30),p=t(1);class m extends i.Component{constructor(){super(...arguments),this.state={...this.props.subItem},this.actionHandle=()=>{const{item_action:e,subItem:a}=this.props;e(a)}}componentDidMount(){var e,a,t,i,c,s,n,r,o,l;"accepted"===(null===this||void 0===this||null===(e=this.props)||void 0===e||null===(a=e.user)||void 0===a||null===(t=a.levels)||void 0===t?void 0:t.personal)&&console.log(null===(n=document.querySelector(".kyc_basic .SCtitle"))||void 0===n||null===(r=n.classList)||void 0===r?void 0:r.add("tittle__success"));"accepted"===(null===this||void 0===this||null===(i=this.props)||void 0===i||null===(c=i.user)||void 0===c||null===(s=c.levels)||void 0===s?void 0:s.identity)&&console.log(null===(o=document.querySelector(".kyc_advanced .SCtitle"))||void 0===o||null===(l=o.classList)||void 0===l?void 0:l.add("tittle__success"))}render(){const{index:e,totalIndex:a,nextVerify:t,lastVerify:c}=this.props,{label:s,name:n,color:r,icon:l,description:m,cta_primary:h,cta_secondary:f,verify:v,tree:b,available:y,treeButton:j,classic_view:_,other_state:g}=this.state;let x=e-1,O=window.innerWidth<768;const w={icon:l||n,size:40,color:"".concat(r||(v?"#1babec":"#989898"))};return console.log("||||||||||||||||||||||||||||||||||   SubItemSC",s),Object(p.jsxs)("div",{className:"subItemSecurityCenter",style:{gridTemplateColumns:_?"1fr":"12vw 1fr"},onClick:y&&O?"to_disable"===g?this.actionHandle:v||"confirmed"===g||"send"===g?null:this.actionHandle:null,children:[O&&!b&&Object(p.jsx)("div",{className:"contCtaMovilSec",children:"send"===g?Object(p.jsx)("i",{className:"enviarNero fas fa-angle-double-down",style:{color:"gray"}}):"confirmed"===g?Object(p.jsx)("i",{className:"fas fa-spinner rotateGono",style:{color:"#bbbbbb"}}):v?Object(p.jsx)("i",{className:"fas fa-check",style:{color:"#59B200"}}):y&&Object(p.jsx)("i",{className:"fas fa-chevron-right anim-flow",style:{color:"gray",fontSize:"20px"}})}),Object(p.jsxs)("div",{className:"SCimgItem",style:{display:_?"none":"grid"},children:[Object(p.jsx)("div",{className:"SCimgItemCont ".concat(v?"active":""," ").concat(1===e?"first":""),children:Object(p.jsx)(u.default,{...w})}),Object(p.jsx)("div",{className:"SCconector ".concat(a===e?"last":""," ").concat(t||c>x?"active":"")})]}),Object(p.jsxs)("div",{className:"contentSubItem  ".concat(this.props.subItem.name," ").concat(a===e?"last":"","  ").concat("confirmed"===g?"confir":""),children:[Object(p.jsxs)("div",{className:"contentSubText ".concat(y?"available":""," fuente"),style:{gridTemplateRows:b?"70px 1fr":"60px 40px 1fr",opacity:v&&y||"confirmed"===g||"send"===g?"1":"rejected"===g?"0.8":"0.35"},children:[Object(p.jsxs)("div",{className:"SCtitle",style:{color:_&&v?"#0198ff":_?"gray":v&&b?"#0198ff":"gray"},children:[Object(p.jsx)("div",{className:"ScimgClassicView ".concat(_?"classic_view":""),style:{display:_?"flex":"none"},children:Object(p.jsx)(u.default,{...w})}),s]}),m&&Object(p.jsxs)("p",{className:"fuente SCdesc",style:{alignSelf:b?"flex-start":"center",color:"send"===g?"#545454":"rejected"===g?"#a90000":"gray"},children:["send"===g&&Object(p.jsx)("i",{className:"enviarNero fas fa-angle-double-down"}),m]}),Object(p.jsx)("div",{className:"SCverification",style:{color:v?"#59B200":"confirmed"===g?"gray":"send"===g?"#59B200":"#540000",display:b?"none":"visible"},children:v?Object(p.jsxs)(i.Fragment,{children:[Object(p.jsx)("i",{className:"fas fa-check"}),"Completado con \xe9xito"]}):"confirmed"===g?Object(p.jsxs)("div",{className:"confirmedIndentSc",children:[Object(p.jsx)("div",{className:"loaderScontainer",children:Object(p.jsx)(o.default,{loader:2})}),"verificando..."]}):"send"===g?Object(p.jsxs)(i.Fragment,{children:[Object(p.jsx)("i",{className:"SCUnverify fas fa-share"}),"Informaci\xf3n enviada"]}):Object(p.jsxs)(i.Fragment,{children:[Object(p.jsx)("i",{className:"SCUnverify fas fa-times"}),"".concat("Inicial"===s?"Verificaci\xf3n inicial sin completar":"Avanzada"===s?"Verificaci\xf3n avanzada sin completar":"".concat(s," sin ").concat(h))]})})]}),Object(p.jsx)("div",{className:"SCcta ".concat(g),style:{display:_||b&&!j||"withdraw"===this.props.subItem.name?"none":"grid"},children:Object(p.jsx)(d.b,{id:"subItemSC",type:"".concat(v?"secundary":"primary"),active:y,siguiente:"to_disable"===g?this.actionHandle:v||"confirmed"===g||"send"===g?null:this.actionHandle,children:"".concat("confirmed"===g?"Verificando":"send"===g?"Enviado":v?f:h)})}),Object(p.jsx)("div",{className:"SCcta",style:{display:_?"grid":"none"},children:Object(p.jsxs)(d.b,{id:"ClassicView",type:"".concat(v?"secundary":"primary"),active:y,siguiente:this.actionHandle,children:[Object(p.jsxs)("div",{className:"ClassicTextCont fuentePrin",style:{display:y?"grid":"none"},children:[Object(p.jsx)("p",{className:"ClassicViewText",children:h}),Object(p.jsxs)("p",{className:"ClassicViewText",children:[f,Object(p.jsx)("i",{className:"fas fa-angle-right"})]})]}),!y&&"".concat(v?f:h)]})})]})]})}}var h=m;t(669);class f extends i.Component{constructor(){super(...arguments),this.state={current_item:[],lastVerify:null},this.initItem=async()=>{const{item:e}=this.props;Object.keys(e).forEach((async a=>{if("id"!==a&&"name"!==a){let t,i=e[a],c=await this.update_items(i);for(let e=0;e<c.length;e++)!0===c[e].verify&&(t=e);await this.setState({current_item:c,lastVerify:t})}}))},this.update_items=async e=>{const{update_state:a}=this.props;let t=[];return e.map((async e=>{let i=await a(e),c={...e,...i};return t.push(c)})),t}}componentDidMount(){this.initItem()}render(){const{item_action:e,update_state:a}=this.props,{current_item:t,lastVerify:i}=this.state;let c=0;return Object(p.jsx)("div",{name:this.props.name,className:"itemSecurityCenter",style:{padding:t[0]&&t[0].classic_view?"0":"20px 0 20px 0"},children:t.length>0&&t.map((s=>(c++,Object(p.jsx)(h,{subItem:s,item_action:e,index:c,totalIndex:t.length,lastVerify:i,nextVerify:t[c]&&t[c].verify,update_state:a,...this.props},s.id))))})}}var v=f;class b extends i.Component{constructor(){super(...arguments),this.item_action=async e=>{const{user:a}=this.props,{authenticator:i}=a.security_center,{phone:c}=a.settings,{name:s,other_state:n}=e;switch(s){case"kyc_basic":const e=(await Promise.all([t.e(1),t.e(77)]).then(t.bind(null,487))).default;return this.props.action.renderModal((()=>Object(p.jsx)(e,{})));case"kyc_financial":await this.props.action.CurrentForm("kyc_basic"),await this.props.action.ToStep("globalStep",3);const a=(await Promise.all([t.e(4),t.e(12),t.e(19),t.e(92)]).then(t.bind(null,714))).default;return this.props.action.renderModal((()=>Object(p.jsx)(a,{})));case"kyc_advanced":return await this.props.action.CurrentForm("kyc_basic"),await this.props.action.ToStep("globalStep",2),this.props.action.toggleModal();case"2auth":return"to_disable"===n?(await this.props.action.current_section_params({settings:{title:"Deshabilitando segundo factor",description:"Desactivar\xe1s la segunda capa de seguridad en todos los servicios activos.",txtPrimary:"Desactivar",txtSecondary:"Cancelar",authenticator:i,code:s,other_state:n}}),this.props.action.toggleOtherModal()):(await this.props.action.CurrentForm("2auth"),this.props.action.toggleModal());case"phone":return await this.props.action.current_section_params({settings:{title:"Actualizar n\xfamero de movil",description:"".concat(c?"Tu n\xfamero actual es: ".concat(c):"A\xfan no tienes n\xfamero celular de respaldo"),txtPrimary:"Actualizar",txtSecondary:"Cancelar",payload:c,code:s,type:"number",placeholder:"Escribe el nuevo n\xfamero",authenticator:i}}),this.props.action.toggleOtherModal();case"pass":return await this.props.action.current_section_params({settings:{title:"Cambia tu contrase\xf1a",description:"Esta contrase\xf1a es la que utilizas para acceder a tu cuenta",txtPrimary:"Actualizar",txtSecondary:"Cancelar",code:s,type:"number",placeholder:"Escribe el nuevo n\xfamero",authenticator:i}}),this.props.action.toggleOtherModal();case"transactional":return await this.props.action.current_section_params({settings:{title:"".concat("to_disable"===n?"Deshabilitando 2FA":"Agregando capa de seguridad"),description:"Activa el segundo factor para hacer operaciones de intercambio en coinsenda",txtPrimary:"Agregar",txtSecondary:"Cancelar",authenticator:i,code:s,other_state:n}}),this.props.action.toggleOtherModal();case"withdraw":return await this.props.action.current_section_params({settings:{title:"".concat("to_disable"===n?"Deshabilitando 2FA":"Agregando capa de seguridad"),description:"Activa el segundo factor para hacer operaciones de Retiro en coinsenda",txtPrimary:"Agregar",txtSecondary:"Cancelar",authenticator:i,code:s,other_state:n}}),this.props.action.toggleOtherModal();case"country":return await this.props.action.current_section_params({settings:{title:"Elige el pa\xeds de operaci\xf3n actual",txtPrimary:"Agregar",txtSecondary:"Cancelar",authenticator:!1,code:s}}),this.props.action.toggleOtherModal();case"currency":return await this.props.action.current_section_params({settings:{title:"Elige tu divisa de cotizaci\xf3n",txtPrimary:"Agregar",txtSecondary:"Cancelar",authenticator:!1,code:s}}),this.props.action.toggleOtherModal()}},this.update_state=async e=>{const{name:a,description:t}=e,{user:i}=this.props,{security_center:c}=i,{kyc:s}=c,{auth:n,transactional:r,withdraw:o}=c.authenticator;let l=window.innerWidth<768;switch(a){case"email":return{available:!0,verify:c.email,classic_view:l};case"identity":return{available:!0,verify:!0,classic_view:l};case"kyc_financial":return{classic_view:l,icon:"rejected"===s.financial?"error":null,color:"rejected"===s.financial?"#c70000":null,available:"accepted"===s.basic&&"accepted"===s.advanced,verify:"accepted"===s.financial,other_state:s.financial,description:"confirmed"===s.financial?"Tus datos financieros estan siendo verificados en estos momentos...":"rejected"===s.financial?"Tus datos no se han podido verificar, intenta nuevamente":t};case"kyc_basic":return{classic_view:l,color:"rejected"===s.basic?"#c70000":null,icon:"rejected"===s.basic?"error":null,available:!0,verify:"accepted"===s.basic,description:"confirmed"!==s.basic||s.advanced?"confirmed"===s.basic&&"confirmed"===s.advanced?"El sistema esta verificando tus datos...":"rejected"===s.basic&&"rejected"===s.advanced?i.verification_error||"\xa1Vaya!, al parecer los datos no se han podido verificar, vuelve a intentarlo":"":"Contin\xfaa con la identificaci\xf3n avanzada para dar inicio a la verificaci\xf3n de tus datos.",other_state:"confirmed"===s.basic&&"confirmed"===s.advanced?"confirmed":"confirmed"!==s.basic||s.advanced&&"rejected"!==s.advanced?"rejected"===s.advanced?"rejected":null:"send"};case"kyc_advanced":return{classic_view:l,available:"confirmed"===s.basic||"accepted"===s.advanced||null,verify:"accepted"===s.advanced,other_state:s.advanced,description:"confirmed"===s.basic&&"confirmed"===s.advanced?"El sistema esta verificando tus datos...":"rejected"===s.advanced&&""};case"2auth":return{classic_view:l,available:!0,other_state:n?"to_disable":null,verify:n};case"transactional":return{classic_view:l,available:n&&!0,other_state:r?"to_disable":null,verify:n&&r};case"withdraw":return{classic_view:l,available:n&&!0,other_state:o?"to_disable":null,verify:n&&o};default:return!1}},this.update_phone=e=>{}}render(){const{data:e}=this.props;return Object(p.jsx)("section",{className:"SecurityCenter",children:e&&e.map((e=>Object(p.jsx)(v,{name:e.name,item:e,item_action:this.item_action,update_state:this.update_state,...this.props},e.id)))})}}var y=Object(s.b)((function(e,a){const{user:t}=e.modelData;return{loader:e.isLoading.loader,advace_global_step:e.form.globalStep,user:t}}),(function(e){return{action:Object(n.bindActionCreators)(r.a,e)}}))(b),j=t(53),_=t(44),g=t(45),x=t(102);a.default=Object(s.b)((function(e,a){const{user:t}=e.modelData,{verification_state:i}=e.ui;return{user:t,loader:e.isLoading.loader,verification_state:i}}),(function(e){return{action:Object(n.bindActionCreators)(r.a,e)}}))((e=>{var a,t;const[s,n]=Object(_.a)(),r=Object(g.a)();return Object(i.useEffect)((()=>("accepted"!==e.verification_state&&(j.scroller.scrollTo("firstInsideContainer",{offset:-50,duration:1,smooth:!0,containerId:"containerElement"}),s.freshChatShowTags(["verify"],"article")),()=>{r.default_video_state()})),[]),Object(i.useEffect)((()=>{r.isAppLoading(!0),setTimeout((()=>{r.isAppLoading(!1)}),100),Object(x.b)(n.modelData)}),[null===n||void 0===n||null===(a=n.modelData)||void 0===a||null===(t=a.user)||void 0===t?void 0:t.security_center]),Object(p.jsx)(i.Fragment,{children:Object(p.jsx)(c.a,{customClass:"securityCenterDetail_",title:"Centro de seguridad",...e,children:e.loader?Object(p.jsx)(o.default,{label:"Obteniendo configuraciones"}):l.a&&Object(p.jsx)(y,{user:e.user,data:l.a})})})}))}}]);
//# sourceMappingURL=93.1a4f3234.chunk.js.map