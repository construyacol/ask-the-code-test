(this["webpackJsonpcoinsenda-app"]=this["webpackJsonpcoinsenda-app"]||[]).push([[63],{683:function(e,t,a){"use strict";a.r(t);var c=a(2),r=(a(170),a(334)),s=a(339),n=a(404),l=a(429),i=a(332),o=a(472),d=a(331),u=a(496),j=a(15),m=a(14);var b=e=>{const{handleSubmit:t,actualizarEstado:a,name:c,currency:b,step:p,loader:h,address:O,short_currency_name:w,qr:x,clearCurrency:y}=e,[f]=Object(o.a)(),g=Object(d.a)(!0,"add-new-wallet-button",13,!1,"onkeypress",!0);return Object(m.jsxs)("div",{className:"containerFormWallet newWallet",children:[1===p&&Object(m.jsx)("div",{className:"step1 newWallet",children:f?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("h1",{className:"fuente",children:" Nueva billetera "}),Object(m.jsxs)("form",{onSubmit:t,style:{width:"100%"},children:[Object(m.jsx)(s.f,{clase:"nameWallet containerInputComponent",type:"text",label:"Nombra tu nueva billetera",placeholder:"Billetera de trading",name:"name",actualizarEstado:a,active:c&&b,autoFocus:!0}),Object(m.jsx)(n.a,{type:"coins",label:"\xbfC\xfaal moneda manejar\xe1s en tu billetera?",itemSelect:b,actualizarEstado:a,update_control_form:e.update_control_form,items:f,clearItem:y}),Object(m.jsx)(r.i,{id:g,label:"Crear Billetera",type:"primary",active:c&&b})]})]}):Object(m.jsx)(u.a,{})}),2===p&&Object(m.jsx)("div",{className:"step2",children:h?Object(m.jsx)(i.SimpleLoader,{label:"Creando wallet ".concat(b)}):Object(m.jsxs)("section",{className:"stepFinish",children:[Object(m.jsxs)("div",{className:"nWCabeza",children:[Object(m.jsx)("div",{className:"icon icon--order-success svg",children:Object(m.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"72px",height:"72px",alt:"",children:Object(m.jsxs)("g",{fill:"none",stroke:"white",strokeWidth:"3",children:[Object(m.jsx)("circle",{cx:"36",cy:"36",r:"35"}),Object(m.jsx)("path",{className:"check",d:"M17.417,37.778l9.93,9.909l25.444-25.393"})]})})}),Object(m.jsx)("p",{className:"titleWhite fuente",children:" Operaci\xf3n Exitosa"})]}),Object(m.jsx)("div",{className:"nWbody fuente",children:Object(m.jsxs)("div",{className:"nWadress",children:[Object(m.jsxs)("div",{className:"nWname",children:[""!==w&&Object(m.jsx)("img",{className:"itemFuera",src:"".concat(Object(j.b)("assets"),"coins/").concat(w,".png"),width:"30",alt:""}),Object(m.jsxs)("p",{children:["Nueva wallet de ",e.currency," creada"]})]}),Object(m.jsx)("p",{children:c}),Object(m.jsx)("img",{className:"itemFuera",src:x,width:"180",alt:""}),Object(m.jsx)(l.a,{valueToCopy:O,color:"white"})]})}),Object(m.jsx)("div",{className:"nWcta",children:Object(m.jsx)(r.g,{id:"add-new-wallet-button",toggleModal:e.finalizar,children:"Finalizar"})})]})})]})},p=a(98),h=a(27),O=a(99),w=a(11),x=a(333),y=a(338);t.default=Object(p.b)((function(e,t){const a=e.modelData.user;return{search:e.form.search_coin,form_wallet:e.form.form_wallet,buttonActive:e.form.form_control_wallet,loader:e.isLoading.loader,step:e.form.form_wallet.step,current:e.form.current,user:a,state:e.modelData,currencies:e.modelData.currencies,wallets:e.modelData.wallets}}),(function(e){return{action:Object(h.bindActionCreators)(O.a,e)}}))((e=>{const[t,a]=Object(c.useState)(),[r,s]=Object(c.useState)(e.search.length&&e.search[0].currency),[n]=Object(c.useState)(),[l,i]=Object(c.useState)(),[o]=Object(x.a)(),[d]=Object(y.a)(),u=async()=>{const{user:a,currencies:c}=e;let s=await Object(w.matchItem)(c,{primary:r},"currency");const n={data:{name:t,description:"description",country:a&&a.country,enabled:!0,currency:{currency:s[0].currency,is_token:s[0].is_token}}},l=await o.createWallet(n);if(!l)return j("Error al crear la billetera...");await o.getWalletsByUser();const{account:i}=l;if(!await o.createAndInsertDepositProvider(i))return j("Error al crear el proveedor de deposito de la billetera...");let u="Nueva wallet ".concat(i.currency.currency," creada!");return d(u,"success"),e.action.isAppLoading(!1),e.action.success_sound(),await e.action.toggleModal(),await e.action.CleanForm("wallet"),e.history.push("/wallets/deposit/".concat(i.id))},j=t=>(e.action.ReduceStep("wallets"),e.action.isAppLoading(!1),d(t||"Ups, al parecer esto no podr\xe1 ser...","error")),p=async e=>{e.target.short_name&&await i(e.target.short_name);const t=e.target.name,c=e.target.value;switch(t){case"name":return a(c);case"currency":return s(c)}},h=()=>e.action.IncreaseStep(e.current);Object(c.useEffect)((()=>()=>e.action.CurrentForm("wallets")),[]);let O={name:t,currency:r,address:n,short_currency_name:l};return Object(m.jsx)(b,{clearCurrency:()=>{s(null)},actualizarEstado:p,handleSubmit:t=>{t.preventDefault(),e.action.isAppLoading(!0),h(),p(t),u()},update_control_form:e=>{},buttonActive:e.buttonActive,loader:e.loader,finalizar:t=>{e.action.toggleModal(),e.action.CleanForm("wallet")},step:e.step,...O,...e})}))}}]);
//# sourceMappingURL=63.ab6b7b10.chunk.js.map