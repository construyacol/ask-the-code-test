{"version":3,"sources":["hooks/useObserver.js","components/wallets/views/withdraw-activity.js","components/withdrawAccounts/witdrawAccountContainer.js"],"names":["useObserver","options","_useState","useState","_useState2","Object","slicedToArray","elements","setElements","_useState3","_useState4","entries","setEntries","observer","useRef","IntersectionObserver","observedEntries","useEffect","currentObserver","current","disconnect","length","forEach","element","observe","connect","state","props","loader","isLoading","isWithdraws","match","params","primary_path","dispatch","action","bindActionCreators","actions","setLoader","_useCoinsendaServices","useCoinsendaServices","CoinsendaService","isMovilViewport","useViewport","_useObserver","root","rootMargin","threshold","_useObserver2","items_","showLoaderItems","setLoadingItems","_useState5","_useState6","page","setPage","getItems","_ref","asyncToGenerator","regenerator_default","a","mark","_callee","res","wrap","_context","prev","next","fetchActivityByAccount","account_id","sent","console","log","concat","toConsumableArray","stop","apply","this","arguments","init","_ref2","_callee3","_context3","window","requestAnimationFrame","_callee2","_context2","document","querySelectorAll","scroller","scrollTo","offset","duration","smooth","containerId","_ref4","_callee4","entry","_context4","isIntersecting","unobserve","target","_x","react_default","createElement","className","filters","view","order_item","activity","assign","style","paddingTop","arrayLength","modelData","ui","user","isAppLoaded","withdraw_accounts","current_wallet","current_section","currencies","data","cleanCurrentSection","CurrentForm","items_menu","navigation_components","wallets","history","react_router","path","render","routeProps","detailContainerLayout","title","strict","component","renderProps","walletContainer","Fragment","exact","account_list","isWithdrawView","dashboard_container","withdrawActivity"],"mappings":"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","file":"static/js/8.38ca20dc.chunk.js","sourcesContent":["import { useEffect, useRef, useState } from \"react\";\n\nconst useObserver = options => {\n  const [elements, setElements] = useState([]);\n  const [entries, setEntries] = useState([]);\n\n  const observer = useRef(new IntersectionObserver(observedEntries => {\n    setEntries(observedEntries);\n  }, options));\n\n  useEffect(() => {\n    const { current: currentObserver } = observer;\n    currentObserver.disconnect();\n    if (elements.length) {\n      elements.forEach(element => currentObserver.observe(element));\n    }\n    return () => {\n      if (currentObserver) {\n        currentObserver.disconnect();\n      }\n    };\n  }, [elements]);\n\n  return [observer.current, setElements, entries];\n};\n\nexport default useObserver;","import React, { useEffect, useState, useRef } from 'react'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport actions from '../../../actions'\nimport ActivityList from '../../widgets/activityList/activity'\nimport ActivityFilters from '../../widgets/activityList/filters'\nimport { LoaderItem } from '../../widgets/activityList/order_item'\n\nimport './wallet_views.css'\nimport { useCoinsendaServices } from '../../../services/useCoinsendaServices'\nimport useViewport from '../../../hooks/useWindowSize'\nimport useObserver from '../../../hooks/useObserver'\nimport { scroller } from 'react-scroll'\n\nconst ActivityView = props => {\n  const { params } = props.match\n  const [loader, setLoader] = useState(true)\n  const [CoinsendaService] = useCoinsendaServices()\n  const { isMovilViewport } = useViewport()\n\n  const [observer, setElements, entries] = useObserver({\n    root: null,\n    rootMargin: \"0px\",\n    threshold: 0\n  });\n\n  const items_ = useRef([])\n  const [showLoaderItems, setLoadingItems] = useState(true)\n  const [page, setPage] = useState(0)\n\n  const getItems = async () => {\n    const res = await CoinsendaService.fetchActivityByAccount(params.account_id, page)\n    console.log(res)\n    items_.current = [...items_.current, ...res]\n    res && setPage(page + 1)\n    if (res.length < 10) {\n      setLoadingItems(false)\n    }\n    setLoader(false)\n  }\n\n  const init = async () => {\n    window.requestAnimationFrame(async () => {\n      setLoadingItems(true)\n      setPage(0)\n      const elements = document.querySelectorAll(\".lazy\");\n      setElements(elements)\n    })\n  }\n\n  useEffect(() => {\n    isMovilViewport && window.requestAnimationFrame(() => {\n      scroller.scrollTo('firstInsideContainer', {\n        offset: -60,\n        duration: 0,\n        smooth: true,\n        containerId: 'containerElement'\n      })\n    })\n    init()\n  }, [])\n\n  useEffect(() => {\n    entries && entries.forEach(async entry => {\n      if (entry.isIntersecting) {\n        await getItems()\n      }\n      if (!showLoaderItems) observer.unobserve(entry.target)\n    })\n  }, [entries, observer])\n\n  return (\n    <div className=\"ActivityView\">\n      <ActivityFilters view={params.primary_path} />\n      {\n        (loader) ?\n          <LoaderItem />\n          :\n          <ActivityList\n            activity={items_.current}\n            {...props}\n          />\n      }\n      {showLoaderItems && (\n        <div\n          className=\"lazy\"\n          style={{ paddingTop: 20 }}\n        >\n          <LoaderItem arrayLength={3} />\n        </div>\n      )}\n    </div>\n  )\n\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    action: bindActionCreators(actions, dispatch)\n  }\n}\n\nfunction mapStateToProps(state, props) {\n  const { loader } = state.isLoading\n  const { params } = props.match\n  const isWithdraws = params.primary_path === 'withdraw_accounts'\n\n  return {\n    loader,\n    isWithdraws\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ActivityView)\n","import React, { useEffect } from 'react'\nimport { connect } from 'react-redux'\nimport actions from '../../actions'\nimport { bindActionCreators } from 'redux'\nimport DetailContainerLayout from '../widgets/detailContainer/detailContainerLayout'\nimport { navigation_components } from '../api/ui/api.json'\nimport { Router, Route } from 'react-router-dom'\nimport AccountList from '../widgets/accountList/account-list'\n// import SimpleLoader from '../widgets/loaders'\nimport PropTypes from 'prop-types'\nimport { AccountListSkeletonLoader } from '../dashBoard/dashboard-container'\nimport { WalletDetail } from '../wallets/walletContainer'\nimport withdrawActivity from '../wallets/views/withdraw-activity'\n\nfunction WitdrawAccountContainer(props) {\n\n  // userWallets, lo utilozamos para hacer validación de la respuesta del API\n  const title = \"Mis Cuentas de retiro\"\n\n  useEffect(() => {\n    props.action.cleanCurrentSection()\n    props.action.CurrentForm('bank')\n  }, [])\n\n  const { items_menu } = navigation_components.wallets\n  const { withdraw_accounts, isAppLoaded, data, history } = props\n\n  // console.log('||||||||||||||||||||||||||||||||| withdraw_accounts ', withdraw_accounts)\n\n  return (\n    <Router\n      history={history}\n    >\n\n      <Route path={[\"/:primary_path/:path/:account_id/\", \"/:primary_path\"]} render={routeProps => (\n        <DetailContainerLayout\n          items_menu={items_menu}\n          title={title}\n          {...props}\n          {...routeProps}\n        >\n          <Route strict path=\"/:primary_path/:path/:account_id/:tx_path\" component={(renderProps) => (\n            <WalletDetail wallets={data} {...renderProps} />\n          )} />\n          <>\n            <Route exact path=\"/:primary_path\" component={() => (\n              <>\n                {\n                  !withdraw_accounts ?\n                    <AccountListSkeletonLoader />\n                    :\n                    (isAppLoaded && withdraw_accounts) &&\n                    <AccountList {...routeProps} isWithdrawView data={data} />\n                }\n              </>\n            )} />\n            <Route strict path={[\"/:primary_path/:path/:account_id/:tx_path\"]} component={withdrawActivity} />\n          </>\n        </DetailContainerLayout>\n      )} />\n\n    </Router>\n  )\n}\n\nWitdrawAccountContainer.propTypes = {\n  isAppLoaded: PropTypes.bool,\n  currencies: PropTypes.array,\n  current_wallet: PropTypes.object,\n  user: PropTypes.object,\n  withdraw_accounts: PropTypes.array\n}\n\nfunction mapStateToProps({ modelData, ui, isLoading }) {\n  const {\n    user\n  } = modelData\n\n  const {\n    isAppLoaded\n  } = isLoading\n\n  return {\n    withdraw_accounts: user.withdraw_accounts,\n    user,\n    current_wallet: ui.current_section.params.current_wallet,\n    currencies: modelData.currencies || null,\n    isAppLoaded,\n    data: modelData.withdraw_accounts\n  }\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    action: bindActionCreators(actions, dispatch)\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(WitdrawAccountContainer)\n"],"sourceRoot":""}