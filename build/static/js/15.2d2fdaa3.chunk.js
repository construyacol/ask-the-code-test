(this["webpackJsonpcoinsenda-app"]=this["webpackJsonpcoinsenda-app"]||[]).push([[15,28,89],{474:function(e,t,a){"use strict";a.r(t),a.d(t,"Wrapper",(function(){return o}));var s,n=a(2),l=a(3),i=a(76);const o=l.b.div(s||(s=Object(n.a)(["\n  grid-template-columns: 1fr;\n  display: grid;\n  height: auto;\n  min-height: 100vh;\n  width:100vw;\n  position:absolute;\n  top:0;\n  left:0;\n  z-index:99;\n  backdrop-filter: blur(2px);\n  background: linear-gradient(to bottom right, #00000099, #000000f0);\n  \n  .selectedItemTag__title p{\n    text-transform:capitalize;    \n  }\n\n  &.infoPanel{\n    grid-template-columns: auto 1fr;\n  }\n\n  &._show{\n    animation-name: ",";\n    animation-duration: 0.5s;\n    animation-iteration-count: forwards;\n  }\n\n"])),i.h)},513:function(e,t,a){"use strict";a.r(t);var s=a(1),n=a(540),l=a(520),i=a(5),o=a(502),r=a(500),c=a(583),d=a(584),u=a(557),v=a(494),b=a(110),g=a(474),j=a(473),h=a(478),m=a(0);const p=Object(i.a)((()=>Promise.resolve().then(a.bind(null,492))));t.default=e=>{var t,a,i,O,f;let{handleDataForm:y,handleState:x,closeModal:k,actions:S}=e;const{dataForm:C,setDataForm:_}=y,{state:w,setState:L}=x,[N,D]=Object(s.useState)(!1),T=Object(l.a)(Object.keys((null===C||void 0===C||null===(t=C.handleError)||void 0===t?void 0:t.errors)||C.stages),C.stages),M=Object(b.a)(!0,"next-stage-kyc",13,!1,"onkeypress",!0),{prevStage:P,nextStage:F,currentStage:B,stageController:E,finalStage:A,stageData:I,setStageData:q,stageStatus:z,setStageStatus:G}=T,J=async()=>{"success"===z&&(G(null),document.querySelector('[name="'.concat(null===I||void 0===I?void 0:I.key,'"]')).value="",document.querySelector(".label_text__"+(null===I||void 0===I?void 0:I.key)).style.color="gray",D(!0),F(),await Object(r.getNextSelectList)({state:w,stageData:I,setDataForm:_}),D(!1))},W=e=>{var t;e.target.preventDefault&&e.target.preventDefault();const[a,s]=n.default[I.key](null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.value,{...I,state:w,dataForm:C});e.target.value=a,L((e=>({...e,[null===I||void 0===I?void 0:I.key]:a}))),G(s)};return Object(s.useEffect)((()=>{let e=document.querySelector('[name="'.concat(null===I||void 0===I?void 0:I.key,'"]'));e&&w[I.key]&&(W({target:{value:w[I.key]}}),e.value=w[I.key])}),[w[null===I||void 0===I?void 0:I.key]]),Object(s.useEffect)((()=>{if(B>=E.length){(async()=>{D(!0);let e=await Object(v.ApiPostLocation)(w);if(D(!1),!e)return P();const t=await Object(j.e)({formName:"identity"});_(t)})()}}),[B]),N?Object(m.jsx)(u.default,{}):!N&&A?Object(m.jsx)(u.default,{closeModal:k}):Object(m.jsxs)(g.Wrapper,{style:{background:"white"},children:[(null===C||void 0===C||null===(a=C.handleError)||void 0===a?void 0:a.errors)&&Object(m.jsx)(p,{component:"infoPanel",title:"Campos completados",state:w,stageData:I,dataForm:C}),Object(m.jsxs)(h.MainContainer,{children:[Object(m.jsx)(h.TitleContainer,{id:"titleContainer__",children:Object(m.jsx)("h1",{className:"titleContainer__h1 fuente",children:"Agrega tu informaci\xf3n de residencia"})}),Object(m.jsxs)(h.StickyGroup,{background:"white",id:"stickyGroup__",children:[Object(m.jsx)(d.default,{stageController:E,stages:null===C||void 0===C?void 0:C.stages,currentStage:B,children:Object(m.jsx)(c.BackButtom,{onClick:()=>(L((e=>({...e,[null===I||void 0===I?void 0:I.key]:""}))),P()),disabled:B<=0})}),Object(m.jsx)(o.default,{onChange:W,inputStatus:z,defaultValue:w[null===I||void 0===I?void 0:I.key],name:null===I||void 0===I?void 0:I.key,message:null===I||void 0===I||null===(i=I.settings)||void 0===i?void 0:i.defaultMessage,placeholder:null===I||void 0===I||null===(O=I.settings)||void 0===O?void 0:O.placeholder,type:null===I||void 0===I?void 0:I.uiType,setStageData:q,dataForm:C,state:w,progressBar:{start:B+1,end:E.length,showSteps:!0},AuxComponent:[null===I||void 0===I||null===(f=I.settings)||void 0===f?void 0:f.auxComponent,()=>Object(m.jsx)(c.NextButtom,{id:M,onClick:J,disabled:B>=E.length||"success"!==z})]})]}),Object(m.jsx)(p,{component:"kyc/selectList",list:null===I||void 0===I?void 0:I.selectList,name:null===I||void 0===I?void 0:I.key,state:w,handleAction:W})]})]})}},520:function(e,t,a){"use strict";var s=a(1),n=a(473),l=a(4);t.a=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const[i,o]=Object(s.useState)(),[r,c]=Object(s.useState)(a),[d,u]=Object(s.useState)(t[e[r]]),v=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;r>=e.length||c((e=>e+t))},b=()=>{r<=0||c((e=>e-1))};return Object(s.useEffect)((()=>{var e;if(null===d||void 0===d||null===(e=d.settings)||void 0===e?void 0:e.queryParams){let e=Object(n.c)(d.settings.queryParams);null===l.hb||void 0===l.hb||l.hb.push(e)}}),[d]),Object(s.useEffect)((()=>{const a=t[e[r]];u(a)}),[r,t[e[r]]]),{currentStage:r,nextStage:v,prevStage:b,stageController:e,stageData:d,setStageData:u,stageStatus:i,setStageStatus:o,finalStage:r>=e.length}}},540:function(e,t,a){"use strict";a.r(t);var s=a(500);const n=(e,t)=>{Object(s.validateLabelMsg)(e,t);let a=Object(s.parseOnlyLetters)(e),n=a.match(t.settings.successPattern)&&"success";return[a,n]},l=(e,t)=>{var a,n;if(!(null===t||void 0===t?void 0:t.selectList))return i(e,t);Object(s.validateLabelMsg)(e,t);let l=e.replace(/[^a-zA-Z _]/g,""),o=[];Object.keys(null===t||void 0===t?void 0:t.selectList).forEach((t=>{t.includes(e.toLowerCase())&&(o=[...o,t])})),o.forEach((t=>{t===e.toLowerCase()&&(o=[t])}));let r=l.match(null===t||void 0===t||null===(a=t.settings)||void 0===a?void 0:a.successPattern)&&1===o.length&&"success";var c;1===(null===(n=o)||void 0===n?void 0:n.length)&&e&&(l=o&&o[0],Object(s.addItemTag)(t.key,null===t||void 0===t||null===(c=t.selectList[o[0]])||void 0===c?void 0:c.uiName));return[l,r]},i=(e,t)=>[e,e.length>3&&"success"],o={...{location_country:l,province:l,address:i,city:l},...{phone:(e,t)=>{Object(s.validateLabelMsg)(e,t);let a=Object(s.parseOnlyNumbers)(e),n=a.match(t.settings.successPattern)&&"success";return[a,n]},meta_phone:(e,t)=>{Object(s.validateLabelMsg)(e,t);let a=e.replace(/[^a-zA-Z _]/g,""),n=Object.keys(null===t||void 0===t?void 0:t.selectList).filter((t=>t.includes(e.toLowerCase()))),l=a.match(t.settings.successPattern)&&1===n.length&&"success";var i;1===n.length&&e&&(a=n&&n[0],Object(s.addItemTag)(t.key,null===t||void 0===t||null===(i=t.selectList[n[0]])||void 0===i?void 0:i.uiName,".prefixInputContainer"));return[a,l]}},...{nationality:l,id_type:l,name:n,surname:n,birthday:(e,t)=>{var a,n,l,i,o;let r=(null===(a=t.state)||void 0===a||null===(n=a.birthday)||void 0===n?void 0:n.includes("/"))?Object(s.formatMaskDate)(null===(l=t.state)||void 0===l?void 0:l.birthday):null===(i=t.state)||void 0===i?void 0:i.birthday,c=(null===(o=new Date(r))||void 0===o?void 0:o.getFullYear())||(new Date).getFullYear(),d=(new Date).getFullYear()-c,u=e||null,v=d>=18&&d<100&&u&&"success";const b=document.querySelector('[name="birthday"]'),g=".label_text__".concat(t.key);return"success"===v?(setTimeout((()=>{b.classList.add("date_success")}),10),Object(s.writeOnLabel)(g,t.settings.defaultMessage)):(d<18&&Object(s.writeOnLabel)(g,"Debes de ser mayor de edad(+18) para continuar","error"),d>100&&Object(s.writeOnLabel)(g,"Has superado los l\xedmites de longevidad humana","error"),setTimeout((()=>{b.classList.remove("date_success")}),10)),[u,v]},id_number:(e,t)=>{var a,n,l;let i=JSON.parse(JSON.stringify(t));const{id_type:o}=null===i||void 0===i?void 0:i.state,r="pasaporte"===o?t.settings.successPattern[o]:t.settings.successPattern.others;i.settings.errors="pasaporte"===o?null===t||void 0===t||null===(a=t.settings)||void 0===a?void 0:a.errors[o]:null===t||void 0===t||null===(n=t.settings)||void 0===n||null===(l=n.errors)||void 0===l?void 0:l.others,Object(s.validateLabelMsg)(e,i);let c="pasaporte"===o?Object(s.parseAlphanumeric)(e):Object(s.parseOnlyNumbers)(e);c=c.toUpperCase();let d=c.match(r)&&"success";return[c,d]}}};t.default=o},557:function(e,t,a){"use strict";a.r(t);var s=a(474),n=a(478),l=a(0);t.default=()=>Object(l.jsx)(s.Wrapper,{style:{background:"white"},children:Object(l.jsxs)(n.MainContainer,{children:[Object(l.jsx)(n.TitleContainer,{className:"skeleton",children:Object(l.jsx)("h1",{className:"titleContainer__h1",children:"This is a awesome title"})}),Object(l.jsxs)(n.StickyGroup,{background:"white",id:"stickyGroup__",children:[Object(l.jsx)(i,{}),Object(l.jsx)(o,{})]})]})});const i=()=>Object(l.jsx)(n.LabelContainer,{children:Object(l.jsx)(n.TitleLabelContainer,{className:"skeleton",children:"This is a awesome title label"})}),o=()=>Object(l.jsxs)(n.InputContainer,{className:"skeleton",children:[Object(l.jsx)("input",{defaultValue:"This is a awesome input"}),Object(l.jsx)(n.LabelText,{className:"skeleton",children:"This is a awesome label"})]})},583:function(e,t,a){"use strict";a.r(t),a.d(t,"BackButtom",(function(){return i})),a.d(t,"NextButtom",(function(){return o}));a(1);var s=a(524),n=a(478),l=a(0);const i=e=>{let{onClick:t,disabled:a}=e;return Object(l.jsx)(n.IconBackContainer,{onClick:t,disabled:a||"",width:"22px",children:Object(l.jsx)(s.a,{size:22})})},o=e=>{let{onClick:t,disabled:a,id:i}=e;return Object(l.jsx)(n.IconNextContainer,{id:"".concat(i||""),className:"personal_nextButtom_",onClick:t,disabled:a||"",width:"35px",children:Object(l.jsx)(s.b,{size:35,color:"#06a"})})}},584:function(e,t,a){"use strict";a.r(t);var s=a(1),n=a.n(s),l=a(478),i=a(0);const o=e=>{let{children:t,currentStage:a,stages:s,stageController:n}=e;return Object(i.jsxs)(l.LabelContainer,{className:"fuente",children:[t,Object(i.jsx)(l.TitleLabelContainer,{children:Object(i.jsx)(l.Titles,{height:n.length,position:a,children:n.map(((e,t)=>{var a,n;return Object(i.jsx)("p",{children:(null===(a=s[e])||void 0===a||null===(n=a.settings)||void 0===n?void 0:n.label)||s[e].uiName},t)}))})})]})};t.default=n.a.memo(o)}}]);
//# sourceMappingURL=15.2d2fdaa3.chunk.js.map