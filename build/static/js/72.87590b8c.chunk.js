(this["webpackJsonpcoinsenda-app"]=this["webpackJsonpcoinsenda-app"]||[]).push([[72,49],{450:function(e,n,o){"use strict";o.r(n),o.d(n,"ApiGetPersonalStages",(function(){return r})),o.d(n,"ApiPostPersonalKyc",(function(){return i})),o.d(n,"PERSONAL_DEFAULT_STATE",(function(){return c})),o.d(n,"PERSONAL_COMPONENTS",(function(){return l})),o.d(n,"PERSONAL_STAGES",(function(){return m}));var t=o(50),a=o(20),s=o.n(a);console.log({res:{levels:{level_1:{personal:{natural:{name:{ui_name:"Nombres completos"},phone:{ui_name:"Numero de tel\xe9fono",ui_type:"phone"},nationality:{colombia:{ui_name:"Colombia"},afghanistan:{ui_name:"Afghanistan"},ui_name:"Nacionalidad del documento",ui_type:"select"},address:{ui_name:"Direcci\xf3n de residencia"},city:{ui_name:"Ciudad"},id_type:{ui_name:"Tipo de documento",ui_type:"select",cedula_ciudadania:{ui_name:"Cedula de ciudadan\xeda"},cedula_extranjeria:{ui_name:"Cedula de extranjer\xeda"},pasaporte:{ui_name:"Pasaporte"},pep:{ui_name:"Permiso especial de permanencia"}},id_number:{ui_name:"N\xfamero de documento",ui_type:"text"},birthday:{ui_name:"Fecha de nacimiento",ui_type:"date"},country:{colombia:{ui_name:"Colombia",value:"colombia"},peru:{ui_name:"Per\xfa",value:"peru"},ui_name:"Pa\xeds",ui_type:"select"},surname:{ui_name:"Apellidos completos"}}}}}}});const r=async e=>{var n;const{personType:o,level:a,formName:s}=e;let r=await t.a.countryValidators();if(r)return null===r||void 0===r||null===(n=r.res)||void 0===n?void 0:n.levels[a][s][o]},i=async(e,n)=>{const{setLoading:o,prevStage:a,toastMessage:r}=n;let i={info:{...e},info_type:"personal",verification_level:"level_1"};const c=new Date(i.info.birthday).getTime();i.info.birthday=s()(c).div(1e3).toString(),o(!0);let l=await t.a.updateLevelProfile(i);l||(r("No ha sido posible completar la verificaci\xf3n.","error"),a()),o(!1);const{user:m}=t.a.globalState.modelData,{data:{personal:u}}=l;let p={...m,...u,levels:{...m.levels,personal:"confirmed"},security_center:{...m.security_center,kyc:{...m.security_center.kyc,basic:"confirmed"}},country:m.country};return await t.a.updateUser(p),l},c={},l={wrapperComponent:{personal:"personalKycComponent"}},m={personal:{id_type:{uiName:"Tipo de documento:",key:"id_type",uiType:"text",settings:{defaultMessage:"Elige el documento de identidad con el cual verificar\xe1s tu cuenta.",successPattern:/[a-zA-Z ]{3,40}/g,label:"Tipo de documento:",placeholder:"Elije tu documento de identidad",selectList:{},queryParams:{form:"personal_id_type"},errors:[]}},city:{uiName:"Ciudad de residencia",key:"city",uiType:"text",settings:{defaultMessage:"Escribe la ciudad en la que resides actualmente",successPattern:/[a-zA-Z ]{3,40}/g,label:"Ciudad de residencia:",placeholder:"Elije tu ciudad actual",queryParams:{form:"personal_residence_city"},errors:[{pattern:/[^a-zA-Z ]{1,30}/g,message:"Solo se permiten letras..."}]}},address:{uiName:"Direcci\xf3n de residencia:",key:"address",uiType:"text",settings:{defaultMessage:"Escribe de forma completa tu direcci\xf3n actual de residencia",successPattern:/[a-zA-Z ]{3,40}/g,label:"Direcci\xf3n de residencia:",placeholder:"Escribe la direcci\xf3n",queryParams:{form:"personal_address"},errors:[{pattern:/[^a-zA-Z ]{1,30}/g,message:"Solo se permiten letras..."}]}},surname:{uiName:"Apellidos completos",key:"surname",uiType:"text",settings:{defaultMessage:"Tus apellidos deben coincidir con los de tu documento de identidad.",successPattern:/[a-zA-Z ]{3,40}/g,label:"Apellidos completos:",placeholder:"Ej: Sanchez buitrago",queryParams:{form:"personal_surnames"},errors:[{pattern:/[^a-zA-Z ]{1,30}/g,message:"Solo se permiten letras..."}]}},name:{uiName:"Nombres completos",key:"name",uiType:"text",settings:{defaultMessage:"Los nombres deben coincidir con los de tu documento de identidad",successPattern:/[a-zA-Z ]{3,40}/g,label:"Nombres completos (sin apellidos):",placeholder:"Ej: Juan jos\xe9 ",queryParams:{form:"personal_names"},errors:[{pattern:/[^a-zA-Z ]{1,30}/g,message:"Solo se permiten letras..."}],AuxComponent:null,MainComponent:null}},nationality:{uiName:"Nacionalidad del documento:",key:"nationality",uiType:"select",settings:{defaultMessage:"Selecciona la nacionalidad de tu documento de identidad",successPattern:/[a-zA-Z _]{1,40}/g,errors:[{pattern:/[^a-zA-Z _]{1,30}/g,message:"Solo se permiten letras..."}],label:"Nacionalidad del documento:",placeholder:"Ej: pasaporte",queryParams:{form:"personal_country"}}},country:{uiName:"Pa\xeds",key:"country",uiType:"select",selectList:{},settings:{defaultMessage:"Elige el pa\xeds desde el que operar\xe1s tu cuenta",successPattern:/[a-zA-Z _]{1,40}/g,errors:[{pattern:/[^a-zA-Z _]{1,30}/g,message:"Solo se permiten letras..."}],label:"Pa\xeds de operaci\xf3n:",placeholder:"Ej: Juan jos\xe9 ",queryParams:{form:"personal_country"},auxComponent:null,mainComponent:null}},birthday:{uiName:"Fecha de nacimiento",key:"birthday",uiType:"date",settings:{defaultMessage:"Ingresa t\xfa fecha de nacimiento (D\xeda / Mes / A\xf1o)",props:{min:"1930-01-01",max:"2003-12-31",pattern:"[0-9]{2}-[0-9]{2}-[0-9]{4}"},queryParams:{form:"personal_birthday"}}},id_number:{uiName:"N\xfamero de documento",key:"id_number",uiType:"text",settings:{defaultMessage:"Dig\xedta tu n\xfamero de documento",successPattern:{pasaporte:/[0-9A-Z]{5,15}/g,others:/[0-9]{5,15}/g},label:"N\xfamero de documento",placeholder:"D\xedgita el n\xfamero del documento que eleg\xedste",queryParams:{form:"personal_number_id"},errors:{pasaporte:[{pattern:/[^0-9A-Z]/g,message:"Solo se permiten valores alfanum\xe9ricos..."}],others:[{pattern:/[^0-9]/g,message:"Solo se permiten valores n\xfamericos..."}]},mainComponent:null}},phone:{uiName:"N\xfamero de celular",key:"phone",uiType:"text",settings:{defaultMessage:"Dig\xedta tu n\xfamero de celular",successPattern:/[0-9]{5,40}/g,label:"N\xfamero de celular:",queryParams:{form:"personal_phone"},errors:[{pattern:/[^0-9]/g,message:"Solo se permiten N\xfameros..."}],auxComponent:"personalKycComponent/countryPrefix",mainComponent:null}}}}},452:function(e,n,o){"use strict";o.r(n),o.d(n,"ONBOARDING_COMPONENTS",(function(){return a})),o.d(n,"ONBOARDING_STAGES",(function(){return s})),o.d(n,"ApiGetOnBoardingStages",(function(){return r}));const t={firstStage:{},secondStage:{},thirdStage:{}},a={successStage:{onBoarding:{component:"biometricKycSuccess"}},wrapperComponent:{onBoarding:"onBoardingComponent"}},s={onBoarding:t},r=async()=>t},453:function(e,n,o){"use strict";o.r(n),o.d(n,"ApiGetBiometricStages",(function(){return a})),o.d(n,"BIOMETRIC_COMPONENTS",(function(){return s})),o.d(n,"BIOMETRIC_STAGES",(function(){return r}));var t=o(50);const a=async()=>{let e={};const n=await t.a.getUserBiometric();if(n){for(const o in n.challenge)e={...e,[o]:{key:o,solved:n.solved,biometricId:n.id,ui_type:"img",ui_name:"smile"===o?"Sonr\xede":"Abre la boca y levanta las cejas"}};return e}},s={wrapperComponent:{biometric:"biometricKycComponent"}},r={biometric:{}}},455:function(e,n,o){"use strict";o.d(n,"b",(function(){return p})),o.d(n,"a",(function(){return d})),o.d(n,"d",(function(){return y})),o.d(n,"c",(function(){return b}));var t=o(456),a=o(452),s=o(450),r=o(453);let i={...r.BIOMETRIC_STAGES,...s.PERSONAL_STAGES,...a.ONBOARDING_STAGES};const c={...s.PERSONAL_DEFAULT_STATE},l={},m={...r.BIOMETRIC_COMPONENTS.wrapperComponent,...s.PERSONAL_COMPONENTS.wrapperComponent,...a.ONBOARDING_COMPONENTS.wrapperComponent};var u=e=>({wrapperComponent:m[e],handleError:l[e],successStage:null,defaultState:c[e],stages:i[e]});const p=e=>Object.entries(e).map(((e,n)=>{let o="".concat(n<1?"?":"&");return"".concat(o).concat(e[0],"=").concat(e[1])})).join(""),d=e=>{let n={};const o={...e.stages,...null===e||void 0===e?void 0:e.defaultState};return Object.keys(o).map((o=>{var t,a;if(n[o]=(null===e||void 0===e?void 0:e.defaultState)?null===e||void 0===e?void 0:e.defaultState[o]:"",(null===e||void 0===e||null===(t=e.handleError)||void 0===t?void 0:t.errors)&&(null===e||void 0===e||null===(a=e.handleError)||void 0===a?void 0:a.errors[o]))return n[o]=""})),n},y=(e,n)=>{const o=document.querySelector(e);if(!o)return!1;o.innerHTML=n,o.style.color="red"},C=(e,n,o)=>{let t={...e},a={};return t.uiName=t.ui_name,t.uiType=t.ui_type,delete t.ui_name,delete t.ui_type,Object.keys(t).map((async s=>{if(a={key:o,...a,...n,[s]:t[s]},"select"===a[s]){let n=e;"nationality"===a.key&&(n=await g()),a.selectList=(e=>{let n={...e};return delete n.ui_name,delete n.ui_type,Object.keys(n).map((e=>{var o,t,a,s,r,i;n[e].uiName=(null===(o=n[e])||void 0===o?void 0:o.ui_name)||(null===(t=n[e])||void 0===t?void 0:t.name),n[e].value=e,null===(a=n[e])||void 0===a||delete a.ui_name,null===(s=n[e])||void 0===s||delete s.name,null===(r=n[e])||void 0===r||delete r.id,null===(i=n[e])||void 0===i||delete i.code})),n})(n)}})),a},g=async()=>{const e=await fetch("".concat(t.a,"/api/countrys")),n=await e.json();if(!n)return;let o={};for(const a of n)a.code=a.code.split(" ").join("_"),a.currencySymbol=a.currency_symbol,delete a.currency_symbol,o={...o,[a.code]:{...a,flag:"".concat(t.a).concat(a.flag)}};return o},f={biometric:r.ApiGetBiometricStages,onBoarding:a.ApiGetOnBoardingStages,personal:s.ApiGetPersonalStages},b=async e=>{const n=await f[e.formName](e);if(!n)return;const o=Object.keys(n);let t={};for(const s of o){var a;t={...t,[s]:C(n[s],null===(a=u(e.formName))||void 0===a?void 0:a.stages[s],s)}}return{...u(e.formName),stages:t}}},456:function(e,n,o){"use strict";o.d(n,"b",(function(){return t})),o.d(n,"a",(function(){return a}));const t="#00ffc4",a="https://info.bitsenda.com"},476:function(e,n,o){"use strict";var t=o(2),a=o(477),s=o(4),r=o(455),i=(o(510),o(511),o(1));n.a=e=>{var n,c;let{handleDataForm:l,...m}=e;const u=Object(s.a)((()=>o(512)("./".concat(l.dataForm.wrapperComponent||"personalKycComponent","/skeleton")))),[p,d]=Object(t.useState)();return Object(t.useEffect)((()=>{d(Object(r.a)(l.dataForm))}),[null===l||void 0===l||null===(n=l.dataForm)||void 0===n?void 0:n.wrapperComponent]),Object(i.jsx)(a.default,{component:null===l||void 0===l||null===(c=l.dataForm)||void 0===c?void 0:c.wrapperComponent,Fallback:()=>Object(i.jsx)(u,{}),handleDataForm:l,handleState:{setState:d,state:p},...m})}},477:function(e,n,o){"use strict";o.r(n);var t=o(2),a=o(1);n.default=e=>{let{component:n,Fallback:s,...r}=e;const[i,c]=Object(t.useState)();return Object(t.useEffect)((()=>{(async()=>{if(!n)return;const e=await o(509)("./".concat(n));c(e)})()}),[n]),s&&!i?Object(a.jsx)(s,{}):Object(a.jsx)(a.Fragment,{children:i&&Object(a.jsx)(i.default,{...r})})}},493:function(e,n,o){"use strict";o.r(n);var t=o(2),a=o(476),s=o(455),r=o(1);n.default=e=>{const[n,o]=Object(t.useState)();return Object(t.useEffect)((()=>{(async()=>{const e=await Object(s.c)({formName:"onBoarding"});o(e)})()}),[]),Object(r.jsx)(r.Fragment,{children:n?Object(r.jsx)(a.a,{handleDataForm:{dataForm:n,setDataForm:o}}):Object(r.jsx)("p",{children:"Cargando..."})})}},509:function(e,n,o){var t={"./biometricKycComponent":[466,9,1,6,7],"./biometricKycComponent/":[466,9,1,6,7],"./biometricKycComponent/api":[453,9],"./biometricKycComponent/api.js":[453,9],"./biometricKycComponent/biometricStatus":[482,9,1,43],"./biometricKycComponent/biometricStatus.js":[482,9,1,43],"./biometricKycComponent/captures":[483,9,44],"./biometricKycComponent/captures.js":[483,9,44],"./biometricKycComponent/continueFromMobile":[484,9,3,36],"./biometricKycComponent/continueFromMobile.js":[484,9,3,36],"./biometricKycComponent/index":[466,9,1,6,7],"./biometricKycComponent/index.js":[466,9,1,6,7],"./biometricKycComponent/init":[480,9,1,35],"./biometricKycComponent/init.js":[480,9,1,35],"./biometricKycComponent/onBoardingAgreement":[507,9,3,34],"./biometricKycComponent/onBoardingAgreement.js":[507,9,3,34],"./biometricKycComponent/scanner":[485,9,45],"./biometricKycComponent/scanner.js":[485,9,45],"./biometricKycComponent/skeleton":[474,9,21],"./biometricKycComponent/skeleton.js":[474,9,21],"./biometricKycComponent/styles":[454,9,46],"./biometricKycComponent/styles.css":[527,7,91],"./biometricKycComponent/styles.js":[454,9,46],"./biometricKycComponent/success":[503,9,25],"./biometricKycComponent/success.js":[503,9,25],"./biometricKycComponent/utils":[472,9,47],"./biometricKycComponent/utils.js":[472,9,47],"./biometricKycComponent/validations":[486,9,37],"./biometricKycComponent/validations.js":[486,9,37],"./identityKycComponent/success":[497,9,26],"./identityKycComponent/success.js":[497,9,26],"./infoPanel":[460,9,13],"./infoPanel/":[460,9,13],"./infoPanel/index":[460,9,13],"./infoPanel/index.js":[460,9,13],"./layout":[443,9,12],"./layout/":[443,9,12],"./layout/index":[443,9,12],"./layout/index.js":[443,9,12],"./layout/styles":[446,9,48],"./layout/styles.js":[446,9,48],"./onBoardingComponent":[461,9,1,8],"./onBoardingComponent/":[461,9,1,8],"./onBoardingComponent/api":[452,9],"./onBoardingComponent/api.js":[452,9],"./onBoardingComponent/assets/hand.png":[528,9,131],"./onBoardingComponent/assets/isoType.png":[529,9,132],"./onBoardingComponent/assets/nerdFace.png":[530,9,133],"./onBoardingComponent/assets/party.png":[531,9,134],"./onBoardingComponent/firstStage":[504,9,30],"./onBoardingComponent/firstStage.js":[504,9,30],"./onBoardingComponent/index":[461,9,1,8],"./onBoardingComponent/index.js":[461,9,1,8],"./onBoardingComponent/init":[493,9,49],"./onBoardingComponent/init.js":[493,9,49],"./onBoardingComponent/secondStage":[505,9,31],"./onBoardingComponent/secondStage.js":[505,9,31],"./onBoardingComponent/skeleton":[475,9,22],"./onBoardingComponent/skeleton.js":[475,9,22],"./onBoardingComponent/thirdStage":[506,9,32],"./onBoardingComponent/thirdStage.js":[506,9,32],"./onBoardingComponent/utils":[470,9,50],"./onBoardingComponent/utils.js":[470,9,50],"./onBoardingComponent/validations":[498,7,23],"./onBoardingComponent/validations.js":[498,7,23],"./personalKycComponent":[464,9,2,5,9],"./personalKycComponent/":[464,9,2,5,9],"./personalKycComponent/api":[450,9],"./personalKycComponent/api.js":[450,9],"./personalKycComponent/buttons":[487,9,2,38],"./personalKycComponent/buttons.js":[487,9,2,38],"./personalKycComponent/const":[462,9,51],"./personalKycComponent/const.js":[462,9,51],"./personalKycComponent/countryPrefix":[463,9,14,10],"./personalKycComponent/countryPrefix/":[463,9,14,10],"./personalKycComponent/countryPrefix/index":[463,9,14,10],"./personalKycComponent/countryPrefix/index.js":[463,9,14,10],"./personalKycComponent/countryPrefix/methods":[489,9,52],"./personalKycComponent/countryPrefix/methods.js":[489,9,52],"./personalKycComponent/countryPrefix/styles":[488,9,53],"./personalKycComponent/countryPrefix/styles.js":[488,9,53],"./personalKycComponent/index":[464,9,2,5,9],"./personalKycComponent/index.js":[464,9,2,5,9],"./personalKycComponent/init":[478,9,1,28],"./personalKycComponent/init.js":[478,9,1,28],"./personalKycComponent/input":[490,9,33],"./personalKycComponent/input.js":[490,9,33],"./personalKycComponent/labelComponent":[491,9,40],"./personalKycComponent/labelComponent.js":[491,9,40],"./personalKycComponent/selectList":[467,9,11],"./personalKycComponent/selectList/":[467,9,11],"./personalKycComponent/selectList/index":[467,9,11],"./personalKycComponent/selectList/index.js":[467,9,11],"./personalKycComponent/selectList/itemList":[492,9,41],"./personalKycComponent/selectList/itemList.js":[492,9,41],"./personalKycComponent/selectList/styles":[473,9,54],"./personalKycComponent/selectList/styles.js":[473,9,54],"./personalKycComponent/skeleton":[451,9,17],"./personalKycComponent/skeleton.js":[451,9,17],"./personalKycComponent/styles":[444,9,55],"./personalKycComponent/styles.js":[444,9,55],"./personalKycComponent/success":[499,9,5],"./personalKycComponent/success.js":[499,9,5],"./personalKycComponent/utils":[465,9,39],"./personalKycComponent/utils.js":[465,9,39],"./personalKycComponent/validations":[479,9,18],"./personalKycComponent/validations.js":[479,9,18],"./sharedStyles":[447,9,56],"./sharedStyles.js":[447,9,56],"./success/confetti":[457,9,42],"./success/confetti.js":[457,9,42],"./success/icons":[458,9,57],"./success/icons.js":[458,9,57],"./success/styles":[459,9,58],"./success/styles.js":[459,9,58]};function a(e){if(!o.o(t,e))return Promise.resolve().then((function(){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}));var n=t[e],a=n[0];return Promise.all(n.slice(2).map(o.e)).then((function(){return o.t(a,n[1])}))}a.keys=function(){return Object.keys(t)},a.id=509,e.exports=a},510:function(e,n,o){},511:function(e,n,o){},512:function(e,n,o){var t={"./biometricKycComponent/skeleton":[474,21],"./onBoardingComponent/skeleton":[475,22],"./personalKycComponent/skeleton":[451,17]};function a(e){if(!o.o(t,e))return Promise.resolve().then((function(){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}));var n=t[e],a=n[0];return o.e(n[1]).then((function(){return o(a)}))}a.keys=function(){return Object.keys(t)},a.id=512,e.exports=a}}]);
//# sourceMappingURL=72.87590b8c.chunk.js.map